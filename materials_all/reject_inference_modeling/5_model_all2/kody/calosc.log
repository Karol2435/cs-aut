1                                        The SAS System          08:20 Saturday, January 25, 2014

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2002-2008 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.2 (TS2M3) 
      Licensed to SZKOLA GLOWNA HANDLOWA, Site 52701551.
NOTE: This session is executing on the W32_VSPRO  platform.



NOTE: SAS initialization used:
      real time           1.17 seconds
      cpu time            0.88 seconds
      
1          /*  (c) Karol Przanowski   */
2          /*    kprzan@sgh.waw.pl    */
3          
4          %let
4        ! prefix_dir=c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_mo
4        ! del_all2\;
5          %let em_nodedir=&prefix_dir.modele\;
6          
7          %let em_import_data=abt.train_woe;
8          %let em_import_validate=abt.valid_woe;
9          
10         %let em_lib=wyj;
11         
12         /*definicje zbiorów traningowego i walidacyjnego*/
13         %let zb=abt.train;
14         %let zb_v=abt.valid;
15         %let zb_vg=;
16         
17         /*definicja zmiennych*/
18         %let em_data_variableset=wyj.Zmienne_definicja;
19         
20         /*zmienna ze scorami*/
21         %let zm=SCORECARD_POINTS;
22         /*zmienna z defaultem*/
23         /*%let porz_tar=descending; dla response*/
24         %let porz_tar=;
25         /*dla risk*/
26         %let tar=default12new;
27         
28         %let nr_mod=1;
29         %let the_best_model=1;
30         
31         libname abt "&prefix_dir.abt" compress=yes;
NOTE: Libref ABT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\abt
32         libname wyj "&prefix_dir.wyj";
NOTE: Libref WYJ was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
33         
34         libname modele "&prefix_dir.modele";
NOTE: Libref MODELE was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\modele
35         libname freq "&prefix_dir.freq";
NOTE: Libref FREQ was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\freq
36         libname adj "&prefix_dir.adj";
NOTE: Libref ADJ was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
2                                        The SAS System          08:20 Saturday, January 25, 2014

      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\adj
37         
38         libname inlib
38       ! "c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\2_analizy\data
38       ! \" compress=yes;
NOTE: Libref INLIB was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\2_analizy\data
39         
40         %macro power(dataset,variable,default);
41         	data power;
42         		powerpercent=.;
43         	run;
44         
45         	proc sort data=&dataset(keep=&default &variable) out=pow_tmp1;
46         		by &variable;
47         	run;
48         
49         	data pow_tmp2 / view=pow_tmp2;
50         		set pow_tmp1;
51         		integd+&default;
52         		integpcurve+integd;
53         		count+1;
54         	run;
55         
56         	/*wersja Karola*/
57         	data power;
58         	    retain first;
59         		set pow_tmp2 end=e;
60         		if e;
61         		powerabs=integpcurve-integd/2;
62         		powerden=integd*(count-integd)/2;
63         		powerpercent=(powerabs-count*integd/2)/powerden;
64         		format powerpercent percent10.2;
65         	run;
66         %mend power;
67         
68         %macro powerc(dataset,variable,default);
69         	data power;
70         		powerpercent=.;
71         	run;
72         	data powertable;
73         		set &dataset(keep=&variable &default);
74         		crit=-&variable;
75         	run;
76         	proc rank data=powertable out=tmp1 ties=high descending;
77         		var crit;
78         		ranks rang;
79         	run;
80         
81         	proc sql;
82         		create table tmp2 as
83         		select
84         			rang,
85         			sum(&default) as defaults,
86         			count(*) as nobs
87         		from tmp1
88         		group by rang;
89         	quit;
90         
91         	data tmp3;
92         		set tmp2;
93         		cumdef+defaults;
94         	run;
95         
96         	data power;
97         		set tmp3 end=e;
98         		format powerpercent percent5.2;
99         		powerabs+nobs*defaults/2+(cumdef-defaults)*nobs;
3                                        The SAS System          08:20 Saturday, January 25, 2014

100        		powerden=cumdef*cumdef/2+cumdef*(rang-cumdef)-rang*cumdef/2;
101        		powerpercent=(powerabs-rang*cumdef/2)/powerden;
102        		if _error_=1 then _error_=0;
103        		if e;
104        	run;
105        %mend powerc;
106        
107        
108        
109        %macro dodatkowe_zmienne;
110        outstanding=app_loan_amount;
111        credit_limit=app_loan_amount;
112        waga=0.01;
113        
114        %mend;
115        
116        %let kat_kody=&prefix_dir.kody\;
117        
118        %let in_abt=inlib.abt_score;
119        %let prop=0.5;
120        
121        /*%let in_abt=inlib.abt_beh;*/
122        /*%let prop=0.04;*/
123        
124        /**/
125        /*%let prop=2;*/
126        /*%let prop=0.02;*/
127        /*%let prop=0.25;*/
128        /*%let prop=0.08;*/
129        
130        %include "&kat_kody.train_valid.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\tr
      ain_valid.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\tr
      ain_valid.sas.
131       +/*  (c) Karol Przanowski   */
132       +/*    kprzan@sgh.waw.pl    */
133       +
134       +
135       +
136       +/*proc sql noprint;*/
137       +/*select 'inlib.'||memname into :sets separated by " " */
138       +/*from dictionary.tables where*/
139       +/*libname=upcase("INLIB") and (memname like "ABT_1%" */
140       +/*or memname like "ABT_2%"); */
141       +/*quit; */
142       +%let sets=&in_abt;
143       +%put &sets;
inlib.abt_score
144       +
145       +data abt.train abt.valid;
146       +	set &sets;
147       +
148       +%dodatkowe_zmienne;
149       +/*output*/
150       +	if &tar in (0,1,.i,.d) and ranuni(1)<&prop
151       +	then do;
152       +		if ranuni(1)<0.4 then output abt.valid;
153       +		else output abt.train;
154       +	end;
155       +	if _error_ then _error_=0;
156       +
157       +keep default: outstanding credit_limit cid aid period waga
158       +ACT_CC
159       +ACT_CINS_MIN_SENIORITY
160       +ACT_CINS_N_STATC
161       +APP_CHAR_JOB_CODE
162       +APP_CHAR_MARITAL_STATUS
163       +APP_LOAN_AMOUNT
4                                        The SAS System          08:20 Saturday, January 25, 2014

164       +APP_NUMBER_OF_CHILDREN
165       +;
166       +
167       +
168       +
169       +
170       +/*	keep */
171       +/*	&tar aid cid outstanding period */
172       +/*	default:*/
173       +/*	app: agr: ags: act:*/
174       +/*;*/
175       +run;

NOTE: There were 4359900 observations read from the data set INLIB.ABT_SCORE.
NOTE: The data set ABT.TRAIN has 1308784 observations and 22 variables.
NOTE: Compressing data set ABT.TRAIN decreased size by 35.47 percent. 
      Compressed is 13407 pages; un-compressed would require 20775 pages.
NOTE: The data set ABT.VALID has 872745 observations and 22 variables.
NOTE: Compressing data set ABT.VALID decreased size by 35.46 percent. 
      Compressed is 8942 pages; un-compressed would require 13854 pages.
NOTE: DATA statement used (Total process time):
      real time           3:37.44
      cpu time            2:24.94
      

176       +
177       +
NOTE: %INCLUDE (level 1) ending.
178        
179        proc sql;
180        create table inlib.labels as
181        select name, label from dictionary.columns
182        where libname='ABT' and memname='TRAIN';
NOTE: Compressing data set INLIB.LABELS increased size by 100.00 percent. 
      Compressed is 2 pages; un-compressed would require 1 pages.
NOTE: Table INLIB.LABELS created, with 22 rows and 2 columns.

183        quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.32 seconds
      cpu time            0.07 seconds
      

184        
185        
186        %include "&kat_kody.definicja_zmiennych.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\de
      finicja_zmiennych.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\de
      finicja_zmiennych.sas.
187       +/*  (c) Karol Przanowski   */
188       +/*    kprzan@sgh.waw.pl    */
189       +
190       +
191       +%let zb=abt.train;
192       +
193       +/*definicja zmiennych*/
194       +proc sql noprint;
195       +	create table wyj.zmienne_definicja as
196       +	select
197       +			name as zmienna,
198       +			'int' as typ,
199       +			'y' as wer
200       +	from dictionary.columns
201       +	where
202       +		libname=upcase("%scan(&zb,1,.)")
203       +		and memname=upcase("%scan(&zb,2,.)")
204       +		and
205       +		(
5                                        The SAS System          08:20 Saturday, January 25, 2014

206       +		    upcase(name) like 'AGR%'
207       +		 or upcase(name) like 'ACT%'
208       +		 or upcase(name) like 'AGS%'
209       +		 or upcase(name) like 'APP%')
210       +		and  type='num'
211       +		;
NOTE: Table WYJ.ZMIENNE_DEFINICJA created, with 5 rows and 3 columns.

212       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

213       +
214       +proc sql noprint;
215       +	create table nom as
216       +	select
217       +		name as zmienna,
218       +		'nom' as typ,
219       +		'y' as wer
220       +	from dictionary.columns
221       +	where
222       +		libname=upcase("%scan(&zb,1,.)")
223       +		and memname=upcase("%scan(&zb,2,.)")
224       +		and (upcase(name) like 'APP%'
225       +		  or upcase(name) like 'AGR%'
226       +		  or upcase(name) like 'AGS%'
227       +		  or upcase(name) like 'ACT%')
228       +		and  type='char';
NOTE: Table WORK.NOM created, with 2 rows and 3 columns.

229       +
230       +	select zmienna
231       +	into :zm separated by ' '
232       +	from nom;
233       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

234       +%let il=&sqlobs;
235       +%put &il***&zm;
2***app_char_job_code app_char_marital_status
236       +
237       +%macro licz;
238       +	data uni;
239       +		length zmienna $32 il 8;
240       +		delete;
241       +	run;
242       +
243       +	%do i=1 %to &il;
244       +		%let z=%scan(&zm,&i,%str( ));
245       +		proc sql;
246       +			insert into uni
247       +			select "&z" as zmienna, count(distinct &z) as il
248       +			from &zb;
249       +		quit;
250       +	%end;
251       +%mend;
252       +%licz;

NOTE: Variable zmienna is uninitialized.
NOTE: Variable il is uninitialized.
NOTE: The data set WORK.UNI has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      
6                                        The SAS System          08:20 Saturday, January 25, 2014


NOTE: 1 row was inserted into WORK.UNI.

NOTE: PROCEDURE SQL used (Total process time):
      real time           3.65 seconds
      cpu time            3.58 seconds
      

NOTE: 1 row was inserted into WORK.UNI.

NOTE: PROCEDURE SQL used (Total process time):
      real time           3.49 seconds
      cpu time            3.49 seconds
      

253       +
254       +proc sql;
255       +	insert into wyj.zmienne_definicja
256       +	select
257       +		zmienna,
258       +		'nom' as typ,
259       +		'y' as wer
260       +	from uni
261       +/*	where il>=2*/
262       +	where il<=200 and il>=2
263       +	;
NOTE: 2 rows were inserted into WYJ.ZMIENNE_DEFINICJA.

264       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

265       +
266       +proc sort data=wyj.zmienne_definicja;
267       +by zmienna;
268       +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
NOTE: The data set WYJ.ZMIENNE_DEFINICJA has 7 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) ending.
269        
270        
271        /*maksymalna liczba podzia³ów minus 1*/
272        %let max_il_podz=5;
273        /*minimalna liczba obs w liœciu*/
274        %let min_percent=3;
275        %include "&kat_kody.sklejanie_jakosciowych.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\sk
      lejanie_jakosciowych.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\sk
      lejanie_jakosciowych.sas.
276       +/*  (c) Karol Przanowski   */
277       +/*    kprzan@sgh.waw.pl    */
278       +
279       +
280       +
281       +libname t (wyj);
NOTE: Libref T was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
7                                        The SAS System          08:20 Saturday, January 25, 2014

282       +%let kat=%sysfunc(pathname(wyj));
283       +%put &kat;
c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
284       +
285       +
286       +proc sql noprint;
287       +select upcase(zmienna) into :zm_do_sklejenia separated by ' '
288       +from &em_data_variableset where typ in ('nom');
289       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

290       +%let il_zm=&sqlobs;
291       +
292       +
293       +
294       +%put ***&il_zm***&zm_do_sklejenia;
***2***APP_CHAR_JOB_CODE APP_CHAR_MARITAL_STATUS
295       +
296       +
297       +
298       +data _null_;
299       +set &zb(obs=1) nobs=il;
300       +min_il=int(&min_percent*il/100);
301       +call symput('min_il',trim(put(min_il,best12.-L)));
302       +run;

NOTE: There were 1 observations read from the data set ABT.TRAIN.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

303       +%put &min_il;
39263
304       +/*%let min_il=2000;*/
305       +
306       +data t.podzialy_nom_sklejane;
307       +length zmienna $32 war $300 grp 8;
308       +delete;
309       +run;

NOTE: Variable zmienna is uninitialized.
NOTE: Variable war is uninitialized.
NOTE: Variable grp is uninitialized.
NOTE: The data set T.PODZIALY_NOM_SKLEJANE has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

310       +
311       +
312       +
313       +%macro sklejaj;
314       +%do nr_zm=1 %to &il_zm;
315       +%let zm=%upcase(%scan(&zm_do_sklejenia,&nr_zm,%str( )));
316       +%put &zm;
317       +
318       +proc means data=&zb nway noprint;
319       +var &tar;
320       +class &zm;
321       +output out=br(where=(_freq_ > &min_il)) mean()=br;
322       +run;
323       +
324       +proc cluster data=br method=ward outtree=tr noprint;
325       +id &zm;
326       +run;
8                                        The SAS System          08:20 Saturday, January 25, 2014

327       +
328       +proc tree noprint data=tr out=podz nclusters=&max_il_podz;
329       +id &zm;
330       +run;
331       +
332       +proc sql noprint;
333       +select max(CLUSTER) into :il_podz from podz;
334       +quit;
335       +%put &il_podz;
336       +
337       +%macro koduj;
338       +%put &zb***&zm;
339       +proc sql noprint;
340       +select upcase(type) into :typ from dictionary.columns where
341       +upcase(libname)="%upcase(%scan(&zb,1,.))"
342       +and upcase(memname)="%upcase(%scan(&zb,2,.))"
343       +and upcase(name)="%upcase(&zm)";
344       +quit;
345       +%put &typ;
346       +
347       +%do i=1 %to &il_podz;
348       +	%if &typ=CHAR %then %do;
349       +		proc sql noprint;
350       +		select "'"||trim(&zm)||"'" into :cl&i separated by ',' from podz
351       +		where cluster=&i;
352       +		quit;
353       +	%end; %else %do;
354       +		proc sql noprint;
355       +		select &zm into :cl&i separated by ',' from podz
356       +		where cluster=&i;
357       +		quit;
358       +	%end;
359       +%put &&cl&i;
360       +%end;
361       +
362       +data podz_nom;
363       +length zmienna $32 war $300;
364       +%do i=1 %to &il_podz;
365       +war="when (&&cl&i)";
366       +grp=&i;
367       +zmienna="&zm";
368       +output;
369       +%end;
370       +/*war="otherwise";*/
371       +/*grp=&miss;*/
372       +/*zmienna="&zm";*/
373       +/*output;*/
374       +run;
375       +%mend;
376       +
377       +%koduj;
378       +
379       +proc append base=t.podzialy_nom_sklejane data=podz_nom;
380       +run;
381       +%end;
382       +%mend;
383       +
384       +%sklejaj;
APP_CHAR_JOB_CODE

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.BR has 4 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           3.16 seconds
      cpu time            4.21 seconds
      


NOTE: The data set WORK.TR has 7 observations and 19 variables.
NOTE: PROCEDURE CLUSTER used (Total process time):
9                                        The SAS System          08:20 Saturday, January 25, 2014

      real time           0.40 seconds
      cpu time            0.18 seconds
      


NOTE: The data set WORK.PODZ has 4 observations and 3 variables.
NOTE: PROCEDURE TREE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4
abt.train***APP_CHAR_JOB_CODE
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

CHAR
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Owner company'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Retired'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Permanent'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Contract'

NOTE: The data set WORK.PODZ_NOM has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.PODZ_NOM to T.PODZIALY_NOM_SKLEJANE.
NOTE: There were 4 observations read from the data set WORK.PODZ_NOM.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY_NOM_SKLEJANE has 4 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

APP_CHAR_MARITAL_STATUS

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.BR has 4 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
10                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           3.21 seconds
      cpu time            4.22 seconds
      


NOTE: The data set WORK.TR has 7 observations and 19 variables.
NOTE: PROCEDURE CLUSTER used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.PODZ has 4 observations and 3 variables.
NOTE: PROCEDURE TREE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4
abt.train***APP_CHAR_MARITAL_STATUS
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

CHAR
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Maried'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Widowed'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Divorced'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Singiel'

NOTE: The data set WORK.PODZ_NOM has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.PODZ_NOM to T.PODZIALY_NOM_SKLEJANE.
NOTE: There were 4 observations read from the data set WORK.PODZ_NOM.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY_NOM_SKLEJANE has 8 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
11                                       The SAS System          08:20 Saturday, January 25, 2014

      

385       +
386       +
387       +data t.podzialy_nom_sklejane;
388       +set t.podzialy_nom_sklejane;
389       +where war not like '%&cl%';
390       +run;

NOTE: There were 8 observations read from the data set T.PODZIALY_NOM_SKLEJANE.
      WHERE war not like '%&cl%';
NOTE: The data set T.PODZIALY_NOM_SKLEJANE has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      

391       +
NOTE: %INCLUDE (level 1) ending.
392        
393        %let min_percent=3;
394        %include "&kat_kody.podzialy_bez_sklejania.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\po
      dzialy_bez_sklejania.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\po
      dzialy_bez_sklejania.sas.
395       +/*  (c) Karol Przanowski   */
396       +/*    kprzan@sgh.waw.pl    */
397       +
398       +
399       +
400       +
401       +libname t (wyj);
NOTE: Libref T was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
402       +
403       +proc sql noprint;
404       +	select
405       +		upcase(zmienna)
406       +		into :zm_bez_sklejenia separated by ' '
407       +	from &em_data_variableset
408       +	where typ in ('nom');
409       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

410       +%let il_zm=&sqlobs;
411       +
412       +%put ***&il_zm***&zm_bez_sklejenia;
***2***APP_CHAR_JOB_CODE APP_CHAR_MARITAL_STATUS
413       +
414       +/*minimalna liczba obs w liœciu*/
415       +data _null_;
416       +	set &zb(obs=1) nobs=il;
417       +	min_il=int(&min_percent*il/100);
418       +	call symput('min_il',trim(put(min_il,best12.-L)));
419       +run;

NOTE: There were 1 observations read from the data set ABT.TRAIN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12                                       The SAS System          08:20 Saturday, January 25, 2014

420       +%put &min_il;
39263
421       +/*%let min_il=2000;*/
422       +
423       +data t.podzialy_nom;
424       +	length zmienna $32 war $300 grp 8;
425       +	delete;
426       +run;

NOTE: Variable zmienna is uninitialized.
NOTE: Variable war is uninitialized.
NOTE: Variable grp is uninitialized.
NOTE: The data set T.PODZIALY_NOM has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

427       +
428       +%macro sklejaj;
429       +	%do nr_zm=1 %to &il_zm;
430       +		%let zm=%upcase(%scan(&zm_bez_sklejenia,&nr_zm,%str( )));
431       +		%put &zm;
432       +
433       +		proc means data=&zb nway noprint;
434       +			var &tar;
435       +			class &zm;
436       +			output out=br(where=(_freq_ > &min_il)) mean()=br;
437       +		run;
438       +
439       +		data podz;
440       +			set br end=e;
441       +			cluster=_n_;
442       +			if e then call symput('il_podz',put(_n_,best12.-L));
443       +		run;
444       +
445       +		%put &il_podz;
446       +
447       +		%macro koduj;
448       +			%put &zb***&zm;
449       +			proc sql noprint;
450       +				select upcase(type)
451       +				into :typ
452       +				from dictionary.columns
453       +				where
454       +					upcase(libname)="%upcase(%scan(&zb,1,.))"
455       +					and upcase(memname)="%upcase(%scan(&zb,2,.))"
456       +					and upcase(name)="%upcase(&zm)";
457       +			quit;
458       +			%put &typ;
459       +
460       +			%do i=1 %to &il_podz;
461       +				%if &typ=CHAR %then %do;
462       +					proc sql noprint;
463       +					select "'"||trim(&zm)||"'"
464       +					into :cl&i separated by ','
465       +					from podz
466       +					where cluster=&i;
467       +					quit;
468       +				%end; %else %do;
469       +					proc sql noprint;
470       +						select &zm
471       +						into :cl&i separated by ','
472       +						from podz
473       +						where cluster=&i;
474       +					quit;
475       +				%end;
476       +			%put &&cl&i;
477       +			%end;
478       +
13                                       The SAS System          08:20 Saturday, January 25, 2014

479       +			data podz_nom;
480       +				length zmienna $32 war $300;
481       +				%do i=1 %to &il_podz;
482       +					war="when (&&cl&i)";
483       +					grp=&i;
484       +					zmienna="&zm";
485       +					output;
486       +				%end;
487       +			run;
488       +		%mend koduj;
489       +		%koduj;
490       +
491       +		proc append base=t.podzialy_nom data=podz_nom;
492       +		run;
493       +	%end;
494       +%mend sklejaj;
495       +
496       +%sklejaj;
APP_CHAR_JOB_CODE

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.BR has 4 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           3.13 seconds
      cpu time            4.26 seconds
      

NOTE: There were 4 observations read from the data set WORK.BR.
NOTE: The data set WORK.PODZ has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

4
abt.train***APP_CHAR_JOB_CODE
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

CHAR
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Contract'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Owner company'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Permanent'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Retired'

NOTE: The data set WORK.PODZ_NOM has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
14                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      


NOTE: Appending WORK.PODZ_NOM to T.PODZIALY_NOM.
NOTE: There were 4 observations read from the data set WORK.PODZ_NOM.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY_NOM has 4 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

APP_CHAR_MARITAL_STATUS

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.BR has 4 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           3.08 seconds
      cpu time            4.13 seconds
      

NOTE: There were 4 observations read from the data set WORK.BR.
NOTE: The data set WORK.PODZ has 4 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

4
abt.train***APP_CHAR_MARITAL_STATUS
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

CHAR
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Divorced'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Maried'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

'Singiel'
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

'Widowed'

NOTE: The data set WORK.PODZ_NOM has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.PODZ_NOM to T.PODZIALY_NOM.
15                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 4 observations read from the data set WORK.PODZ_NOM.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY_NOM has 8 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) ending.
497        
498        
499        
500        /*maksymalna liczba podzia³ów minus 1*/
501        %let max_il_podz=5;
502        /*minimalna liczba obs w liœciu*/
503        %let min_percent=3;
504        %include "&kat_kody.tree.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\tr
      ee.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\tr
      ee.sas.
505       +/*  (c) Karol Przanowski   */
506       +/*    kprzan@sgh.waw.pl    */
507       +
508       +
509       +
510       +
511       +libname t (wyj);
NOTE: Libref T was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
512       +%let kat_tree=%sysfunc(pathname(wyj));
513       +%put &kat_tree;
c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
514       +
515       +
516       +proc sql noprint;
517       +	select upcase(zmienna)
518       +	into :zmienne_int_ord separated by ' '
519       +	from &em_data_variableset
520       +	where typ in ('ord','int');
521       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

522       +%let il_zm=&sqlobs;
523       +
524       +
525       +%put ***&il_zm***&zmienne_int_ord;
***5***ACT_CC ACT_CINS_MIN_SENIORITY ACT_CINS_N_STATC APP_LOAN_AMOUNT APP_NUMBER_OF_CHILDREN
526       +
527       +
528       +data _null_;
529       +	set &zb(obs=1 keep=&tar) nobs=il;
530       +	min_il=int(&min_percent*il/100);
531       +	call symput('min_il',trim(put(min_il,best12.-L)));
532       +run;

NOTE: There were 1 observations read from the data set ABT.TRAIN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

533       +%put &min_il;
16                                       The SAS System          08:20 Saturday, January 25, 2014

39263
534       +/*%let min_il=2000;*/
535       +/*kyterium albo h albo g;*/
536       +%let crit=h;
537       +
538       +
539       +
540       +%macro zrob_podz(zm);
541       +	/*obcinanie skrajnych*/
542       +	%let cent=1;
543       +	%let dop=%eval(100-&cent);
544       +
545       +	data zzm;
546       +		set &zb(keep=&tar &zm);
547       +	run;
548       +
549       +	proc means data=zzm nway noprint;
550       +		var &zm;
551       +		output out=cen p&cent=p1 p&dop=p99;
552       +	run;
553       +	data _null_;
554       +		set cen;
555       +		call symput("p1",put(p1,best12.));
556       +		call symput("p99",put(p99,best12.));
557       +	run;
558       +	%put ***&p1***&p99***;
559       +
560       +	proc means data=zzm nway noprint;
561       +		class &zm;
562       +		var &tar;
563       +		output out=t.stat(drop= _freq_ _type_) sum()=sum n()=n;
564       +	run;
565       +
566       +	/*Tu w tym zbiorze bed¹ liœcie*/
567       +	data t.warunki;
568       +		length g_l g_p war $300 zmienna $32;
569       +		g_l='low'; g_p='high'; criterion=0; dzielic=1;nrobs=1;glebokosc=1;
570       +		length  il_jed_at il_at 8;
571       +		war="not missing(&zm)";
572       +		zmienna="&zm";
573       +	run;
574       +
575       +%macro krok(nr_war);
576       +	proc sql noprint;
577       +		select war,criterion
578       +		into :war,:c
579       +		from t.warunki(obs=&nr_war firstobs=&nr_war);
580       +
581       +		%let zb_krok=t.stat(where=(&war));
582       +
583       +		select
584       +			sum(n) as il,
585       +			sum(sum) as il_jed,
586       +			calculated il - calculated il_jed
587       +		into :il,:il_jed,:il_zer
588       +		from &zb_krok;
589       +	quit;
590       +	%put &il;
591       +	%put &war;
592       +	%global jest;
593       +	%let jest=.;
594       +	data krok;
595       +		retain il_zer &il_zer il_jed &il_jed il &il;
596       +		retain max_h max_g -10;
597       +		retain max_h_v max_g_v;
598       +		retain max_g_poww max_g_pon max_h_poww max_h_pon;
599       +		retain
600       +		opt_g_il_jed_poww
601       +		opt_g_il_jed_pon
602       +		opt_g_il_poww
17                                       The SAS System          08:20 Saturday, January 25, 2014

603       +		opt_g_il_pon
604       +
605       +		opt_h_il_jed_poww
606       +		opt_h_il_jed_pon
607       +		opt_h_il_poww
608       +		opt_h_il_pon
609       +		;
610       +
611       +		set &zb_krok end=e;
612       +
613       +		cum_sum+sum;
614       +		cum_n+n;
615       +		il_jed_poww=cum_sum;
616       +		il_jed_pon=il_jed-cum_sum;
617       +		il_zer_poww=cum_n-cum_sum;
618       +		il_zer_pon=il_zer-il_zer_poww;
619       +		il_poww=cum_n;
620       +		il_pon=il-cum_n;
621       +
622       +		g_poww=(1-((il_jed_poww/il_poww)**2+(il_zer_poww/il_poww)**2));
623       +		g_pon=(1-((il_jed_pon/il_pon)**2+(il_zer_pon/il_pon)**2));
624       +		g=1-((il_jed/il)**2+(il_zer/il)**2)
625       +		-g_poww*il_poww/il
626       +		-g_pon*il_pon/il;
627       +
628       +		h_poww=-((il_jed_poww/il_poww)*log2(il_jed_poww/il_poww)+(il_zer_poww/il_poww)*log2(
628      !+il_zer_poww/il_poww));
629       +		h_pon=-((il_jed_pon/il_pon)*log2(il_jed_pon/il_pon)+(il_zer_pon/il_pon)*log2(il_zer_
629      !+pon/il_pon));
630       +		h=-((il_jed/il)*log2(il_jed/il)+(il_zer/il)*log2(il_zer/il))
631       +		-h_poww*il_poww/il
632       +		-h_pon*il_pon/il;
633       +
634       +
635       +		if il_poww<&min_il or il_pon<&min_il then do;
636       +			h=.;
637       +			g=.;
638       +		end;
639       +
640       +
641       +		if h>max_h and h ne . then do;
642       +			max_h=h;
643       +			max_h_v=&zm;
644       +			max_h_poww=h_poww;
645       +			max_h_pon=h_pon;
646       +
647       +			opt_h_il_jed_poww =il_jed_poww ;
648       +			opt_h_il_jed_pon  =il_jed_pon  ;
649       +			opt_h_il_poww     =il_poww     ;
650       +			opt_h_il_pon      =il_pon      ;
651       +
652       +		end;
653       +
654       +		if g>max_g and g ne . then do;
655       +			max_g=g;
656       +			max_g_v=&zm;
657       +			max_g_poww=g_poww;
658       +			max_g_pon=g_pon;
659       +
660       +			opt_g_il_jed_poww =il_jed_poww ;
661       +			opt_g_il_jed_pon  =il_jed_pon  ;
662       +			opt_g_il_poww     =il_poww     ;
663       +			opt_g_il_pon      =il_pon      ;
664       +
665       +		end;
666       +
667       +		if _error_=1 then _error_=0;
668       +
669       +		if e;
670       +
18                                       The SAS System          08:20 Saturday, January 25, 2014

671       +		if max_&crit._v eq . then call symput('jest','.');
672       +		else do;
673       +			if max_&crit._poww>=&c or max_&crit._pon>=&c then call symput('jest','ok');
674       +			else call symput('jest','.');
675       +		end;
676       +		keep max_h_v max_g_v max_g_poww max_g_pon max_h_poww max_h_pon
677       +		opt_g_il_jed_poww
678       +		opt_g_il_jed_pon
679       +		opt_g_il_poww
680       +		opt_g_il_pon
681       +
682       +		opt_h_il_jed_poww
683       +		opt_h_il_jed_pon
684       +		opt_h_il_poww
685       +		opt_h_il_pon
686       +		;
687       +	run;
688       +	%put jest***&jest;
689       +
690       +	%if "&jest" ne "." %then %do;
691       +	/*%if "&jest" ne ".           " %then %do; */
692       +
693       +	data t.warunki;
694       +		length prawy $300;
695       +		obs=&nr_war;
696       +		modify t.warunki point=obs;
697       +		prawy=g_p;
698       +		set krok;
699       +		g_p=put(max_&crit._v,best12.-L);
700       +		criterion=max_&crit._poww;
701       +		if g_l ne 'low' then war=trim(g_l)||" < &zm <= "||trim(g_p);
702       +		else war="not missing(&zm) and &zm <= "||trim(g_p);
703       +		dzielic=1;
704       +		glebokosc=glebokosc/2;
705       +
706       +		il_jed_at=opt_&crit._il_jed_poww;
707       +		il_at=opt_&crit._il_poww;
708       +
709       +		replace;
710       +		g_l=put(max_&crit._v,best12.-L);
711       +		g_p=trim(prawy);
712       +		criterion=max_&crit._pon;
713       +		if g_p ne 'high' then war=trim(g_l)||" < &zm <= "||trim(g_p);
714       +		else war=trim(g_l)||" < &zm ";
715       +		dzielic=1;
716       +		nrobs=nrobs+0.5;
717       +
718       +		il_jed_at=opt_&crit._il_jed_pon;
719       +		il_at=opt_&crit._il_pon;
720       +
721       +		output;
722       +		stop;
723       +	run;
724       +
725       +	proc sort data=t.warunki;
726       +		by nrobs;
727       +	run;
728       +
729       +	data t.warunki;
730       +		modify t.warunki;
731       +		nrobs=_n_;
732       +		replace;
733       +	run;
734       +
735       +	%end; %else %do;
736       +	data t.warunki;
737       +	obs=&nr_war;
738       +	modify t.warunki point=obs;
739       +	dzielic=0;
740       +	replace;
19                                       The SAS System          08:20 Saturday, January 25, 2014

741       +	stop;
742       +	run;
743       +	%end;
744       +
745       +%mend krok;
746       +
747       +%macro podzialy;
748       +	%do i=1 %to &max_il_podz;
749       +
750       +		%let nr_war=pusty;
751       +		proc sql noprint;
752       +			select nrobs
753       +			into :nr_war
754       +			from t.warunki
755       +			where dzielic=1
756       +			order by glebokosc desc, criterion;
757       +		quit;
758       +		%if "&nr_war" ne "pusty" %then %do;
759       +			%krok(&nr_war);
760       +		%end;
761       +
762       +	%end;
763       +%mend podzialy;
764       +%podzialy;
765       +%mend;
766       +
767       +
768       +%macro dla_wszystkich_zm;
769       +
770       +
771       +data t.podzialy;
772       +length g_l g_p war $300 zmienna $32;
773       +g_l='low'; g_p='high'; criterion=0; dzielic=1;nrobs=1;glebokosc=1;
774       +length  il_jed_at il_at 8;
775       +war="not missing(&zm)";
776       +zmienna="&zm";
777       +delete;
778       +run;
779       +
780       +/*%do nr_zm=1 %to 1;*/
781       +%do nr_zm=1 %to &il_zm;
782       +
783       +
784       +%zrob_podz(%upcase(%scan(&zmienne_int_ord,&nr_zm,%str( ))));
785       +
786       +proc append base=t.podzialy data=t.warunki;
787       +run;
788       +%end;
789       +
790       +%mend;
791       +
792       +
793       +
794       +%dla_wszystkich_zm;

NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.PODZIALY has 0 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.ZZM has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           3.47 seconds
      cpu time            3.47 seconds
      
20                                       The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set WORK.CEN has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.06 seconds
      cpu time            1.85 seconds
      

NOTE: There were 1 observations read from the data set WORK.CEN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

***0.1112293773***1.4543010753***

NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set T.STAT has 41598 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           6.30 seconds
      cpu time            7.19 seconds
      


NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.WARUNKI has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.09 seconds
      

1308784
not missing(ACT_CC)

NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   6 at 794:23    6 at 794:27    1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   6 at 794:24    1 at 794:121   
NOTE: There were 41598 observations read from the data set T.STAT.
      WHERE not MISSING(ACT_CC);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.21 seconds
      
21                                       The SAS System          08:20 Saturday, January 25, 2014


jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 2 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
      

1238961
not missing(ACT_CC) and ACT_CC <= 1.0471014493

NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   6 at 794:23    2 at 794:129   6 at 794:27    3 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   6 at 794:24    1 at 794:121   2 at 794:130   
NOTE: There were 39349 observations read from the data set T.STAT.
      WHERE (not MISSING(ACT_CC)) and (ACT_CC<=1.0471014493);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.21 seconds
      cpu time            0.21 seconds
      

jest***ok

22                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 3 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

69823
1.0471014493 < ACT_CC

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 2249 observations read from the data set T.STAT.
      WHERE ACT_CC>1.0471014493;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
23                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

99445
not missing(ACT_CC) and ACT_CC <= 0.248125937

NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   6 at 794:23    4 at 794:129   6 at 794:27    5 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   6 at 794:24    1 at 794:121   4 at 794:130   
NOTE: There were 3298 observations read from the data set T.STAT.
      WHERE (not MISSING(ACT_CC)) and (ACT_CC<=0.248125937);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 4 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 4 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
24                                       The SAS System          08:20 Saturday, January 25, 2014

      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

1139516
0.248125937 < ACT_CC <= 1.0471014493

NOTE: Invalid argument to function LOG2 at line 794 column 24.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:23    2 at 794:129   1 at 794:27    3 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:24    1 at 794:121   2 at 794:130   
NOTE: There were 36051 observations read from the data set T.STAT.
      WHERE (ACT_CC>0.248125937 and ACT_CC<=1.0471014493);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.18 seconds
      cpu time            0.18 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 5 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 5 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: Appending T.WARUNKI to T.PODZIALY.
NOTE: There were 5 observations read from the data set T.WARUNKI.
NOTE: 5 observations added.
NOTE: The data set T.PODZIALY has 5 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.ZZM has 1308784 observations and 2 variables.
25                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           3.63 seconds
      cpu time            3.60 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set WORK.CEN has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.49 seconds
      cpu time            0.87 seconds
      

NOTE: There were 1 observations read from the data set WORK.CEN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

***           3***         299***

NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set T.STAT has 333 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.85 seconds
      cpu time            1.38 seconds
      


NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.WARUNKI has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

354320
not missing(ACT_CINS_MIN_SENIORITY)

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   4 at 794:129   5 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   4 at 794:130   
NOTE: There were 333 observations read from the data set T.STAT.
      WHERE not MISSING(ACT_CINS_MIN_SENIORITY);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
26                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.01 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 2 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

314793
22 < ACT_CINS_MIN_SENIORITY

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   4 at 794:129   5 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   4 at 794:130   
NOTE: There were 311 observations read from the data set T.STAT.
      WHERE ACT_CINS_MIN_SENIORITY>22;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
27                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 3 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

39527
not missing(ACT_CINS_MIN_SENIORITY) and ACT_CINS_MIN_SENIORITY <= 22

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 22 observations read from the data set T.STAT.
      WHERE (not MISSING(ACT_CINS_MIN_SENIORITY)) and (ACT_CINS_MIN_SENIORITY<=22);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
28                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

275114
43 < ACT_CINS_MIN_SENIORITY

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   4 at 794:129   5 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   4 at 794:130   
NOTE: There were 290 observations read from the data set T.STAT.
      WHERE ACT_CINS_MIN_SENIORITY>43;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 4 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 4 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

39679
29                                       The SAS System          08:20 Saturday, January 25, 2014

22 < ACT_CINS_MIN_SENIORITY <= 43

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 21 observations read from the data set T.STAT.
      WHERE (ACT_CINS_MIN_SENIORITY>22 and ACT_CINS_MIN_SENIORITY<=43);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Appending T.WARUNKI to T.PODZIALY.
NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY has 9 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.ZZM has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           3.65 seconds
      cpu time            3.63 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set WORK.CEN has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.46 seconds
      cpu time            0.78 seconds
      

NOTE: There were 1 observations read from the data set WORK.CEN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

***           0***           7***

NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set T.STAT has 14 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.49 seconds
      cpu time            0.87 seconds
      


30                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.WARUNKI has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

354320
not missing(ACT_CINS_N_STATC)

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:129   2 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   1 at 794:130   
NOTE: There were 14 observations read from the data set T.STAT.
      WHERE not MISSING(ACT_CINS_N_STATC);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 2 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
31                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

288769
0 < ACT_CINS_N_STATC

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:129   2 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   1 at 794:130   
NOTE: There were 13 observations read from the data set T.STAT.
      WHERE ACT_CINS_N_STATC>0;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 3 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

32                                       The SAS System          08:20 Saturday, January 25, 2014

65551
not missing(ACT_CINS_N_STATC) and ACT_CINS_N_STATC <= 0

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 1 observations read from the data set T.STAT.
      WHERE (not MISSING(ACT_CINS_N_STATC)) and (ACT_CINS_N_STATC<=0);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

68419
2 < ACT_CINS_N_STATC

NOTE: Invalid argument to function LOG2 at line 794 column 130.
NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:129   2 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   1 at 794:130   
NOTE: There were 11 observations read from the data set T.STAT.
      WHERE ACT_CINS_N_STATC>2;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      
33                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

220350
0 < ACT_CINS_N_STATC <= 2

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 2 observations read from the data set T.STAT.
      WHERE (ACT_CINS_N_STATC>0 and ACT_CINS_N_STATC<=2);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 4 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 4 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Appending T.WARUNKI to T.PODZIALY.
NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: 4 observations added.
NOTE: The data set T.PODZIALY has 13 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

34                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.ZZM has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           3.91 seconds
      cpu time            3.88 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set WORK.CEN has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.90 seconds
      cpu time            1.37 seconds
      

NOTE: There were 1 observations read from the data set WORK.CEN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

***         888***       16704***

NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set T.STAT has 1270 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           3.83 seconds
      cpu time            4.72 seconds
      


NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.WARUNKI has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1308784
not missing(APP_LOAN_AMOUNT)

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 1270 observations read from the data set T.STAT.
      WHERE not MISSING(APP_LOAN_AMOUNT);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
35                                       The SAS System          08:20 Saturday, January 25, 2014

      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 2 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1158177
not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 8880

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 667 observations read from the data set T.STAT.
      WHERE (not MISSING(APP_LOAN_AMOUNT)) and (APP_LOAN_AMOUNT<=8880);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
36                                       The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 3 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

150607
8880 < APP_LOAN_AMOUNT

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 603 observations read from the data set T.STAT.
      WHERE APP_LOAN_AMOUNT>8880;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 4 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set T.WARUNKI.
37                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set T.WARUNKI has been updated.  There were 4 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

854896
not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 4824

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 343 observations read from the data set T.STAT.
      WHERE (not MISSING(APP_LOAN_AMOUNT)) and (APP_LOAN_AMOUNT<=4824);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 5 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 5 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
38                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

303281
4824 < APP_LOAN_AMOUNT <= 8880

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 324 observations read from the data set T.STAT.
      WHERE (APP_LOAN_AMOUNT>4824 and APP_LOAN_AMOUNT<=8880);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 6 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 6 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 6 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 6 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Appending T.WARUNKI to T.PODZIALY.
NOTE: There were 6 observations read from the data set T.WARUNKI.
NOTE: 6 observations added.
NOTE: The data set T.PODZIALY has 19 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.ZZM has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           3.66 seconds
39                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            3.65 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set WORK.CEN has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.60 seconds
      cpu time            1.06 seconds
      

NOTE: There were 1 observations read from the data set WORK.CEN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

***           0***           3***

NOTE: There were 1308784 observations read from the data set WORK.ZZM.
NOTE: The data set T.STAT has 4 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.68 seconds
      cpu time            1.26 seconds
      


NOTE: Variable il_jed_at is uninitialized.
NOTE: Variable il_at is uninitialized.
NOTE: The data set T.WARUNKI has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1308784
not missing(APP_NUMBER_OF_CHILDREN)

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 4 observations read from the data set T.STAT.
      WHERE not MISSING(APP_NUMBER_OF_CHILDREN);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
40                                       The SAS System          08:20 Saturday, January 25, 2014

      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 2 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 2 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

439046
0 < APP_NUMBER_OF_CHILDREN

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 3 observations read from the data set T.STAT.
      WHERE APP_NUMBER_OF_CHILDREN>0;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

jest***ok

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 1 
      observations added and 0 observations deleted.
NOTE: There were 1 observations read from the data set WORK.KROK.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
41                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: The data set T.WARUNKI has been updated.  There were 3 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

869738
not missing(APP_NUMBER_OF_CHILDREN) and APP_NUMBER_OF_CHILDREN <= 0

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 1 observations read from the data set T.STAT.
      WHERE (not MISSING(APP_NUMBER_OF_CHILDREN)) and (APP_NUMBER_OF_CHILDREN<=0);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

153971
1 < APP_NUMBER_OF_CHILDREN

NOTE: Division by zero detected at line 794 column 128.
42                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 2 observations read from the data set T.STAT.
      WHERE APP_NUMBER_OF_CHILDREN>1;
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT 
      clause.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

285075
0 < APP_NUMBER_OF_CHILDREN <= 1

NOTE: Division by zero detected at line 794 column 128.
NOTE: Division by zero detected at line 794 column 121.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:233   1 at 794:47    
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      1 at 794:128   1 at 794:121   
NOTE: There were 1 observations read from the data set T.STAT.
      WHERE (APP_NUMBER_OF_CHILDREN>0 and APP_NUMBER_OF_CHILDREN<=1);
NOTE: The data set WORK.KROK has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

jest***.

NOTE: The data set T.WARUNKI has been updated.  There were 1 observations rewritten, 0 
      observations added and 0 observations deleted.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Appending T.WARUNKI to T.PODZIALY.
NOTE: There were 3 observations read from the data set T.WARUNKI.
NOTE: 3 observations added.
43                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set T.PODZIALY has 22 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

795       +
796       +
797       +
798       +data t.podzialy_int_niem;
799       +set t.podzialy;
800       +keep zmienna war nrobs;
801       +rename nrobs=grp;
802       +run;

NOTE: There were 22 observations read from the data set T.PODZIALY.
NOTE: The data set T.PODZIALY_INT_NIEM has 22 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) ending.
803        
804        
805        %macro calc_design;
806        %include "&kat_kody.kodowanie.sas" / source2;
807        %include "&kat_kody.variable_pre_selection_beh.sas" / source2;
808        data &em_lib..dobre_zmienne_beh;
809        set wyj.zmienne_stat_beh;
810        keep _variable_;
811        where ar_train>0.05;
812        run;
813        %include "&kat_kody.variable_pre_selection_full.sas" / source2;
814        data &em_lib..dobre_zmienne;
815        set wyj.zmienne_stat;
816        keep _variable_;
817        where ar_train>0.05 and .<abs(AR_Diff)<0.2
818        and .<H_Br_GRP_TV<0.1 and .<H_GRP_TV<0.1
819        ;
820        run;
821        %include "&kat_kody.kopiowanie_design.sas" / source2;
822        %mend;
823        
824        
825        
826        %let jakie_podzialy_nominalne=wyj.Podzialy_nom_sklejane;
827        /*%let jakie_podzialy_nominalne=wyj.Podzialy_nom;*/
828        
829        proc datasets lib=adj nolist kill;
NOTE: Deleting ADJ.ACT_CC (memtype=DATA).
NOTE: Deleting ADJ.ACT_CINS_MIN_SENIORITY (memtype=DATA).
NOTE: Deleting ADJ.ACT_CINS_N_STATC (memtype=DATA).
NOTE: Deleting ADJ.APP_CHAR_MARITAL_STATUS (memtype=DATA).
NOTE: Deleting ADJ.APP_LOAN_AMOUNT (memtype=DATA).
830        quit;

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.28 seconds
      cpu time            0.03 seconds
      

831        %let inset=wyj.Podzialy_int_niem;
832        %let design=_non_mon;
833        %include "&kat_kody.poprawki_zmiennych.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\po
      prawki_zmiennych.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\po
      prawki_zmiennych.sas.
44                                       The SAS System          08:20 Saturday, January 25, 2014

834       +/*  (c) Karol Przanowski   */
835       +/*    kprzan@sgh.waw.pl    */
836       +
837       +
838       +/*poprwaki dla zmiennych*/
839       +
840       +
841       +/*data adj.;*/
842       +/*length grp 8 war $300 zmienna $32;*/
843       +/*zmienna="";*/
844       +/*input;*/
845       +/*war=_infile_;*/
846       +/*grp=_n_;*/
847       +/*cards;*/
848       +/*;*/
849       +/*run;*/
850       +
851       +data adj.APP_LOAN_AMOUNT;
852       +length grp 8 war $300 zmienna $32;
853       +zmienna="APP_LOAN_AMOUNT";
854       +input;
855       +war=_infile_;
856       +grp=_n_;
857       +cards;

NOTE: The data set ADJ.APP_LOAN_AMOUNT has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

863       +;
864       +run;
865       +
866       +data adj.ACT_CINS_MIN_SENIORITY;
867       +length grp 8 war $300 zmienna $32;
868       +zmienna="ACT_CINS_MIN_SENIORITY";
869       +input;
870       +war=_infile_;
871       +grp=_n_;
872       +cards;

NOTE: The data set ADJ.ACT_CINS_MIN_SENIORITY has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

875       +;
876       +run;
877       +
878       +
879       +
880       +data adj.APP_CHAR_MARITAL_STATUS;
881       +length grp 8 war $300 zmienna $32;
882       +zmienna="APP_CHAR_MARITAL_STATUS";
883       +input;
884       +war=_infile_;
885       +grp=_n_;
886       +cards;

NOTE: The data set ADJ.APP_CHAR_MARITAL_STATUS has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

889       +;
890       +run;
891       +
45                                       The SAS System          08:20 Saturday, January 25, 2014

892       +
893       +
894       +
895       +
896       +data adj.ACT_CC;
897       +length grp 8 war $300 zmienna $32;
898       +zmienna="ACT_CC";
899       +input;
900       +war=_infile_;
901       +grp=_n_;
902       +cards;

NOTE: The data set ADJ.ACT_CC has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

907       +;
908       +run;
909       +
910       +
911       +
912       +
913       +
914       +data adj.ACT_CINS_N_STATC;
915       +length grp 8 war $300 zmienna $32;
916       +zmienna="ACT_CINS_N_STATC";
917       +input;
918       +war=_infile_;
919       +grp=_n_;
920       +cards;

NOTE: The data set ADJ.ACT_CINS_N_STATC has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

925       +;
926       +run;
NOTE: %INCLUDE (level 1) ending.
927        %calc_design;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ko
      dowanie.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ko
      dowanie.sas.
928       +/*  (c) Karol Przanowski   */
929       +/*    kprzan@sgh.waw.pl    */
930       +
931       +
932       +
933       +proc sort data=&inset out=podz;
934       +by zmienna grp;
935       +run;

NOTE: There were 22 observations read from the data set WYJ.PODZIALY_INT_NIEM.
NOTE: The data set WORK.PODZ has 22 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

936       +data wyj.podzialy_interwalowe;
937       +set
938       +podz
939       +;
940       +by zmienna;
941       +if index(war,'is not missing')>0 then
46                                       The SAS System          08:20 Saturday, January 25, 2014

942       +war='not missing('||compress(zmienna)||')';
943       +output;
944       +if last.zmienna then do;
945       +grp=grp+1;
946       +war='missing('||compress(zmienna)||')';
947       +output;
948       +end;
949       +run;

NOTE: There were 22 observations read from the data set WORK.PODZ.
NOTE: The data set WYJ.PODZIALY_INTERWALOWE has 27 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

950       +proc sort data=wyj.podzialy_interwalowe;
951       +by zmienna grp;
952       +run;

NOTE: There were 27 observations read from the data set WYJ.PODZIALY_INTERWALOWE.
NOTE: The data set WYJ.PODZIALY_INTERWALOWE has 27 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

953       +
954       +data wyj.podzialy_nominalne;
955       +set
956       +&jakie_podzialy_nominalne
957       +;
958       +run;

NOTE: There were 8 observations read from the data set WYJ.PODZIALY_NOM_SKLEJANE.
NOTE: The data set WYJ.PODZIALY_NOMINALNE has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

959       +proc sort data=wyj.podzialy_nominalne;
960       +by zmienna grp;
961       +run;

NOTE: There were 8 observations read from the data set WYJ.PODZIALY_NOMINALNE.
NOTE: The data set WYJ.PODZIALY_NOMINALNE has 8 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

962       +
963       +/*kodowanie*/
964       +/*od nowa siê liczy iloœci w atrybutach*/
965       +/*zaklada siê ¿e mo¿na te warunki modyfikowaæ*/
966       +
967       +/*libname t (wyj);*/
968       +%let kat_kodowanie=%sysfunc(pathname(wyj));
969       +%put &kat_kodowanie;
c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
970       +
971       +
972       +
973       +
974       +%let zb_int=wyj.podzialy_interwalowe;
975       +%let zb_nom=wyj.Podzialy_nominalne;
976       +
977       +
978       +
47                                       The SAS System          08:20 Saturday, January 25, 2014

979       +data podzialy_org;
980       +set &zb_int &zb_nom;
981       +keep war zmienna grp;
982       +run;

NOTE: There were 27 observations read from the data set WYJ.PODZIALY_INTERWALOWE.
NOTE: There were 8 observations read from the data set WYJ.PODZIALY_NOMINALNE.
NOTE: The data set WORK.PODZIALY_ORG has 35 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

983       +
984       +%let adjvars=;
985       +%let adjnames='id';
986       +
987       +proc sql noprint;
988       +select "ADJ."||trim(memname),quote(memname) into :adjvars separated by ' ',
989       +:adjnames separated by ','
990       +from dictionary.tables where
991       +libname='ADJ';
992       +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

993       +%put &adjvars;
ADJ.ACT_CC ADJ.ACT_CINS_MIN_SENIORITY ADJ.ACT_CINS_N_STATC ADJ.APP_CHAR_MARITAL_STATUS 
ADJ.APP_LOAN_AMOUNT
994       +%put &adjnames;
"ACT_CC                          ","ACT_CINS_MIN_SENIORITY          ","ACT_CINS_N_STATC          
      ","APP_CHAR_MARITAL_STATUS         ","APP_LOAN_AMOUNT                 "
995       +
996       +data podzialy;
997       +set podzialy_org(where=(upcase(zmienna) not in (&adjnames)))
998       +&adjvars
999       +;
1000      +run;

NOTE: There were 8 observations read from the data set WORK.PODZIALY_ORG.
      WHERE UPCASE(zmienna) not in ('ACT_CC                          ', 'ACT_CINS_MIN_SENIORITY  
              ', 'ACT_CINS_N_STATC                ', 'APP_CHAR_MARITAL_STATUS         ', 
      'APP_LOAN_AMOUNT                 ');
NOTE: There were 4 observations read from the data set ADJ.ACT_CC.
NOTE: There were 2 observations read from the data set ADJ.ACT_CINS_MIN_SENIORITY.
NOTE: There were 4 observations read from the data set ADJ.ACT_CINS_N_STATC.
NOTE: There were 2 observations read from the data set ADJ.APP_CHAR_MARITAL_STATUS.
NOTE: There were 5 observations read from the data set ADJ.APP_LOAN_AMOUNT.
NOTE: The data set WORK.PODZIALY has 25 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

1001      +
1002      +
1003      +proc sort data=podzialy;
1004      +by zmienna grp;
1005      +run;

NOTE: There were 25 observations read from the data set WORK.PODZIALY.
NOTE: The data set WORK.PODZIALY has 25 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

1006      +data podzialy;
48                                       The SAS System          08:20 Saturday, January 25, 2014

1007      +set podzialy;
1008      +by zmienna;
1009      +if first.zmienna and last.zmienna then delete; else output;
1010      +
1011      +/*if last.zmienna and zmienna in (&zmienne_otherwise) then do;*/
1012      +/*grp=grp+1;*/
1013      +/*war='otherwise';*/
1014      +/*output;*/
1015      +/*end;*/
1016      +
1017      +if last.zmienna then do;
1018      +grp=grp+1;
1019      +war='otherwise';
1020      +output;
1021      +end;
1022      +
1023      +run;

NOTE: There were 25 observations read from the data set WORK.PODZIALY.
NOTE: The data set WORK.PODZIALY has 32 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1024      +
1025      +
1026      +filename kod "&kat_kodowanie.\kod_tym.sas";
1027      +/*potrzebujemy policzyæ il_at il_jed_at*/
1028      +data _null_;
1029      +length przed za $100 naz $32;
1030      +file kod;
1031      +if _n_=1 then do;
1032      +put "data grp;";
1033      +put "set &zb;";
1034      +end;
1035      +
1036      +do i=1 to ilobs;
1037      +set podzialy nobs=ilobs;
1038      +by zmienna;
1039      +if first.zmienna then do;
1040      +	if substr(war,1,4)='when' then do;
1041      +	przed='';za='';
1042      +	put "select (" zmienna ");";
1043      +	end; else do;
1044      +	przed='when (';za=')';
1045      +	put "select;";
1046      +	end;
1047      +end;
1048      +
1049      +if not last.zmienna then do;
1050      +put przed war za "do;";
1051      +naz="GRP_"||trim(zmienna);
1052      +put naz " = " grp ";";
1053      +put "end;";
1054      +end;
1055      +
1056      +if last.zmienna and war='otherwise' then
1057      +	put 'otherwise ' naz ' = ' grp '; end;';
1058      +if last.zmienna and war ne 'otherwise' then
1059      +	put 'otherwise ' naz ' = ' '.; end;';
1060      +
1061      +end;
1062      +
1063      +put "run;";
1064      +run;

NOTE: The file KOD is:
      
      Filename=c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all
49                                       The SAS System          08:20 Saturday, January 25, 2014

      2\wyj\kod_tym.sas,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=25 styczeñ 2014 08:24:38,
      Create Time=25 styczeñ 2014 08:24:38

NOTE: 92 records were written to the file KOD.
      The minimum record length was 4.
      The maximum record length was 80.
NOTE: There were 32 observations read from the data set WORK.PODZIALY.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

1065      +
1066      +%include "&kat_kodowanie.\kod_tym.sas";
NOTE: %INCLUDE (level 2) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _tym.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _tym.sas.
1067      +data grp;
1068      +set abt.train;
1069      +select;
1070      +when ( 1.00 < ACT_CC ) do;
1071      +GRP_ACT_CC  = 1 ;
1072      +end;
1073      +when ( 0.85 < ACT_CC <= 1.00 ) do;
1074      +GRP_ACT_CC  = 2 ;
1075      +end;
1076      +when ( 0.25 < ACT_CC <= 0.85 ) do;
1077      +GRP_ACT_CC  = 3 ;
1078      +end;
1079      +when ( not missing(ACT_CC) and ACT_CC <= 0.25 ) do;
1080      +GRP_ACT_CC  = 4 ;
1081      +end;
1082      +otherwise GRP_ACT_CC  = 5 ; end;
1083      +select;
1084      +when ( missing(ACT_CINS_MIN_SENIORITY) or ACT_CINS_MIN_SENIORITY <= 22 ) do;
1085      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
1086      +end;
1087      +when ( 22 < ACT_CINS_MIN_SENIORITY ) do;
1088      +GRP_ACT_CINS_MIN_SENIORITY  = 2 ;
1089      +end;
1090      +otherwise GRP_ACT_CINS_MIN_SENIORITY  = 3 ; end;
1091      +select;
1092      +when ( not missing(ACT_CINS_N_STATC) and ACT_CINS_N_STATC <= 0 ) do;
1093      +GRP_ACT_CINS_N_STATC  = 1 ;
1094      +end;
1095      +when ( missing(ACT_CINS_N_STATC) ) do;
1096      +GRP_ACT_CINS_N_STATC  = 2 ;
1097      +end;
1098      +when ( 0 < ACT_CINS_N_STATC <= 2 ) do;
1099      +GRP_ACT_CINS_N_STATC  = 3 ;
1100      +end;
1101      +when ( 2 < ACT_CINS_N_STATC ) do;
1102      +GRP_ACT_CINS_N_STATC  = 4 ;
1103      +end;
1104      +otherwise GRP_ACT_CINS_N_STATC  = 5 ; end;
1105      +select (APP_CHAR_JOB_CODE );
1106      +  when ('Owner company')   do;
1107      +GRP_APP_CHAR_JOB_CODE  = 1 ;
1108      +end;
1109      +  when ('Retired')   do;
1110      +GRP_APP_CHAR_JOB_CODE  = 2 ;
1111      +end;
1112      +  when ('Permanent')   do;
1113      +GRP_APP_CHAR_JOB_CODE  = 3 ;
1114      +end;
1115      +  when ('Contract')   do;
50                                       The SAS System          08:20 Saturday, January 25, 2014

1116      +GRP_APP_CHAR_JOB_CODE  = 4 ;
1117      +end;
1118      +otherwise GRP_APP_CHAR_JOB_CODE  = 5 ; end;
1119      +select (APP_CHAR_MARITAL_STATUS );
1120      +  when ('Singiel','Divorced')   do;
1121      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
1122      +end;
1123      +  when ('Maried','Widowed')   do;
1124      +GRP_APP_CHAR_MARITAL_STATUS  = 2 ;
1125      +end;
1126      +otherwise GRP_APP_CHAR_MARITAL_STATUS  = 3 ; end;
1127      +select;
1128      +when ( 11376 < APP_LOAN_AMOUNT ) do;
1129      +GRP_APP_LOAN_AMOUNT  = 1 ;
1130      +end;
1131      +when ( 8880 < APP_LOAN_AMOUNT <= 11376 ) do;
1132      +GRP_APP_LOAN_AMOUNT  = 2 ;
1133      +end;
1134      +when ( 4824 < APP_LOAN_AMOUNT <= 8880 ) do;
1135      +GRP_APP_LOAN_AMOUNT  = 3 ;
1136      +end;
1137      +when ( 1968 < APP_LOAN_AMOUNT <= 4824 ) do;
1138      +GRP_APP_LOAN_AMOUNT  = 4 ;
1139      +end;
1140      +when ( not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 1968 ) do;
1141      +GRP_APP_LOAN_AMOUNT  = 5 ;
1142      +end;
1143      +otherwise GRP_APP_LOAN_AMOUNT  = 6 ; end;
1144      +select;
1145      +when ( not missing(APP_NUMBER_OF_CHILDREN) and APP_NUMBER_OF_CHILDREN <= 0 ) do;
1146      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
1147      +end;
1148      +when ( 0 < APP_NUMBER_OF_CHILDREN <= 1 ) do;
1149      +GRP_APP_NUMBER_OF_CHILDREN  = 2 ;
1150      +end;
1151      +when ( 1 < APP_NUMBER_OF_CHILDREN ) do;
1152      +GRP_APP_NUMBER_OF_CHILDREN  = 3 ;
1153      +end;
1154      +when ( missing(APP_NUMBER_OF_CHILDREN) ) do;
1155      +GRP_APP_NUMBER_OF_CHILDREN  = 4 ;
1156      +end;
1157      +otherwise GRP_APP_NUMBER_OF_CHILDREN  = 5 ; end;
1158      +run;

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set WORK.GRP has 1308784 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           10.17 seconds
      cpu time            7.23 seconds
      

NOTE: %INCLUDE (level 2) ending.
NOTE: %INCLUDE (level 1) resuming.
1159      +
1160      +proc means data=grp noprint;
1161      +class grp: /missing;
1162      +ways 1;
1163      +var &tar;
1164      +output out=licz sum()=il_jed_at n()=il_at nmiss()=il_ind_at;
1165      +where &tar ne .;
1166      +run;

NOTE: There were 1308784 observations read from the data set WORK.GRP.
      WHERE default12new not = .;
NOTE: The data set WORK.LICZ has 24 observations and 12 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           8.62 seconds
      cpu time            14.91 seconds
      

51                                       The SAS System          08:20 Saturday, January 25, 2014

1167      +
1168      +data licz;
1169      +length zmienna zmienna2 $32 grp 8;
1170      +set licz;
1171      +array t(*) grp:;
1172      +do i=1 to dim(t);
1173      +if not missing(t(i)) then do;
1174      +	grp=t(i);
1175      +	zmienna=vname(t(i));
1176      +end;
1177      +end;
1178      +zmienna=substr(zmienna,5);
1179      +zmienna2=zmienna;
1180      +il_zer_at=il_at-il_jed_at;
1181      +il_at=il_at+il_ind_at;
1182      +if not missing(zmienna);
1183      +keep zmienna zmienna2 grp il_at il_jed_at il_zer_at il_ind_at;
1184      +run;

NOTE: There were 24 observations read from the data set WORK.LICZ.
NOTE: The data set WORK.LICZ has 24 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.29 seconds
      cpu time            0.04 seconds
      

1185      +proc sort data=licz;
1186      +by zmienna2 grp;
1187      +run;

NOTE: There were 24 observations read from the data set WORK.LICZ.
NOTE: The data set WORK.LICZ has 24 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1188      +
1189      +/*specjalna wstawka*/
1190      +data podzialy;
1191      +set podzialy;
1192      +zmienna2=substr(zmienna,1,28);
1193      +run;

NOTE: There were 32 observations read from the data set WORK.PODZIALY.
NOTE: The data set WORK.PODZIALY has 32 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

1194      +proc sort data=podzialy;
1195      +by zmienna2 grp;
1196      +run;

NOTE: There were 32 observations read from the data set WORK.PODZIALY.
NOTE: The data set WORK.PODZIALY has 32 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1197      +
1198      +
1199      +data podzialy_pol;
1200      +merge podzialy licz;
1201      +by zmienna2 grp;
1202      +run;

NOTE: There were 32 observations read from the data set WORK.PODZIALY.
52                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 24 observations read from the data set WORK.LICZ.
NOTE: The data set WORK.PODZIALY_POL has 32 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.20 seconds
      cpu time            0.01 seconds
      

1203      +
1204      +
1205      +/*doliczenie woe logit*/
1206      +proc sql noprint;
1207      +select count(*),sum((&tar=1)),sum((&tar=0)),
1208      +sum((&tar=.i or &tar=.d)) into :il,:il_jed,:il_zer,:il_ind
1209      +from &zb;
1210      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           4.66 seconds
      cpu time            4.61 seconds
      

1211      +%put &il***&il_jed***&il_zer***&il_ind;
1308784***  210574*** 1098210***       0
1212      +
1213      +/*podzialy ze statystykami*/
1214      +data wyj.karta_duza;
1215      +set podzialy_pol;
1216      +/*ta poprawka do zastanowienia*/
1217      +woe_org=log(((il_zer_at)/(&il_zer))/((il_jed_at)/&il_jed));
1218      +br=il_jed_at/il_at;
1219      +
1220      +if br>0.99 or missing(br) then br=0.99;
1221      +if .<br<0.0003 then br=0.0003;
1222      +
1223      +logit=log(il_jed_at/il_zer_at);
1224      +/*logit=log(br/(1-br));*/
1225      +/*liczê woe jako logit*/
1226      +woe=logit;
1227      +Percent=il_at/&il;
1228      +Percent_jed=coalesce(il_jed_at/&il_jed,0);
1229      +Percent_zer=coalesce(il_zer_at/&il_zer,0);
1230      +Percent_ind=coalesce(il_ind_at/&il_ind,0);
1231      +wi=log(percent_zer/percent_jed);
1232      +ivi=(percent_zer-percent_jed)*wi;
1233      +format percent percent_jed percent_zer percent_ind percent12.2;
1234      +if _error_=1 then _error_=0;
1235      +if missing(percent) then delete;
1236      +/*if not missing(war1) and not missing(war2) and .<=percent<0.005 then delete;*/
1237      +if .<=percent<0.005 then delete;
1238      +run;

NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
53                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1230 column 1.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Division by zero detected at line 1231 column 19.
NOTE: Missing values were generated as a result of performing an operation on missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      8 at 1217:9    8 at 1217:25   8 at 1217:36   8 at 1217:1    8 at 1218:13   8 at 1223:7
      8 at 1223:20   8 at 1227:1    8 at 1228:1    8 at 1229:1    8 at 1230:1    8 at 1231:4
      8 at 1232:30   
NOTE: Mathematical operations could not be performed at the following places. The results of the 
      operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      24 at 1230:1   8 at 1231:19   
NOTE: There were 32 observations read from the data set WORK.PODZIALY_POL.
NOTE: The data set WYJ.KARTA_DUZA has 24 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

1239      +
1240      +
1241      +proc sort data=wyj.karta_duza;
1242      +by zmienna descending br ;
1243      +run;

NOTE: There were 24 observations read from the data set WYJ.KARTA_DUZA.
NOTE: The data set WYJ.KARTA_DUZA has 24 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

1244      +data wyj.karta_duza;
1245      +set wyj.karta_duza(drop=grp);
1246      +by zmienna;
1247      +if first.zmienna then grp=0;
1248      +grp+1;
1249      +otherwise_ind=(war='otherwise');
1250      +run;

NOTE: There were 24 observations read from the data set WYJ.KARTA_DUZA.
NOTE: The data set WYJ.KARTA_DUZA has 24 observations and 19 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1251      +
1252      +/*na razie missing wrzucamy wed³ug porz¹dku
1253      +zale¿nie od tego czy to jest model ryzyka czy response*/
1254      +
1255      +proc sort data=wyj.karta_duza out=p;
1256      +by zmienna2 otherwise_ind &porz_tar br;
1257      +/*by zmienna il_at;*/
1258      +run;

NOTE: There were 24 observations read from the data set WYJ.KARTA_DUZA.
NOTE: The data set WORK.P has 24 observations and 19 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
54                                       The SAS System          08:20 Saturday, January 25, 2014

      

1259      +
1260      +/*teraz prawdziwe kodowanie*/
1261      +
1262      +
1263      +filename kod "&kat_kodowanie.\kod_do_kodowania.sas";
1264      +data _null_;
1265      +length przed za $100 naz $32;
1266      +file kod;
1267      +if _n_=1 then do;
1268      +put 'data &zbior._woe;';
1269      +put 'set &zbior;';
1270      +end;
1271      +
1272      +do i=1 to ilobs;
1273      +set p nobs=ilobs;
1274      +by zmienna2;
1275      +
1276      +if war ne 'otherwise' then do;
1277      +	if first.zmienna2 then do;
1278      +		if substr(war,1,4)='when' then do;
1279      +		przed='';za='';
1280      +		put "select (" zmienna ");";
1281      +		end; else do;
1282      +		przed='when (';za=')';
1283      +		put "select;";
1284      +		end;
1285      +	end;
1286      +
1287      +	put przed war za "do;";
1288      +	naz="GRP_"||trim(zmienna);
1289      +	put naz " = " grp ";";
1290      +	naz="WOE_"||trim(zmienna);
1291      +	put naz " = " woe ";";
1292      +	put "end;";
1293      +end;
1294      +
1295      +
1296      +if last.zmienna2 then do;
1297      +	put 'otherwise do;';
1298      +	naz="GRP_"||trim(zmienna);
1299      +	put naz " = " grp ";";
1300      +	naz="WOE_"||trim(zmienna);
1301      +	put naz " = " woe ";";
1302      +    put 'end; end;';
1303      +end;
1304      +
1305      +end;
1306      +put 'keep &keep;';
1307      +put 'if _error_=1 then _error_=0;';
1308      +put "run;";
1309      +run;

NOTE: The file KOD is:
      
      Filename=c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all
      2\wyj\kod_do_kodowania.sas,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=25 styczeñ 2014 08:25:03,
      Create Time=25 styczeñ 2014 08:25:03

NOTE: 136 records were written to the file KOD.
      The minimum record length was 4.
      The maximum record length was 80.
NOTE: There were 24 observations read from the data set WORK.P.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.01 seconds
      
55                                       The SAS System          08:20 Saturday, January 25, 2014


1310      +
1311      +%let zbior=&zb;
1312      +%let keep=_all_;
1313      +%include "&kat_kodowanie.\kod_do_kodowania.sas";
NOTE: %INCLUDE (level 2) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _do_kodowania.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _do_kodowania.sas.
1314      +data &zbior._woe;
1315      +set &zbior;
1316      +select;
1317      +when ( not missing(ACT_CC) and ACT_CC <= 0.25 ) do;
1318      +GRP_ACT_CC  = 4 ;
1319      +WOE_ACT_CC  = -2.249676162 ;
1320      +end;
1321      +when ( 0.25 < ACT_CC <= 0.85 ) do;
1322      +GRP_ACT_CC  = 3 ;
1323      +WOE_ACT_CC  = -1.760914166 ;
1324      +end;
1325      +when ( 0.85 < ACT_CC <= 1.00 ) do;
1326      +GRP_ACT_CC  = 2 ;
1327      +WOE_ACT_CC  = -1.349006441 ;
1328      +end;
1329      +when ( 1.00 < ACT_CC ) do;
1330      +GRP_ACT_CC  = 1 ;
1331      +WOE_ACT_CC  = -0.518822257 ;
1332      +end;
1333      +otherwise do;
1334      +GRP_ACT_CC  = 1 ;
1335      +WOE_ACT_CC  = -0.518822257 ;
1336      +end; end;
1337      +select;
1338      +when ( 22 < ACT_CINS_MIN_SENIORITY ) do;
1339      +GRP_ACT_CINS_MIN_SENIORITY  = 2 ;
1340      +WOE_ACT_CINS_MIN_SENIORITY  = -2.231770556 ;
1341      +end;
1342      +when ( missing(ACT_CINS_MIN_SENIORITY) or ACT_CINS_MIN_SENIORITY <= 22 ) do;
1343      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
1344      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
1345      +end;
1346      +otherwise do;
1347      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
1348      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
1349      +end; end;
1350      +select;
1351      +when ( 2 < ACT_CINS_N_STATC ) do;
1352      +GRP_ACT_CINS_N_STATC  = 4 ;
1353      +WOE_ACT_CINS_N_STATC  = -2.138050355 ;
1354      +end;
1355      +when ( 0 < ACT_CINS_N_STATC <= 2 ) do;
1356      +GRP_ACT_CINS_N_STATC  = 3 ;
1357      +WOE_ACT_CINS_N_STATC  = -1.868781489 ;
1358      +end;
1359      +when ( missing(ACT_CINS_N_STATC) ) do;
1360      +GRP_ACT_CINS_N_STATC  = 2 ;
1361      +WOE_ACT_CINS_N_STATC  = -1.64455026 ;
1362      +end;
1363      +when ( not missing(ACT_CINS_N_STATC) and ACT_CINS_N_STATC <= 0 ) do;
1364      +GRP_ACT_CINS_N_STATC  = 1 ;
1365      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
1366      +end;
1367      +otherwise do;
1368      +GRP_ACT_CINS_N_STATC  = 1 ;
1369      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
1370      +end; end;
1371      +select (APP_CHAR_JOB_CODE );
1372      +  when ('Permanent')   do;
1373      +GRP_APP_CHAR_JOB_CODE  = 4 ;
56                                       The SAS System          08:20 Saturday, January 25, 2014

1374      +WOE_APP_CHAR_JOB_CODE  = -2.169809287 ;
1375      +end;
1376      +  when ('Retired')   do;
1377      +GRP_APP_CHAR_JOB_CODE  = 3 ;
1378      +WOE_APP_CHAR_JOB_CODE  = -1.784711388 ;
1379      +end;
1380      +  when ('Owner company')   do;
1381      +GRP_APP_CHAR_JOB_CODE  = 2 ;
1382      +WOE_APP_CHAR_JOB_CODE  = -1.562892938 ;
1383      +end;
1384      +  when ('Contract')   do;
1385      +GRP_APP_CHAR_JOB_CODE  = 1 ;
1386      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
1387      +end;
1388      +otherwise do;
1389      +GRP_APP_CHAR_JOB_CODE  = 1 ;
1390      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
1391      +end; end;
1392      +select (APP_CHAR_MARITAL_STATUS );
1393      +  when ('Maried','Widowed')   do;
1394      +GRP_APP_CHAR_MARITAL_STATUS  = 2 ;
1395      +WOE_APP_CHAR_MARITAL_STATUS  = -1.896036565 ;
1396      +end;
1397      +  when ('Singiel','Divorced')   do;
1398      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
1399      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
1400      +end;
1401      +otherwise do;
1402      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
1403      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
1404      +end; end;
1405      +select;
1406      +when ( not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 1968 ) do;
1407      +GRP_APP_LOAN_AMOUNT  = 5 ;
1408      +WOE_APP_LOAN_AMOUNT  = -2.265084398 ;
1409      +end;
1410      +when ( 1968 < APP_LOAN_AMOUNT <= 4824 ) do;
1411      +GRP_APP_LOAN_AMOUNT  = 4 ;
1412      +WOE_APP_LOAN_AMOUNT  = -1.914236514 ;
1413      +end;
1414      +when ( 4824 < APP_LOAN_AMOUNT <= 8880 ) do;
1415      +GRP_APP_LOAN_AMOUNT  = 3 ;
1416      +WOE_APP_LOAN_AMOUNT  = -1.434432299 ;
1417      +end;
1418      +when ( 8880 < APP_LOAN_AMOUNT <= 11376 ) do;
1419      +GRP_APP_LOAN_AMOUNT  = 2 ;
1420      +WOE_APP_LOAN_AMOUNT  = -1.03441388 ;
1421      +end;
1422      +when ( 11376 < APP_LOAN_AMOUNT ) do;
1423      +GRP_APP_LOAN_AMOUNT  = 1 ;
1424      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
1425      +end;
1426      +otherwise do;
1427      +GRP_APP_LOAN_AMOUNT  = 1 ;
1428      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
1429      +end; end;
1430      +select;
1431      +when ( 1 < APP_NUMBER_OF_CHILDREN ) do;
1432      +GRP_APP_NUMBER_OF_CHILDREN  = 3 ;
1433      +WOE_APP_NUMBER_OF_CHILDREN  = -3.133131565 ;
1434      +end;
1435      +when ( 0 < APP_NUMBER_OF_CHILDREN <= 1 ) do;
1436      +GRP_APP_NUMBER_OF_CHILDREN  = 2 ;
1437      +WOE_APP_NUMBER_OF_CHILDREN  = -2.04606512 ;
1438      +end;
1439      +when ( not missing(APP_NUMBER_OF_CHILDREN) and APP_NUMBER_OF_CHILDREN <= 0 ) do;
1440      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
1441      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
1442      +end;
1443      +otherwise do;
57                                       The SAS System          08:20 Saturday, January 25, 2014

1444      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
1445      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
1446      +end; end;
1447      +keep &keep;
1448      +if _error_=1 then _error_=0;
1449      +run;

NOTE: There were 1308784 observations read from the data set ABT.TRAIN.
NOTE: The data set ABT.TRAIN_WOE has 1308784 observations and 36 variables.
NOTE: Compressing data set ABT.TRAIN_WOE decreased size by 32.54 percent. 
      Compressed is 16660 pages; un-compressed would require 24695 pages.
NOTE: DATA statement used (Total process time):
      real time           17.06 seconds
      cpu time            16.10 seconds
      

NOTE: %INCLUDE (level 2) ending.
NOTE: %INCLUDE (level 1) resuming.
1450      +
1451      +%let zbior=&zb_v;
1452      +%let keep=_all_;
1453      +%include "&kat_kodowanie.\kod_do_kodowania.sas";
NOTE: %INCLUDE (level 2) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _do_kodowania.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod
      _do_kodowania.sas.
1454      +data &zbior._woe;
1455      +set &zbior;
1456      +select;
1457      +when ( not missing(ACT_CC) and ACT_CC <= 0.25 ) do;
1458      +GRP_ACT_CC  = 4 ;
1459      +WOE_ACT_CC  = -2.249676162 ;
1460      +end;
1461      +when ( 0.25 < ACT_CC <= 0.85 ) do;
1462      +GRP_ACT_CC  = 3 ;
1463      +WOE_ACT_CC  = -1.760914166 ;
1464      +end;
1465      +when ( 0.85 < ACT_CC <= 1.00 ) do;
1466      +GRP_ACT_CC  = 2 ;
1467      +WOE_ACT_CC  = -1.349006441 ;
1468      +end;
1469      +when ( 1.00 < ACT_CC ) do;
1470      +GRP_ACT_CC  = 1 ;
1471      +WOE_ACT_CC  = -0.518822257 ;
1472      +end;
1473      +otherwise do;
1474      +GRP_ACT_CC  = 1 ;
1475      +WOE_ACT_CC  = -0.518822257 ;
1476      +end; end;
1477      +select;
1478      +when ( 22 < ACT_CINS_MIN_SENIORITY ) do;
1479      +GRP_ACT_CINS_MIN_SENIORITY  = 2 ;
1480      +WOE_ACT_CINS_MIN_SENIORITY  = -2.231770556 ;
1481      +end;
1482      +when ( missing(ACT_CINS_MIN_SENIORITY) or ACT_CINS_MIN_SENIORITY <= 22 ) do;
1483      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
1484      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
1485      +end;
1486      +otherwise do;
1487      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
1488      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
1489      +end; end;
1490      +select;
1491      +when ( 2 < ACT_CINS_N_STATC ) do;
1492      +GRP_ACT_CINS_N_STATC  = 4 ;
1493      +WOE_ACT_CINS_N_STATC  = -2.138050355 ;
1494      +end;
1495      +when ( 0 < ACT_CINS_N_STATC <= 2 ) do;
1496      +GRP_ACT_CINS_N_STATC  = 3 ;
58                                       The SAS System          08:20 Saturday, January 25, 2014

1497      +WOE_ACT_CINS_N_STATC  = -1.868781489 ;
1498      +end;
1499      +when ( missing(ACT_CINS_N_STATC) ) do;
1500      +GRP_ACT_CINS_N_STATC  = 2 ;
1501      +WOE_ACT_CINS_N_STATC  = -1.64455026 ;
1502      +end;
1503      +when ( not missing(ACT_CINS_N_STATC) and ACT_CINS_N_STATC <= 0 ) do;
1504      +GRP_ACT_CINS_N_STATC  = 1 ;
1505      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
1506      +end;
1507      +otherwise do;
1508      +GRP_ACT_CINS_N_STATC  = 1 ;
1509      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
1510      +end; end;
1511      +select (APP_CHAR_JOB_CODE );
1512      +  when ('Permanent')   do;
1513      +GRP_APP_CHAR_JOB_CODE  = 4 ;
1514      +WOE_APP_CHAR_JOB_CODE  = -2.169809287 ;
1515      +end;
1516      +  when ('Retired')   do;
1517      +GRP_APP_CHAR_JOB_CODE  = 3 ;
1518      +WOE_APP_CHAR_JOB_CODE  = -1.784711388 ;
1519      +end;
1520      +  when ('Owner company')   do;
1521      +GRP_APP_CHAR_JOB_CODE  = 2 ;
1522      +WOE_APP_CHAR_JOB_CODE  = -1.562892938 ;
1523      +end;
1524      +  when ('Contract')   do;
1525      +GRP_APP_CHAR_JOB_CODE  = 1 ;
1526      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
1527      +end;
1528      +otherwise do;
1529      +GRP_APP_CHAR_JOB_CODE  = 1 ;
1530      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
1531      +end; end;
1532      +select (APP_CHAR_MARITAL_STATUS );
1533      +  when ('Maried','Widowed')   do;
1534      +GRP_APP_CHAR_MARITAL_STATUS  = 2 ;
1535      +WOE_APP_CHAR_MARITAL_STATUS  = -1.896036565 ;
1536      +end;
1537      +  when ('Singiel','Divorced')   do;
1538      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
1539      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
1540      +end;
1541      +otherwise do;
1542      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
1543      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
1544      +end; end;
1545      +select;
1546      +when ( not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 1968 ) do;
1547      +GRP_APP_LOAN_AMOUNT  = 5 ;
1548      +WOE_APP_LOAN_AMOUNT  = -2.265084398 ;
1549      +end;
1550      +when ( 1968 < APP_LOAN_AMOUNT <= 4824 ) do;
1551      +GRP_APP_LOAN_AMOUNT  = 4 ;
1552      +WOE_APP_LOAN_AMOUNT  = -1.914236514 ;
1553      +end;
1554      +when ( 4824 < APP_LOAN_AMOUNT <= 8880 ) do;
1555      +GRP_APP_LOAN_AMOUNT  = 3 ;
1556      +WOE_APP_LOAN_AMOUNT  = -1.434432299 ;
1557      +end;
1558      +when ( 8880 < APP_LOAN_AMOUNT <= 11376 ) do;
1559      +GRP_APP_LOAN_AMOUNT  = 2 ;
1560      +WOE_APP_LOAN_AMOUNT  = -1.03441388 ;
1561      +end;
1562      +when ( 11376 < APP_LOAN_AMOUNT ) do;
1563      +GRP_APP_LOAN_AMOUNT  = 1 ;
1564      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
1565      +end;
1566      +otherwise do;
59                                       The SAS System          08:20 Saturday, January 25, 2014

1567      +GRP_APP_LOAN_AMOUNT  = 1 ;
1568      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
1569      +end; end;
1570      +select;
1571      +when ( 1 < APP_NUMBER_OF_CHILDREN ) do;
1572      +GRP_APP_NUMBER_OF_CHILDREN  = 3 ;
1573      +WOE_APP_NUMBER_OF_CHILDREN  = -3.133131565 ;
1574      +end;
1575      +when ( 0 < APP_NUMBER_OF_CHILDREN <= 1 ) do;
1576      +GRP_APP_NUMBER_OF_CHILDREN  = 2 ;
1577      +WOE_APP_NUMBER_OF_CHILDREN  = -2.04606512 ;
1578      +end;
1579      +when ( not missing(APP_NUMBER_OF_CHILDREN) and APP_NUMBER_OF_CHILDREN <= 0 ) do;
1580      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
1581      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
1582      +end;
1583      +otherwise do;
1584      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
1585      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
1586      +end; end;
1587      +keep &keep;
1588      +if _error_=1 then _error_=0;
1589      +run;

NOTE: There were 872745 observations read from the data set ABT.VALID.
NOTE: The data set ABT.VALID_WOE has 872745 observations and 36 variables.
NOTE: Compressing data set ABT.VALID_WOE decreased size by 32.54 percent. 
      Compressed is 11109 pages; un-compressed would require 16468 pages.
NOTE: DATA statement used (Total process time):
      real time           12.13 seconds
      cpu time            10.98 seconds
      

NOTE: %INCLUDE (level 2) ending.
NOTE: %INCLUDE (level 1) resuming.
1590      +
1591      +
NOTE: %INCLUDE (level 1) ending.
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\va
      riable_pre_selection_beh.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\va
      riable_pre_selection_beh.sas.
1592      +/*  (c) Karol Przanowski   */
1593      +/*    kprzan@sgh.waw.pl    */
1594      +
1595      +
1596      +
1597      +/*options mprint;*/
1598      +libname d (wyj);
NOTE: Libref D was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
1599      +
1600      +proc sql;
1601      +create table &em_lib..zmienne_wej as
1602      +select upcase(zmienna) as name from wyj.karta_duza
1603      +group by 1
1604      +having max(grp)>1;
NOTE: Table WYJ.ZMIENNE_WEJ created, with 7 rows and 1 columns.

1605      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.68 seconds
      cpu time            0.07 seconds
      

1606      +
60                                       The SAS System          08:20 Saturday, January 25, 2014

1607      +
1608      +data zmienne_stat_beh;
1609      +length _VARIABLE_ $32 ar_train 8;
1610      +format ar_train percent12.2;
1611      +delete;
1612      +run;

NOTE: Variable _VARIABLE_ is uninitialized.
NOTE: Variable ar_train is uninitialized.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 0 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1613      +
1614      +%macro validuj_zmienne(train,lista,max_il=1);
1615      +
1616      +data _null_;
1617      +set &lista(obs=1) nobs=il;
1618      +call symput('il',put(il,best12.-L));
1619      +run;
1620      +%if (&max_il eq 0 or &max_il>&il) %then %let max_il=&il;
1621      +%do i=1 %to &max_il;
1622      +
1623      +
1624      +data _null_;
1625      +set &lista(obs=&i firstobs=&i);
1626      +call symput('z_org',name);
1627      +run;
1628      +
1629      +%let z_woe=WOE_&z_org;
1630      +%let z_grp=GRP_&z_org;
1631      +%put &z_woe &z_org &z_grp;
1632      +
1633      +data train_zm;
1634      +set &train(keep=&tar &z_woe &z_org &z_grp);
1635      +run;
1636      +
1637      +%let ar_train=.;
1638      +
1639      +%if %sysfunc(exist(a)) %then %do;
1640      +proc delete data=a;
1641      +run;
1642      +%end;
1643      +
1644      +ods listing close;
1645      +ods output Association=a;
1646      +	proc logistic data=train_zm desc;
1647      +	model &tar=&z_woe;
1648      +	run;
1649      +ods output close;
1650      +ods listing;
1651      +
1652      +%if %sysfunc(exist(a)) %then %do;
1653      +data _null_;
1654      +set a;
1655      +where label2='c';
1656      +ar=2*nvalue2-1;
1657      +if _n_=1 then call symput("ar_train",put(ar,best12.-L));
1658      +run;
1659      +%end;
1660      +
1661      +data z;
1662      +length _VARIABLE_ $32 ar_train 8;
1663      +format ar_train percent12.2;
1664      +_variable_="&z_woe";
1665      +ar_train=&ar_train;
1666      +run;
1667      +
61                                       The SAS System          08:20 Saturday, January 25, 2014

1668      +
1669      +proc append base=zmienne_stat_beh data=z;
1670      +run;
1671      +
1672      +%end;
1673      +%mend;
1674      +
1675      +%validuj_zmienne(&em_import_data,&em_lib..zmienne_wej,max_il=0);

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_ACT_CC ACT_CC                           GRP_ACT_CC

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.16 seconds
      cpu time            5.13 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.09 seconds
      cpu time            16.98 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 1 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
62                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.01 seconds
      

WOE_ACT_CINS_MIN_SENIORITY ACT_CINS_MIN_SENIORITY           GRP_ACT_CINS_MIN_SENIORITY

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.49 seconds
      cpu time            5.25 seconds
      


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.86 seconds
      cpu time            16.84 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 2 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WOE_ACT_CINS_N_STATC ACT_CINS_N_STATC                 GRP_ACT_CINS_N_STATC

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.49 seconds
      cpu time            5.22 seconds
      

63                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.14 seconds
      cpu time            17.09 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 3 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_APP_CHAR_JOB_CODE APP_CHAR_JOB_CODE                GRP_APP_CHAR_JOB_CODE

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.53 seconds
      cpu time            5.28 seconds
      


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
64                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.39 seconds
      cpu time            17.33 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 4 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WOE_APP_CHAR_MARITAL_STATUS APP_CHAR_MARITAL_STATUS          GRP_APP_CHAR_MARITAL_STATUS

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           6.16 seconds
      cpu time            5.46 seconds
      


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.78 seconds
      cpu time            16.75 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
65                                       The SAS System          08:20 Saturday, January 25, 2014



NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 5 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_APP_LOAN_AMOUNT APP_LOAN_AMOUNT                  GRP_APP_LOAN_AMOUNT

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           6.49 seconds
      cpu time            5.50 seconds
      


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.95 seconds
      cpu time            16.89 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
66                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.ZMIENNE_STAT_BEH has 6 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WOE_APP_NUMBER_OF_CHILDREN APP_NUMBER_OF_CHILDREN           GRP_APP_NUMBER_OF_CHILDREN

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.74 seconds
      cpu time            5.32 seconds
      


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           18.43 seconds
      cpu time            18.29 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: The data set WORK.Z has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT_BEH.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT_BEH has 7 observations and 2 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1676      +
1677      +proc sort data=zmienne_stat_beh out=&em_lib..zmienne_stat_beh;
1678      +by descending AR_Train ;
1679      +/*by descending _gini_;*/
1680      +run;

67                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 7 observations read from the data set WORK.ZMIENNE_STAT_BEH.
NOTE: The data set WYJ.ZMIENNE_STAT_BEH has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1681      +
1682      +
1683      +
1684      +
1685      +
NOTE: %INCLUDE (level 1) ending.

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT_BEH.
      WHERE ar_train>0.05;
NOTE: The data set WYJ.DOBRE_ZMIENNE_BEH has 7 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\va
      riable_pre_selection_full.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\va
      riable_pre_selection_full.sas.
1686      +/*  (c) Karol Przanowski   */
1687      +/*    kprzan@sgh.waw.pl    */
1688      +
1689      +
1690      +
1691      +/*options mprint;*/
1692      +libname d (wyj);
NOTE: Libref D was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
1693      +
1694      +
1695      +
1696      +%let max_n_uni=20;
1697      +
1698      +%let name_ps_org_diff          =PS_Org_Diff  ;
1699      +%let name_ps_org_train         =PS_Org_Train ;
1700      +%let name_ps_org_valid         =PS_Org_Valid ;
1701      +
1702      +%let name_ps_grp_diff          =PS_Grp_Diff  ;
1703      +%let name_ps_grp_train         =PS_Grp_Train ;
1704      +%let name_ps_grp_valid         =PS_Grp_Valid ;
1705      +
1706      +%let name_ks_01_train       =KS_01_Train        ;
1707      +%let name_h_01_train        =H_01_Train         ;
1708      +%let name_max_dist_01_train =Max_Dist_01_Train  ;
1709      +%let name_ks_01_valid       =KS_01_Valid        ;
1710      +%let name_h_01_valid        =H_01_Valid         ;
1711      +%let name_max_dist_01_valid =Max_Dist_01_Valid  ;
1712      +%let name_c_01_diff         =C_01_Diff          ;
1713      +%let name_c_01_train         =C_01_Train        ;
1714      +%let name_c_01_valid         =C_01_Valid        ;
1715      +%let name_ks_01_diff        =KS_01_Diff         ;
1716      +%let name_h_01_diff         =H_01_Diff          ;
1717      +%let name_max_dist_01_diff  =Max_Dist_01_Diff   ;
1718      +%let name_pr_moda_train     =PR_Moda_Train      ;
1719      +%let name_moda_train        =Moda_Train         ;
1720      +%let name_pr_miss_train     =PR_Miss_Train      ;
1721      +%let name_n_uni_train       =N_Uni_Train        ;
1722      +%let name_pr_moda_valid     =PR_Moda_Valid      ;
1723      +%let name_moda_valid        =Moda_Valid         ;
68                                       The SAS System          08:20 Saturday, January 25, 2014

1724      +%let name_pr_miss_valid     =PR_Miss_Valid      ;
1725      +%let name_n_uni_valid       =N_Uni_Valid        ;
1726      +%let name_h_tv              =H_TV               ;
1727      +%let name_h_br_tv           =H_Br_TV            ;
1728      +%let name_ks_tv             =KS_TV              ;
1729      +%let name_ks_br_tv          =KS_Br_TV           ;
1730      +%let name_ar_diff           =AR_Diff            ;
1731      +%let name_ar_train          =AR_Train           ;
1732      +%let name_ar_valid          =AR_Valid           ;
1733      +%let name_h_grp_train       =H_GRP_Train        ;
1734      +%let name_max_dist_grp_train=Max_Mist_GRP_Train ;
1735      +%let name_h_grp_valid       =H_GRP_Valid        ;
1736      +%let name_max_dist_grp_valid=Max_Dist_GRP_Valid ;
1737      +%let name_h_grp_diff        =H_GRP_Diff         ;
1738      +%let name_max_dist_grp_diff =Max_Dist_GRP_Diff  ;
1739      +%let name_h_grp_tv          =H_GRP_TV           ;
1740      +%let name_max_dist_grp_tv   =Max_Dist_GRP_TV    ;
1741      +%let name_h_br_grp_tv       =H_Br_GRP_TV        ;
1742      +%let name_max_br_dist_grp_tv=Max_Br_Dist_GRP_TV ;
1743      +
1744      +%let def_var=
1745      +length
1746      +&name_pr_miss_train
1747      +&name_pr_miss_valid
1748      +&name_n_uni_train
1749      +&name_n_uni_valid
1750      +
1751      +&name_pr_moda_train
1752      +&name_pr_moda_valid
1753      +8
1754      +
1755      +&name_moda_train $ 20
1756      +&name_moda_valid $ 20
1757      +
1758      +&name_ks_01_train
1759      +&name_ks_01_valid
1760      +&name_ks_01_diff
1761      +
1762      +&name_h_01_train
1763      +&name_h_01_valid
1764      +&name_h_01_diff
1765      +
1766      +&name_max_dist_01_train
1767      +&name_max_dist_01_valid
1768      +&name_max_dist_01_diff
1769      +
1770      +&name_c_01_train
1771      +&name_c_01_valid
1772      +&name_c_01_diff
1773      +
1774      +&name_ps_org_diff
1775      +&name_ps_org_train
1776      +&name_ps_org_valid
1777      +
1778      +&name_ps_grp_diff
1779      +&name_ps_grp_train
1780      +&name_ps_grp_valid
1781      +
1782      +&name_ar_train
1783      +&name_ar_valid
1784      +&name_ar_diff
1785      +
1786      +&name_h_tv
1787      +&name_h_br_tv
1788      +&name_ks_tv
1789      +&name_ks_br_tv
1790      +
1791      +&name_h_grp_train
1792      +&name_h_grp_valid
1793      +&name_h_grp_diff
69                                       The SAS System          08:20 Saturday, January 25, 2014

1794      +
1795      +&name_max_dist_grp_train
1796      +&name_max_dist_grp_valid
1797      +&name_max_dist_grp_diff
1798      +
1799      +&name_h_grp_tv
1800      +&name_max_dist_grp_tv
1801      +
1802      +&name_h_br_grp_tv
1803      +&name_max_br_dist_grp_tv
1804      +8
1805      +;
1806      +
1807      +
1808      +
1809      +%let prawiezero=0.000000001;
1810      +%macro licz_h(z1,z2,zmienna,wyn);
1811      +proc freq data=&z1 noprint;
1812      +table &zmienna / missing out=f1;
1813      +run;
1814      +proc freq data=&z2 noprint;
1815      +table &zmienna / missing out=f2;
1816      +run;
1817      +data f1;
1818      +set f1;
1819      +okres="1";
1820      +run;
1821      +data f2;
1822      +set f2;
1823      +okres="2";
1824      +run;
1825      +data zb;
1826      +merge
1827      +f1(rename=(percent=p1))
1828      +f2(rename=(percent=p2));
1829      +by &zmienna;
1830      +drop count okres;
1831      +run;
1832      +data &wyn;
1833      +retain maxd h 0;
1834      +set zb end=e;
1835      +if missing(p1) then p1=0;
1836      +if missing(p2) then p2=0;
1837      +maxd=max(maxd,abs(p1-p2));
1838      +if p1=0 then p1=&prawiezero;
1839      +if p2=0 then p2=&prawiezero;
1840      +h=sum(h,p1*log(p1/p2));
1841      +if e;
1842      +maxd=maxd/100;
1843      +h=h/100;
1844      +keep maxd h;
1845      +run;
1846      +%mend;
1847      +
1848      +
1849      +
1850      +proc sql;
1851      +create table &em_lib..zmienne_wej_full as
1852      +select upcase(substr(_VARIABLE_,5)) as name
1853      +from &em_lib..dobre_zmienne_beh;
NOTE: Table WYJ.ZMIENNE_WEJ_FULL created, with 7 rows and 1 columns.

1854      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1855      +
1856      +
70                                       The SAS System          08:20 Saturday, January 25, 2014

1857      +data zmienne_stat;
1858      +length _VARIABLE_ $32 level $10;
1859      +&def_var;
1860      +format
1861      +&name_pr_miss_train
1862      +&name_pr_miss_valid
1863      +&name_pr_moda_train
1864      +&name_pr_moda_valid
1865      +&name_ks_01_diff
1866      +&name_h_01_diff
1867      +&name_max_dist_01_diff
1868      +&name_c_01_diff
1869      +
1870      +&name_ps_org_diff
1871      +&name_ps_grp_diff
1872      +
1873      +&name_ar_diff
1874      +&name_h_grp_diff
1875      +&name_max_dist_grp_diff
1876      +percent12.2
1877      +;
1878      +delete;
1879      +run;

NOTE: Variable _VARIABLE_ is uninitialized.
NOTE: Variable level is uninitialized.
NOTE: Variable PR_Miss_Train is uninitialized.
NOTE: Variable PR_Miss_Valid is uninitialized.
NOTE: Variable N_Uni_Train is uninitialized.
NOTE: Variable N_Uni_Valid is uninitialized.
NOTE: Variable PR_Moda_Train is uninitialized.
NOTE: Variable PR_Moda_Valid is uninitialized.
NOTE: Variable Moda_Train is uninitialized.
NOTE: Variable Moda_Valid is uninitialized.
NOTE: Variable KS_01_Train is uninitialized.
NOTE: Variable KS_01_Valid is uninitialized.
NOTE: Variable KS_01_Diff is uninitialized.
NOTE: Variable H_01_Train is uninitialized.
NOTE: Variable H_01_Valid is uninitialized.
NOTE: Variable H_01_Diff is uninitialized.
NOTE: Variable Max_Dist_01_Train is uninitialized.
NOTE: Variable Max_Dist_01_Valid is uninitialized.
NOTE: Variable Max_Dist_01_Diff is uninitialized.
NOTE: Variable C_01_Train is uninitialized.
NOTE: Variable C_01_Valid is uninitialized.
NOTE: Variable C_01_Diff is uninitialized.
NOTE: Variable PS_Org_Diff is uninitialized.
NOTE: Variable PS_Org_Train is uninitialized.
NOTE: Variable PS_Org_Valid is uninitialized.
NOTE: Variable PS_Grp_Diff is uninitialized.
NOTE: Variable PS_Grp_Train is uninitialized.
NOTE: Variable PS_Grp_Valid is uninitialized.
NOTE: Variable AR_Train is uninitialized.
NOTE: Variable AR_Valid is uninitialized.
NOTE: Variable AR_Diff is uninitialized.
NOTE: Variable H_TV is uninitialized.
NOTE: Variable H_Br_TV is uninitialized.
NOTE: Variable KS_TV is uninitialized.
NOTE: Variable KS_Br_TV is uninitialized.
NOTE: Variable H_GRP_Train is uninitialized.
NOTE: Variable H_GRP_Valid is uninitialized.
NOTE: Variable H_GRP_Diff is uninitialized.
NOTE: Variable Max_Mist_GRP_Train is uninitialized.
NOTE: Variable Max_Dist_GRP_Valid is uninitialized.
NOTE: Variable Max_Dist_GRP_Diff is uninitialized.
NOTE: Variable H_GRP_TV is uninitialized.
NOTE: Variable Max_Dist_GRP_TV is uninitialized.
NOTE: Variable H_Br_GRP_TV is uninitialized.
NOTE: Variable Max_Br_Dist_GRP_TV is uninitialized.
NOTE: The data set WORK.ZMIENNE_STAT has 0 observations and 45 variables.
71                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

1880      +
1881      +%macro validuj_zmienne(train,valid,lista,max_il=1);
1882      +
1883      +%global
1884      +ks_01_train
1885      +h_01_train
1886      +max_dist_01_train
1887      +ks_01_valid
1888      +h_01_valid
1889      +max_dist_01_valid
1890      +c_01_diff
1891      +c_01_train
1892      +c_01_valid
1893      +ks_01_diff
1894      +h_01_diff
1895      +max_dist_01_diff
1896      +pr_moda_train
1897      +moda_train
1898      +pr_miss_train
1899      +n_uni_train
1900      +pr_moda_valid
1901      +moda_valid
1902      +pr_miss_valid
1903      +n_uni_valid
1904      +h_tv
1905      +h_br_tv
1906      +ks_tv
1907      +ks_br_tv
1908      +ar_diff
1909      +ar_train
1910      +ar_valid
1911      +h_grp_train
1912      +max_dist_grp_train
1913      +h_grp_valid
1914      +max_dist_grp_valid
1915      +h_grp_diff
1916      +max_dist_grp_diff
1917      +h_grp_tv
1918      +max_dist_grp_tv
1919      +h_br_grp_tv
1920      +max_br_dist_grp_tv
1921      +;
1922      +
1923      +
1924      +data _null_;
1925      +set &lista(obs=1) nobs=il;
1926      +call symput('il',put(il,best12.-L));
1927      +run;
1928      +%if (&max_il eq 0 or &max_il>&il) %then %let max_il=&il;
1929      +%do i=1 %to &max_il;
1930      +
1931      +
1932      +%let ps_org_train      =.;
1933      +%let ps_org_valid      =.;
1934      +%let ps_org_diff       =.;
1935      +
1936      +%let ks_01_train       =. ;
1937      +%let h_01_train        =. ;
1938      +%let max_dist_01_train =. ;
1939      +%let ks_01_valid       =. ;
1940      +%let h_01_valid        =. ;
1941      +%let max_dist_01_valid =. ;
1942      +%let c_01_diff         =. ;
1943      +%let c_01_train        =. ;
1944      +%let c_01_valid        =. ;
72                                       The SAS System          08:20 Saturday, January 25, 2014

1945      +%let ks_01_diff        =. ;
1946      +%let h_01_diff         =. ;
1947      +%let max_dist_01_diff  =. ;
1948      +%let pr_moda_train     =. ;
1949      +%let moda_train        =* ;
1950      +%let pr_miss_train     =. ;
1951      +%let n_uni_train       =. ;
1952      +%let pr_moda_valid     =. ;
1953      +%let moda_valid        =* ;
1954      +%let pr_miss_valid     =. ;
1955      +%let n_uni_valid       =. ;
1956      +%let h_tv              =. ;
1957      +%let h_br_tv           =. ;
1958      +%let ks_tv             =. ;
1959      +%let ks_br_tv          =. ;
1960      +%let ar_diff           =. ;
1961      +%let ar_train          =. ;
1962      +%let ar_valid          =. ;
1963      +%let h_grp_train       =. ;
1964      +%let max_dist_grp_train=. ;
1965      +%let h_grp_valid       =. ;
1966      +%let max_dist_grp_valid=. ;
1967      +%let h_grp_diff        =. ;
1968      +%let max_dist_grp_diff =. ;
1969      +%let h_grp_tv          =. ;
1970      +%let max_dist_grp_tv   =. ;
1971      +%let h_br_grp_tv       =. ;
1972      +%let max_br_dist_grp_tv=. ;
1973      +
1974      +
1975      +
1976      +
1977      +data _null_;
1978      +set &lista(obs=&i firstobs=&i);
1979      +call symput('z_org',name);
1980      +run;
1981      +
1982      +%let z_woe=WOE_&z_org;
1983      +%let z_grp=GRP_&z_org;
1984      +%put &z_woe &z_org &z_grp;
1985      +
1986      +data train_zm;
1987      +set &train(keep=&tar &z_woe &z_org &z_grp);
1988      +run;
1989      +
1990      +data valid_zm;
1991      +set &valid(keep=&tar &z_woe &z_org &z_grp);
1992      +run;
1993      +
1994      +
1995      +%let level=Pusty;
1996      +proc sql noprint;
1997      +select upcase(typ) into :level
1998      +from &em_data_variableset
1999      +where upcase(zmienna) eq "%upcase(&z_org)";
2000      +quit;
2001      +%put &z_org &z_woe level=&level;
2002      +
2003      +
2004      +data z;
2005      +set &em_data_variableset;
2006      +where upcase(zmienna) eq "&z_org";
2007      +zmienna=upcase(zmienna);
2008      +rename zmienna=_VARIABLE_;
2009      +keep zmienna;
2010      +run;
2011      +
2012      +/*na oryginalnych:*/
2013      +/*liczba unikalnych wartosci*/
2014      +/*najczestsza wartosc oprocz braku*/
73                                       The SAS System          08:20 Saturday, January 25, 2014

2015      +/*procent brakow danych*/
2016      +/*c i ks lub h na 0 i 1 train i valid*/
2017      +/*ks h ks_br h_br na okresach*/
2018      +/*c_01_diff*/
2019      +/**/
2020      +
2021      +
2022      +/*na oryginalnych:*/
2023      +
2024      +%macro licz_org(naz,zb_wej);
2025      +%global pr_moda_&naz moda_&naz pr_miss_&naz n_uni_&naz
2026      +c_01_&naz ks_01_&naz h_01_&naz max_dist_01_&naz;
2027      +
2028      +proc freq data=&zb_wej(keep=&z_org) noprint ;
2029      +table &z_org / out=f missing;
2030      +run;
2031      +proc sort data=f;
2032      +by descending percent;
2033      +run;
2034      +
2035      +%let pr_miss_&naz=0;
2036      +proc sql noprint;
2037      +select PERCENT/100,&z_org into :pr_moda_&naz,:moda_&naz
2038      +from f(obs=1) where &z_org is not missing;
2039      +select sum(PERCENT)/100 into :pr_miss_&naz
2040      +from f where missing(&z_org);
2041      +quit;
2042      +%put &&pr_moda_&naz &&moda_&naz &&pr_miss_&naz;
2043      +data _null_;
2044      +set f(obs=1) nobs=il;
2045      +call symput("n_uni_&naz",put(il,best12.-L));
2046      +run;
2047      +%put &&n_uni_&naz;
2048      +
2049      +%let c_01_&naz=.;
2050      +
2051      +%if %sysfunc(exist(a)) %then %do;
2052      +proc delete data=a;
2053      +run;
2054      +%end;
2055      +
2056      +%if (&level eq INT or &n_uni_train <= &max_n_uni) %then %do;
2057      +ods listing close;
2058      +ods output Association=a;
2059      +%if &naz=train %then %do;
2060      +	proc logistic data=&zb_wej(keep=&tar &z_org) desc outest=b;
2061      +	%if &level ne INT %then %do;
2062      +	class &z_org;
2063      +	%end;
2064      +	model &tar=&z_org;
2065      +	run;
2066      +%end; %else %do;
2067      +	proc logistic data=&zb_wej(keep=&tar &z_org) desc inest=b;
2068      +	%if &level ne INT %then %do;
2069      +	class &z_org;
2070      +	%end;
2071      +	model &tar=&z_org / maxiter=0;
2072      +	run;
2073      +%end;
2074      +ods output close;
2075      +ods listing;
2076      +%end;
2077      +
2078      +%if %sysfunc(exist(a)) %then %do;
2079      +data _null_;
2080      +set a;
2081      +where label2='c';
2082      +if _n_=1 then call symput("c_01_&naz",put(nValue2,best12.-L));
2083      +run;
2084      +%end;
74                                       The SAS System          08:20 Saturday, January 25, 2014

2085      +
2086      +%put &&c_01_&naz;
2087      +
2088      +%if &level ne INT %then %do;
2089      +%let ks_01_&naz=.;
2090      +%let max_dist_01_&naz=.;
2091      +%licz_h(&zb_wej(keep=&tar &z_org where=(&tar=0)),
2092      +&&&naz(keep=&tar &z_org where=(&tar=1)),&z_org,wyn);
2093      +data _null_;
2094      +set wyn;
2095      +call symput("h_01_&naz",put(h,best12.-L));
2096      +call symput("max_dist_01_&naz",put(maxd,best12.-L));
2097      +run;
2098      +%end; %else %do;
2099      +%let h_01_&naz=.;
2100      +proc npar1way data=&zb_wej(keep=&tar &z_org) edf wilcoxon noprint;
2101      +class &tar;
2102      +var &z_org;
2103      +output out=ks wilcoxon edf;
2104      +run;
2105      +data _null_;
2106      +set ks;
2107      +call symput("ks_01_&naz",put(_d_,best12.-L));
2108      +run;
2109      +%end;
2110      +%put &&ks_01_&naz;
2111      +%put &&h_01_&naz;
2112      +%put &&max_dist_01_&naz;
2113      +
2114      +/*%powerc(&&&naz,&z_org,&tar);*/
2115      +/*data _null_;*/
2116      +/*set power;*/
2117      +/*call symput("ps_org_&naz",put(powerpercent,best12.-L));*/
2118      +/*run;*/
2119      +%let ps_org_&naz=.;
2120      +%put &&ps_org_&naz;
2121      +
2122      +%mend;
2123      +%licz_org(train,train_zm);
2124      +%licz_org(valid,valid_zm);
2125      +
2126      +%let ps_org_diff=%sysfunc(putn((&ps_org_train-&ps_org_valid)/&ps_org_train,best12.-L))
2126     !+;
2127      +%put &ps_org_diff;
2128      +
2129      +%let c_01_diff=%sysfunc(putn((&c_01_train-&c_01_valid)/&c_01_train,best12.-L));
2130      +%put &c_01_diff;
2131      +
2132      +%let h_01_diff=%sysfunc(putn((&h_01_train-&h_01_valid)/&h_01_train,best12.-L));
2133      +%put &h_01_diff;
2134      +
2135      +%let ks_01_diff=%sysfunc(putn((&ks_01_train-&ks_01_valid)/&ks_01_train,best12.-L));
2136      +%put &ks_01_diff;
2137      +
2138      +%let max_dist_01_diff=%sysfunc(
2139      +putn((&max_dist_01_train-&max_dist_01_valid)/&max_dist_01_train,best12.-L));
2140      +%put &max_dist_01_diff;
2141      +
2142      +%macro licz_naokresach_org;
2143      +%global h_tv h_br_tv ks_tv ks_br_tv;
2144      +%if &level ne INT %then %do;
2145      +%licz_h(train_zm(keep=&z_org),valid_zm(keep=&z_org),&z_org,wyn);
2146      +data _null_;
2147      +set wyn;
2148      +call symput("h_tv",put(h,best12.-L));
2149      +call symput("h_br_tv",put(maxd,best12.-L));
2150      +run;
2151      +%let ks_tv=.;
2152      +%let ks_br_tv=.;
2153      +
75                                       The SAS System          08:20 Saturday, January 25, 2014

2154      +%end; %else %do;
2155      +%let h_tv=.;
2156      +%let h_br_tv=.;
2157      +data razem;
2158      +set train_zm(in=z keep=&z_org &tar) valid_zm(keep=&z_org &tar);
2159      +t=z;
2160      +run;
2161      +proc npar1way data=razem edf wilcoxon noprint;
2162      +class t;
2163      +var &z_org;
2164      +output out=ks wilcoxon edf;
2165      +run;
2166      +data _null_;
2167      +set ks;
2168      +call symput("ks_tv",put(_d_,best12.-L));
2169      +run;
2170      +
2171      +proc npar1way data=razem(where=(&tar=1)) edf wilcoxon noprint;
2172      +class t;
2173      +var &z_org;
2174      +output out=ks wilcoxon edf;
2175      +run;
2176      +data _null_;
2177      +set ks;
2178      +call symput("ks_br_tv",put(_d_,best12.-L));
2179      +run;
2180      +
2181      +%end;
2182      +%mend;
2183      +%licz_naokresach_org;
2184      +
2185      +%put &h_tv &h_br_tv &ks_tv &ks_br_tv;
2186      +
2187      +
2188      +/*na woe:*/
2189      +/*ar_01 na okresach*/
2190      +/**/
2191      +%macro licz_ar_woe;
2192      +%if %sysfunc(exist(a)) %then %do;
2193      +proc delete data=a;
2194      +run;
2195      +%end;
2196      +
2197      +ods listing close;
2198      +ods output Association(persist=proc)=a;
2199      +proc logistic data=train_zm(keep=&tar &z_woe) desc outest=b;
2200      +model &tar=&z_woe;
2201      +run;
2202      +proc logistic data=valid_zm(keep=&tar &z_woe) desc inest=b;
2203      +model &tar=&z_woe / maxiter=0;
2204      +run;
2205      +ods output close;
2206      +ods listing;
2207      +
2208      +%if %sysfunc(exist(a)) %then %do;
2209      +data n;
2210      +set a;
2211      +where label2='c';
2212      +ar=2*nValue2-1;
2213      +if _n_=1 then call symput('ar_train',put(ar,best12.-L));
2214      +if _n_=2 then call symput('ar_valid',put(ar,best12.-L));
2215      +run;
2216      +%end;
2217      +%mend;
2218      +%licz_ar_woe;
2219      +%let ar_diff=%sysfunc(putn((&ar_train-&ar_valid)/&ar_train,best12.-L));
2220      +%put &ar_diff;
2221      +%put &ar_train &ar_valid;
2222      +
2223      +
76                                       The SAS System          08:20 Saturday, January 25, 2014

2224      +%powerc(train_zm,&z_grp,&tar);
2225      +data _null_;
2226      +set power;
2227      +call symput("ps_grp_train",put(powerpercent,best12.-L));
2228      +run;
2229      +%put &ps_grp_train;
2230      +
2231      +%powerc(valid_zm,&z_grp,&tar);
2232      +data _null_;
2233      +set power;
2234      +call symput("ps_grp_valid",put(powerpercent,best12.-L));
2235      +run;
2236      +%put &ps_grp_valid;
2237      +
2238      +%let ps_grp_diff=%sysfunc(putn((&ps_grp_train-&ps_grp_valid)/&ps_grp_train,best12.-L))
2238     !+;
2239      +%put &ps_grp_diff;
2240      +
2241      +
2242      +
2243      +
2244      +
2245      +
2246      +/*na grp:*/
2247      +/*h_grp_01 i max_dist na 0 i 1 train i valid*/
2248      +/*h_grp_tv max_dist i h_br max_dist_br na okresach*/
2249      +
2250      +%licz_h(train_zm(keep=&tar &z_grp where=(&tar=0)),
2251      +train_zm(keep=&tar &z_grp where=(&tar=1)),&z_grp,wyn);
2252      +data _null_;
2253      +set wyn;
2254      +call symput("h_grp_train",put(h,best12.-L));
2255      +call symput("max_dist_grp_train",put(maxd,best12.-L));
2256      +run;
2257      +%put &h_grp_train &max_dist_grp_train;
2258      +
2259      +%licz_h(valid_zm(keep=&tar &z_grp where=(&tar=0)),
2260      +valid_zm(keep=&tar &z_grp where=(&tar=1)),&z_grp,wyn);
2261      +data _null_;
2262      +set wyn;
2263      +call symput("h_grp_valid",put(h,best12.-L));
2264      +call symput("max_dist_grp_valid",put(maxd,best12.-L));
2265      +run;
2266      +%put &h_grp_valid &max_dist_grp_valid;
2267      +
2268      +%let h_grp_diff=%sysfunc(putn((&h_grp_train-&h_grp_valid)/&h_grp_train,best12.-L));
2269      +%let max_dist_grp_diff=%sysfunc(putn((&max_dist_grp_train-&max_dist_grp_valid)
2270      +/&max_dist_grp_train,best12.-L));
2271      +%put &h_grp_diff &max_dist_grp_diff;
2272      +
2273      +/*na okresach*/
2274      +%licz_h(train_zm(keep=&tar &z_grp),
2275      +valid_zm(keep=&tar &z_grp),&z_grp,wyn);
2276      +data _null_;
2277      +set wyn;
2278      +call symput("h_grp_tv",put(h,best12.-L));
2279      +call symput("max_dist_grp_tv",put(maxd,best12.-L));
2280      +run;
2281      +%put &h_grp_tv &max_dist_grp_tv;
2282      +
2283      +
2284      +%licz_h(train_zm(keep=&tar &z_grp where=(&tar=1)),
2285      +valid_zm(keep=&tar &z_grp where=(&tar=1)),&z_grp,wyn);
2286      +data _null_;
2287      +set wyn;
2288      +call symput("h_br_grp_tv",put(h,best12.-L));
2289      +call symput("max_br_dist_grp_tv",put(maxd,best12.-L));
2290      +run;
2291      +%put &h_br_grp_tv &max_br_dist_grp_tv;
2292      +
77                                       The SAS System          08:20 Saturday, January 25, 2014

2293      +data z;
2294      +&def_var level $ 10;
2295      +set z;
2296      +level="&level";
2297      +&name_ks_01_train       =&ks_01_train        ;
2298      +&name_h_01_train        =&h_01_train         ;
2299      +&name_max_dist_01_train =&max_dist_01_train  ;
2300      +&name_ks_01_valid       =&ks_01_valid        ;
2301      +&name_h_01_valid        =&h_01_valid         ;
2302      +&name_max_dist_01_valid =&max_dist_01_valid  ;
2303      +&name_c_01_diff         =&c_01_diff          ;
2304      +&name_c_01_train        =&C_01_Train         ;
2305      +&name_c_01_valid        =&C_01_Valid         ;
2306      +
2307      +&name_ps_org_diff       =&ps_org_diff        ;
2308      +&name_ps_org_train      =&ps_org_Train       ;
2309      +&name_ps_org_valid      =&ps_org_Valid       ;
2310      +
2311      +&name_ps_grp_diff       =&ps_grp_diff        ;
2312      +&name_ps_grp_train      =&ps_grp_Train       ;
2313      +&name_ps_grp_valid      =&ps_grp_Valid       ;
2314      +
2315      +
2316      +&name_ks_01_diff        =&ks_01_diff         ;
2317      +&name_h_01_diff         =&h_01_diff          ;
2318      +&name_max_dist_01_diff  =&max_dist_01_diff   ;
2319      +&name_pr_moda_train     =&pr_moda_train      ;
2320      +&name_moda_train        ="&moda_train"         ;
2321      +&name_pr_miss_train     =&pr_miss_train      ;
2322      +&name_n_uni_train       =&n_uni_train        ;
2323      +&name_pr_moda_valid     =&pr_moda_valid      ;
2324      +&name_moda_valid        ="&moda_valid"         ;
2325      +&name_pr_miss_valid     =&pr_miss_valid      ;
2326      +&name_n_uni_valid       =&n_uni_valid        ;
2327      +&name_h_tv              =&h_tv               ;
2328      +&name_h_br_tv           =&h_br_tv            ;
2329      +&name_ks_tv             =&ks_tv              ;
2330      +&name_ks_br_tv          =&ks_br_tv           ;
2331      +&name_ar_diff           =&ar_diff            ;
2332      +&name_ar_train          =&ar_train           ;
2333      +&name_ar_valid          =&ar_valid           ;
2334      +&name_h_grp_train       =&h_grp_train        ;
2335      +&name_max_dist_grp_train=&max_dist_grp_train ;
2336      +&name_h_grp_valid       =&h_grp_valid        ;
2337      +&name_max_dist_grp_valid=&max_dist_grp_valid ;
2338      +&name_h_grp_diff        =&h_grp_diff         ;
2339      +&name_max_dist_grp_diff =&max_dist_grp_diff  ;
2340      +&name_h_grp_tv          =&h_grp_tv           ;
2341      +&name_max_dist_grp_tv   =&max_dist_grp_tv    ;
2342      +&name_h_br_grp_tv       =&h_br_grp_tv        ;
2343      +&name_max_br_dist_grp_tv=&max_br_dist_grp_tv ;
2344      +run;
2345      +
2346      +
2347      +
2348      +proc append base=zmienne_stat data=z;
2349      +run;
2350      +
2351      +%end;
2352      +%mend;
2353      +
2354      +%validuj_zmienne(&em_import_data,&em_import_validate,&em_lib..zmienne_wej_full,max_il=
2354     !+0);

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

78                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_APP_CHAR_JOB_CODE APP_CHAR_JOB_CODE                GRP_APP_CHAR_JOB_CODE

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.72 seconds
      cpu time            5.39 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.49 seconds
      cpu time            3.49 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

APP_CHAR_JOB_CODE                WOE_APP_CHAR_JOB_CODE level=NOM

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='APP_CHAR_JOB_CODE               ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.62 seconds
      cpu time            0.95 seconds
      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.507029 Retired              .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

4

79                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 9 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           23.18 seconds
      cpu time            22.90 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.6342229035

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.35 seconds
      cpu time            1.34 seconds
      


NOTE: There were 210574 observations read from the data set ABT.TRAIN_WOE.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           5.75 seconds
      cpu time            4.21 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
80                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

.
0.1629203186
0.1899044368
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.65 seconds
      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.507452 Retired              .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           12.71 seconds
      cpu time            12.62 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
81                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.6339384249

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.91 seconds
      cpu time            0.90 seconds
      


NOTE: There were 140251 observations read from the data set ABT.VALID_WOE.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           3.88 seconds
      cpu time            2.79 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

.
0.1619622766
0.189131437
.
.
0.0004485467
0.0058804329
.
82                                       The SAS System          08:20 Saturday, January 25, 2014

0.0040704673

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.01 seconds
      cpu time            0.99 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.65 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2.6806026E-6 0.0009249787 . .

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.36 seconds
      cpu time            17.34 seconds
83                                       The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.68 seconds
      cpu time            9.65 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

0.0021194494
0.268445807  0.2678768497

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.38 seconds
      cpu time            1.37 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.16 seconds
      cpu time            3.13 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.19 seconds
      cpu time            3.69 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
84                                       The SAS System          08:20 Saturday, January 25, 2014

      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.268445807

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.29 seconds
      cpu time            0.98 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.16 seconds
      cpu time            2.15 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.41 seconds
      cpu time            2.38 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.2678768497
0.0021194494

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.29 seconds
      cpu time            1.29 seconds
      
85                                       The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.77 seconds
      cpu time            0.76 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1629203186 0.1899044368

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.87 seconds
      cpu time            0.87 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.52 seconds
      cpu time            0.51 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
86                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1619622766 0.189131437
0.0058804329 0.0040704673

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.92 seconds
      cpu time            0.92 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.60 seconds
      cpu time            0.60 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
87                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2.6806026E-6 0.0009249787

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.77 seconds
      cpu time            0.78 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.65 seconds
      cpu time            0.62 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
88                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           0.00 seconds
      cpu time            0.00 seconds
      

5.9158668E-6 0.0010636314

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 1 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_APP_LOAN_AMOUNT APP_LOAN_AMOUNT                  GRP_APP_LOAN_AMOUNT

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           6.66 seconds
      cpu time            5.41 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           4.96 seconds
      cpu time            3.76 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

APP_LOAN_AMOUNT                  WOE_APP_LOAN_AMOUNT level=INT

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='APP_LOAN_AMOUNT                 ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 1270 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.90 seconds
      cpu time            1.87 seconds
      

89                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 1270 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 1270 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.003341     3168        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1270

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.89 seconds
      cpu time            16.88 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.6350272345

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.33 seconds
      cpu time            4.24 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.206298072
.
.
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
90                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.F has 1270 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.34 seconds
      cpu time            1.34 seconds
      


NOTE: There were 1270 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 1270 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.003482     3168        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1270

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.31 seconds
      cpu time            9.31 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.6339828795

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.90 seconds
      cpu time            2.88 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
91                                       The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

0.2049626279
.
.
.
.
0.001644583
.
0.0064733717
.

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.RAZEM has 2181529 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.10 seconds
      cpu time            2.10 seconds
      


NOTE: There were 2181529 observations read from the data set WORK.RAZEM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           7.05 seconds
      cpu time            7.05 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 350825 observations read from the data set WORK.RAZEM.
      WHERE default12new=1;
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.02 seconds
      cpu time            2.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

. . 0.0012080712 0.0024555598

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.92 seconds
      cpu time            16.91 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
92                                       The SAS System          08:20 Saturday, January 25, 2014

WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           10.29 seconds
      cpu time            10.20 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

0.0083564759
0.2619342448 0.2597453976

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.27 seconds
      cpu time            1.27 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.32 seconds
      cpu time            3.30 seconds
      

NOTE: Table WORK.TMP2 created, with 5 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.12 seconds
      cpu time            3.76 seconds
      


NOTE: There were 5 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
93                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.2619342448

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.87 seconds
      cpu time            0.87 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.16 seconds
      cpu time            2.16 seconds
      

NOTE: Table WORK.TMP2 created, with 5 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.43 seconds
      cpu time            2.40 seconds
      


NOTE: There were 5 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.2597453976
0.0083564759

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.20 seconds
      cpu time            1.17 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
94                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.F2 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.67 seconds
      

NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1217631309 0.1100679218

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.81 seconds
      cpu time            0.79 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.45 seconds
      cpu time            0.45 seconds
      

NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 5 observations read from the data set WORK.F2.
95                                       The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.F2 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.119898387  0.1101739986
0.01531452 -0.000963739

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.82 seconds
      cpu time            0.81 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.54 seconds
      

NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

96                                       The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 5 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4.7097319E-6 0.0013830051

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.68 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.48 seconds
      cpu time            0.46 seconds
      

NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 5 observations read from the data set WORK.F1.
NOTE: There were 5 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 5 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

97                                       The SAS System          08:20 Saturday, January 25, 2014

0.0000232333 0.0020531874

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 2 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WOE_APP_NUMBER_OF_CHILDREN APP_NUMBER_OF_CHILDREN           GRP_APP_NUMBER_OF_CHILDREN

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           6.30 seconds
      cpu time            5.46 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.64 seconds
      cpu time            3.44 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

APP_NUMBER_OF_CHILDREN           WOE_APP_NUMBER_OF_CHILDREN level=INT

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='APP_NUMBER_OF_CHILDREN          ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.74 seconds
      cpu time            0.73 seconds
      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
98                                       The SAS System          08:20 Saturday, January 25, 2014

      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.664539        0        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.62 seconds
      cpu time            17.53 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.5963399927

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.07 seconds
      cpu time            4.04 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1787403083
.
.
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.53 seconds
99                                       The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.664547        0        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.34 seconds
      cpu time            9.32 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.5959323803

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.76 seconds
      cpu time            2.73 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.177777433
100                                      The SAS System          08:20 Saturday, January 25, 2014

.
.
.
.
0.0006835235
.
0.005387007
.

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.RAZEM has 2181529 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.29 seconds
      cpu time            2.24 seconds
      


NOTE: There were 2181529 observations read from the data set WORK.RAZEM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           6.76 seconds
      cpu time            6.73 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 350825 observations read from the data set WORK.RAZEM.
      WHERE default12new=1;
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           1.99 seconds
      cpu time            1.98 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

. . 0.0005161994 0.0007659223

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.86 seconds
      cpu time            17.81 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
101                                      The SAS System          08:20 Saturday, January 25, 2014

         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.54 seconds
      cpu time            9.53 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

0.0042681967
0.1925371423 0.1917153559

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.27 seconds
      cpu time            1.28 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.10 seconds
      cpu time            3.05 seconds
      

NOTE: Table WORK.TMP2 created, with 3 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.12 seconds
      cpu time            3.57 seconds
      


NOTE: There were 3 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

102                                      The SAS System          08:20 Saturday, January 25, 2014

0.1925371423

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.88 seconds
      cpu time            0.89 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.69 seconds
      cpu time            2.18 seconds
      

NOTE: Table WORK.TMP2 created, with 3 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.42 seconds
      cpu time            2.34 seconds
      


NOTE: There were 3 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1917153559
0.0042681967

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.17 seconds
      cpu time            1.15 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.67 seconds
103                                      The SAS System          08:20 Saturday, January 25, 2014

      

NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1322032413 0.1787403083

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.79 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.46 seconds
      

NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
104                                      The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1315781276 0.177777433
0.0047284295 0.005387007

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.81 seconds
      cpu time            0.81 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.54 seconds
      

NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 3 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
105                                      The SAS System          08:20 Saturday, January 25, 2014

      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1.7608412E-6 0.0005241255

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.67 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.46 seconds
      

NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.F1.
NOTE: There were 3 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 3 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2.0296951E-6 0.0007659223

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
106                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 3 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_APP_CHAR_MARITAL_STATUS APP_CHAR_MARITAL_STATUS          GRP_APP_CHAR_MARITAL_STATUS

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.31 seconds
      cpu time            5.30 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.58 seconds
      cpu time            3.55 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

APP_CHAR_MARITAL_STATUS          WOE_APP_CHAR_MARITAL_STATUS level=NOM

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='APP_CHAR_MARITAL_STATUS         ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.82 seconds
      cpu time            0.82 seconds
      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

107                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

0.545976 Maried          .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 9 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           21.24 seconds
      cpu time            21.21 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.5911267668

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.21 seconds
      cpu time            1.21 seconds
      


NOTE: There were 210574 observations read from the data set ABT.TRAIN_WOE.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           4.07 seconds
      cpu time            3.85 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
108                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

.
0.081804839
0.1173293308
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.67 seconds
      


NOTE: There were 4 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.546031 Maried          .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

4

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
109                                      The SAS System          08:20 Saturday, January 25, 2014

WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           11.59 seconds
      cpu time            11.57 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.5895611126

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.84 seconds
      cpu time            0.82 seconds
      


NOTE: There were 140251 observations read from the data set ABT.VALID_WOE.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           2.54 seconds
      cpu time            2.52 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

110                                      The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

.
0.0810886388
0.1167711092
.
.
0.002648593
0.0087549858
.
0.0047577328

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.87 seconds
      cpu time            0.87 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.60 seconds
      cpu time            0.60 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

7.0954391E-7 0.0002074808 . .
111                                      The SAS System          08:20 Saturday, January 25, 2014


NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.09 seconds
      cpu time            17.06 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.64 seconds
      cpu time            9.62 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

0.0154255476
0.1594500279 0.1569904239

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.29 seconds
      cpu time            1.28 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.07 seconds
      cpu time            3.01 seconds
      

NOTE: Table WORK.TMP2 created, with 2 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.10 seconds
      cpu time            3.50 seconds
      
112                                      The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 2 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1594500279

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.02 seconds
      cpu time            0.88 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.04 seconds
      cpu time            2.04 seconds
      

NOTE: Table WORK.TMP2 created, with 2 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.40 seconds
      cpu time            2.40 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
113                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1569904239
0.0154255476

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.18 seconds
      cpu time            1.17 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.66 seconds
      cpu time            0.65 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.0549260773 0.1594500279

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.79 seconds
114                                      The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.45 seconds
      cpu time            0.45 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0533119045 0.1569904239
0.0293880954 0.0154255476

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.81 seconds
      cpu time            0.79 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.54 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
115                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2.8690348E-8 0.0001087282

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.65 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.48 seconds
      cpu time            0.45 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
116                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

9.4050363E-6 0.0021424804

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 4 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

WOE_ACT_CC ACT_CC                           GRP_ACT_CC

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.16 seconds
      cpu time            5.11 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.41 seconds
      cpu time            3.40 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

ACT_CC                           WOE_ACT_CC level=INT

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
117                                      The SAS System          08:20 Saturday, January 25, 2014

      WHERE UPCASE(zmienna)='ACT_CC                          ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 41598 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           4.24 seconds
      cpu time            4.24 seconds
      


NOTE: There were 41598 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 41598 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

0.000745 0.666667        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

41598

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.78 seconds
      cpu time            16.70 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.5821843242

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.41 seconds
      cpu time            4.41 seconds
118                                      The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1229144962
.
.
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 41598 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           3.01 seconds
      cpu time            2.99 seconds
      


NOTE: There were 41598 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 41598 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.37 seconds
      cpu time            0.09 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

0.000734 0.666667        .

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

41598

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.29 seconds
      cpu time            9.26 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
119                                      The SAS System          08:20 Saturday, January 25, 2014

      

0.581835635

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.93 seconds
      cpu time            2.91 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.1212928149
.
.
.
.
0.0005989326
.
0.0131935724
.

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.RAZEM has 2181529 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.13 seconds
      cpu time            2.13 seconds
      


NOTE: There were 2181529 observations read from the data set WORK.RAZEM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           7.08 seconds
      cpu time            7.06 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 350825 observations read from the data set WORK.RAZEM.
      WHERE default12new=1;
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.20 seconds
      cpu time            2.18 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

. . 0.0012358034 0.0021106803

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
120                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.83 seconds
      cpu time            16.76 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.60 seconds
      cpu time            9.59 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.0040710726
0.1500383955 0.1494275783

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.27 seconds
      cpu time            1.27 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.19 seconds
      cpu time            3.19 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.13 seconds
      cpu time            3.60 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
121                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1500383955

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.88 seconds
      cpu time            0.87 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.32 seconds
      cpu time            2.09 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.42 seconds
      cpu time            2.32 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
122                                      The SAS System          08:20 Saturday, January 25, 2014


0.1494275783
0.0040710726

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.17 seconds
      cpu time            1.17 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.67 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0670929503 0.1023229088

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.77 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
123                                      The SAS System          08:20 Saturday, January 25, 2014

      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.46 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0665118246 0.1010560258
0.0086615017 0.0123812254

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.81 seconds
      cpu time            0.78 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.53 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
124                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

6.4880771E-7 0.0004396105

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.65 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.46 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
125                                      The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0000126434 0.0018532377

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 5 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_ACT_CINS_MIN_SENIORITY ACT_CINS_MIN_SENIORITY           GRP_ACT_CINS_MIN_SENIORITY

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.10 seconds
      cpu time            5.10 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.41 seconds
      cpu time            3.38 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ACT_CINS_MIN_SENIORITY           WOE_ACT_CINS_MIN_SENIORITY level=INT

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='ACT_CINS_MIN_SENIORITY          ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
126                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 334 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.95 seconds
      cpu time            0.93 seconds
      


NOTE: There were 334 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 334 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.001887       53 0.729275

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

334

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           10.34 seconds
      cpu time            10.34 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.728702231

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           3.43 seconds
      cpu time            3.41 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
127                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.4209636872
.
.
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 334 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.67 seconds
      


NOTE: There were 334 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 334 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.001888       53 0.728852

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

334

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           6.37 seconds
      cpu time            6.34 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.7262839554

128                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.34 seconds
      cpu time            2.33 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.4193736056
.
.
.
.
0.003318606
.
0.0037772417
.

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.RAZEM has 2181529 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.12 seconds
      cpu time            2.12 seconds
      


NOTE: There were 2181529 observations read from the data set WORK.RAZEM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           5.72 seconds
      cpu time            5.72 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 350825 observations read from the data set WORK.RAZEM.
      WHERE default12new=1;
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           1.87 seconds
      cpu time            1.87 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

. . 0.0026950614 0.0056604156

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


129                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           16.97 seconds
      cpu time            16.86 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.42 seconds
      cpu time            9.40 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

0.004395015
0.1139480068 0.1134472036

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.31 seconds
      cpu time            1.31 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.08 seconds
      cpu time            3.08 seconds
      

NOTE: Table WORK.TMP2 created, with 2 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.09 seconds
      cpu time            3.52 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
130                                      The SAS System          08:20 Saturday, January 25, 2014



NOTE: There were 2 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1139480068

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.87 seconds
      cpu time            0.85 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.07 seconds
      cpu time            2.07 seconds
      

NOTE: Table WORK.TMP2 created, with 2 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.40 seconds
      cpu time            2.31 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

0.1134472036
0.004395015

131                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.17 seconds
      cpu time            1.16 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.63 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0441870364 0.1139480068

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.76 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
132                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            0.46 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0437085924 0.1134472036
0.0108277006 0.004395015

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.79 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.53 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
133                                      The SAS System          08:20 Saturday, January 25, 2014

      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

1.1320588E-7 0.0002034084

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.68 seconds
      cpu time            0.65 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.45 seconds
      cpu time            0.43 seconds
      

NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.F1.
NOTE: There were 2 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 2 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
134                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1.4583874E-6 0.0006018708

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 6 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_WEJ_FULL.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

WOE_ACT_CINS_N_STATC ACT_CINS_N_STATC                 GRP_ACT_CINS_N_STATC

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.TRAIN_ZM has 1308784 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           5.10 seconds
      cpu time            5.06 seconds
      


NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.VALID_ZM has 872745 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           3.44 seconds
      cpu time            3.41 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

ACT_CINS_N_STATC                 WOE_ACT_CINS_N_STATC level=INT

NOTE: There were 1 observations read from the data set WYJ.ZMIENNE_DEFINICJA.
      WHERE UPCASE(zmienna)='ACT_CINS_N_STATC                ';
NOTE: The data set WORK.Z has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


135                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F has 15 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.87 seconds
      cpu time            0.84 seconds
      


NOTE: There were 15 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 15 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.113355        1 0.729275

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           11.55 seconds
      cpu time            10.81 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.6000994516

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           3.61 seconds
      cpu time            3.58 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
136                                      The SAS System          08:20 Saturday, January 25, 2014


0.1916057096
.
.
.

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F has 15 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.60 seconds
      cpu time            0.60 seconds
      


NOTE: There were 15 observations read from the data set WORK.F.
NOTE: The data set WORK.F has 15 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.113757        1 0.728852

NOTE: There were 1 observations read from the data set WORK.F.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

15

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: The data set WORK.A has 4 observations and 6 variables.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           7.50 seconds
      cpu time            7.14 seconds
      


NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.6015933866

NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           2.58 seconds
137                                      The SAS System          08:20 Saturday, January 25, 2014

      cpu time            2.46 seconds
      


NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.1946972866
.
.
.
.
-0.002489479
.
-0.016135099
.

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.RAZEM has 2181529 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.24 seconds
      cpu time            2.18 seconds
      


NOTE: There were 2181529 observations read from the data set WORK.RAZEM.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           6.27 seconds
      cpu time            5.99 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 350825 observations read from the data set WORK.RAZEM.
      WHERE default12new=1;
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           1.99 seconds
      cpu time            1.96 seconds
      

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

. . 0.0018366699 0.0030658151

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.B has 1 observations and 7 variables.
138                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           19.18 seconds
      cpu time            18.62 seconds
      


NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum 
         number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, 
         FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based 
         on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           10.76 seconds
      cpu time            10.56 seconds
      

NOTE: The data set WORK.A has 8 observations and 8 variables.

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

-0.015097575
0.0936260861 0.095039613

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.37 seconds
      cpu time            1.34 seconds
      


NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.60 seconds
      cpu time            3.44 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           2.77 seconds
      cpu time            3.88 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
139                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0936260861

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           2.74 seconds
      cpu time            1.12 seconds
      


NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.16 seconds
      cpu time            2.16 seconds
      

NOTE: Table WORK.TMP2 created, with 4 rows and 3 columns.

NOTE: PROCEDURE SQL used (Total process time):
      real time           1.41 seconds
      cpu time            2.46 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.095039613
-0.015097575

NOTE: There were 1098210 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
140                                      The SAS System          08:20 Saturday, January 25, 2014

      real time           1.18 seconds
      cpu time            1.18 seconds
      


NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.67 seconds
      cpu time            0.65 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.0266802619 0.0502467814

NOTE: There were 732494 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=0;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.79 seconds
      cpu time            0.78 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.46 seconds
      cpu time            0.43 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
141                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.0275545349 0.0513144274
-0.032768531 -0.021248048

NOTE: There were 1308784 observations read from the data set WORK.TRAIN_ZM.
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.81 seconds
      cpu time            0.81 seconds
      


NOTE: There were 872745 observations read from the data set WORK.VALID_ZM.
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.54 seconds
      cpu time            0.53 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
142                                      The SAS System          08:20 Saturday, January 25, 2014

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

3.4013859E-6 0.0006319915

NOTE: There were 210574 observations read from the data set WORK.TRAIN_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F1 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.70 seconds
      cpu time            0.68 seconds
      


NOTE: There were 140251 observations read from the data set WORK.VALID_ZM.
      WHERE default12new=1;
NOTE: The data set WORK.F2 has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.45 seconds
      cpu time            0.45 seconds
      

NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: The data set WORK.F1 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.F2 has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.F1.
NOTE: There were 4 observations read from the data set WORK.F2.
NOTE: The data set WORK.ZB has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      


NOTE: There were 4 observations read from the data set WORK.ZB.
NOTE: The data set WORK.WYN has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
143                                      The SAS System          08:20 Saturday, January 25, 2014


NOTE: There were 1 observations read from the data set WORK.WYN.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.0000151365 0.0011133323

NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: The data set WORK.Z has 1 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      


NOTE: Appending WORK.Z to WORK.ZMIENNE_STAT.
NOTE: There were 1 observations read from the data set WORK.Z.
NOTE: 1 observations added.
NOTE: The data set WORK.ZMIENNE_STAT has 7 observations and 45 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2355      +
2356      +proc sort data=zmienne_stat out=&em_lib..zmienne_stat;
2357      +by descending AR_Train ;
2358      +/*by descending _gini_;*/
2359      +run;

NOTE: There were 7 observations read from the data set WORK.ZMIENNE_STAT.
NOTE: The data set WYJ.ZMIENNE_STAT has 7 observations and 45 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

2360      +
2361      +data &em_lib..zmienne;
2362      +set zmienne_stat;
2363      +name='WOE_'||trim(_variable_);
2364      +keep name;
2365      +/*where _gini_>10 and PR_Moda_Train<0.6;*/
2366      +run;

NOTE: There were 7 observations read from the data set WORK.ZMIENNE_STAT.
NOTE: The data set WYJ.ZMIENNE has 7 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2367      +
2368      +
2369      +
2370      +
NOTE: %INCLUDE (level 1) ending.

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE (ar_train>0.05) and (.<ABS(AR_Diff)) and (H_Br_GRP_TV>. and H_Br_GRP_TV<0.1) and 
      (H_GRP_TV>. and H_GRP_TV<0.1) and (ABS(AR_Diff)<0.2);
NOTE: The data set WYJ.DOBRE_ZMIENNE has 7 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

NOTE: %INCLUDE (level 1) file 
144                                      The SAS System          08:20 Saturday, January 25, 2014

      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ko
      piowanie_design.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ko
      piowanie_design.sas.
2371      +/*  (c) Karol Przanowski   */
2372      +/*    kprzan@sgh.waw.pl    */
2373      +
2374      +
2375      +/*%let design=non_mon;*/
2376      +/*%let design=mon_old;*/
2377      +/*%let design=mon_new;*/
2378      +
2379      +data wyj.karta_duza&design;
2380      +set wyj.karta_duza;
2381      +run;

NOTE: There were 24 observations read from the data set WYJ.KARTA_DUZA.
NOTE: The data set WYJ.KARTA_DUZA_NON_MON has 24 observations and 19 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2382      +data wyj.Zmienne_stat_beh&design;
2383      +set wyj.Zmienne_stat_beh;
2384      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT_BEH.
NOTE: The data set WYJ.ZMIENNE_STAT_BEH_NON_MON has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2385      +data wyj.Zmienne_stat&design;
2386      +set wyj.Zmienne_stat;
2387      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
NOTE: The data set WYJ.ZMIENNE_STAT_NON_MON has 7 observations and 45 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

2388      +data wyj.Dobre_zmienne&design;
2389      +set wyj.Dobre_zmienne;
2390      +run;

NOTE: There were 7 observations read from the data set WYJ.DOBRE_ZMIENNE.
NOTE: The data set WYJ.DOBRE_ZMIENNE_NON_MON has 7 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2391      +
NOTE: %INCLUDE (level 1) ending.
2392       data wyj.chosen_variables;
2393       set wyj.Dobre_zmienne;
2394       zmienna=upcase(_VARIABLE_);
2395       keep zmienna;
2396       run;

NOTE: There were 7 observations read from the data set WYJ.DOBRE_ZMIENNE.
NOTE: The data set WYJ.CHOSEN_VARIABLES has 7 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      
145                                      The SAS System          08:20 Saturday, January 25, 2014


2397       %include "&kat_kody.raporty_zmiennych.sas" / source2;
NOTE: %INCLUDE (level 1) file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ra
      porty_zmiennych.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ra
      porty_zmiennych.sas.
2398      +/*  (c) Karol Przanowski   */
2399      +/*    kprzan@sgh.waw.pl    */
2400      +
2401      +
2402      +
2403      +/*raporty o zmiennych new*/
2404      +options ls=256;
2405      +options mprint;
2406      +%let nr_cent=99;
2407      +
2408      +proc format;
2409      +picture procent (round)
2410      +low- -0.005='00.000.000.009,99 %'
2411      +(decsep=','
2412      +dig3sep='.'
2413      +fill=' '
2414      +prefix='-')
2415      +-0.005-high='00.000.000.009,99 %'
2416      +(decsep=','
2417      +dig3sep='.'
2418      +fill=' ')
2419      +;
NOTE: Format PROCENT has been output.
2420      +run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      

2421      +
2422      +proc format;
2423      +picture liczba (round)
2424      +low- -0.005='0 000 000 000 009,99'
2425      +(decsep=','
2426      +dig3sep=' '
2427      +fill=' '
2428      +prefix='-')
2429      +-0.005-high='0 000 000 000 009,99'
2430      +(decsep=','
2431      +dig3sep=' '
2432      +fill=' ')
2433      +;
NOTE: Format LICZBA has been output.
2434      +run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2435      +
2436      +
2437      +
2438      +proc sql noprint;
2439      +select
2440      +'WOE_'||
2441      +upcase(trim(_VARIABLE_))
2442      +into :zmienne separated by ' ' from wyj.dobre_zmienne;
2443      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
146                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

2444      +%put &zmienne;
WOE_APP_CHAR_JOB_CODE WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN WOE_APP_CHAR_MARITAL_STATUS WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC
2445      +
2446      +ods listing close;
2447      +ods output
2448      +Eigenvalues=Eigenvalues;
2449      +/*ods trace on / listing;*/
2450      +/*ods trace off;*/
2451      +proc princomp data=&em_import_data(keep=&zmienne);
2452      +var &zmienne;
2453      +run;

NOTE: The data set WORK.EIGENVALUES has 7 observations and 5 variables.
NOTE: PROCEDURE PRINCOMP used (Total process time):
      real time           5.05 seconds
      cpu time            5.31 seconds
      

2454      +ods output close;
2455      +ods listing;
2456      +
2457      +
2458      +
2459      +ods listing close;
2460      +ods output
2461      +ClusterQuality=ClusterQuality
2462      +RSquare(match_all)=RSquare2
2463      +ClusterSummary(match_all)=ClusterSummary1;
2464      +/*ods trace on / listing;*/
2465      +/*ods trace off;*/
2466      +proc varclus data=&em_import_data(keep=&zmienne) PROPORTION=0.8;
2467      +var &zmienne;
2468      +run;

NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY1 has 1 observations and 6 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY2 has 2 observations and 6 variables.
NOTE: The data set WORK.RSQUARE2 has 7 observations and 7 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY3 has 3 observations and 6 variables.
NOTE: The data set WORK.RSQUARE3 has 7 observations and 7 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY4 has 4 observations and 6 variables.
NOTE: The data set WORK.RSQUARE4 has 7 observations and 7 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY5 has 5 observations and 6 variables.
NOTE: The data set WORK.RSQUARE5 has 7 observations and 7 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY6 has 6 observations and 6 variables.
NOTE: The data set WORK.RSQUARE6 has 7 observations and 7 variables.
NOTE: Clustering algorithm converged.
NOTE: The data set WORK.CLUSTERSUMMARY7 has 7 observations and 6 variables.
NOTE: The data set WORK.RSQUARE7 has 7 observations and 7 variables.
NOTE: The data set WORK.CLUSTERQUALITY has 7 observations and 7 variables.
NOTE: PROCEDURE VARCLUS used (Total process time):
      real time           4.94 seconds
      cpu time            5.30 seconds
      

2469      +ods output close;
2470      +ods listing;
2471      +
2472      +data _null_;
2473      +set Clusterquality;
2474      +call symput('ncl',
2475      +trim(put(NumberOfClusters,best12.-L)));
2476      +run;
147                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: There were 7 observations read from the data set WORK.CLUSTERQUALITY.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2477      +%put **&ncl**;
**7**
2478      +
2479      +
2480      +%let reportsdir=&prefix_dir.results\%sysfunc(compress(&design,_))\;
2481      +%let subdir=reports\;
2482      +%put &reportsdir;
c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\
2483      +
2484      +
2485      +
2486      +ods listing close;
2487      +ods html body="&reportsdir.All_possible_variables.html" style=statistical;
NOTE: Writing HTML Body file: c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\All_possible_variables.html
2488      +data test;
2489      +set inlib.labels;
2490      +run;

NOTE: There were 22 observations read from the data set INLIB.LABELS.
NOTE: The data set WORK.TEST has 22 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2491      +proc sort data=test;
2492      +by label;
2493      +run;

NOTE: There were 22 observations read from the data set WORK.TEST.
NOTE: The data set WORK.TEST has 22 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

2494      +data test;
2495      +set test;
2496      +Number=_n_;
2497      +run;

NOTE: There were 22 observations read from the data set WORK.TEST.
NOTE: The data set WORK.TEST has 22 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2498      +title "List of all possible variables";
2499      +proc print data=test label;
2500      +id Number name;
2501      +var label;
2502      +label
2503      +label='Variable description'
2504      +name='Variable name'
2505      +;
2506      +run;

NOTE: There were 22 observations read from the data set WORK.TEST.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.18 seconds
      cpu time            0.06 seconds
      
148                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


2507      +ods html close;
2508      +ods listing;
2509      +
2510      +
2511      +
2512      +ods listing close;
2513      +ods html body="&reportsdir.All_variables.html" style=statistical;
NOTE: Writing HTML Body file: c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\All_variables.html
2514      +data test0;
2515      +set wyj.zmienne_stat&design;
2516      +gini_before=2*c_01_train-1;
2517      +gini_after=ar_train;
2518      +diff_gini=(gini_before-gini_after)/gini_before;
2519      +Number=_n_;
2520      +format gini_before gini_after diff_gini
2521      +PR_Miss_Train PR_Moda_Train nlpct12.2;
2522      +if _error_=1 then _error_=0;
2523      +keep number _variable_ gini_before gini_after diff_gini
2524      +level PR_Miss_Train N_Uni_Train PR_Moda_Train Moda_Train
2525      +ar_diff H_GRP_TV H_Br_GRP_TV;
2526      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT_NON_MON.
NOTE: The data set WORK.TEST0 has 7 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

2527      +proc sql;
2528      +create table test as
2529      +select test0.*,label
2530      +from test0, inlib.labels
2531      +where upcase(name)=upcase(_variable_)
2532      +order by gini_after desc;
NOTE: Table WORK.TEST created, with 7 rows and 14 columns.

2533      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

2534      +data test;
2535      +set test;
2536      +Number=_n_;
2537      +run;

NOTE: There were 7 observations read from the data set WORK.TEST.
NOTE: The data set WORK.TEST has 7 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2538      +
2539      +title "Report of all variables, after simple pre-selection";
2540      +proc print data=test label;
2541      +id Number _variable_;
2542      +var gini_before gini_after diff_gini label
2543      +level PR_Miss_Train N_Uni_Train PR_Moda_Train Moda_Train
2544      +ar_diff
2545      +H_GRP_TV
2546      +H_Br_GRP_TV
2547      +;
2548      +label
2549      +AR_Diff='Relative difference between Ginis between training and validating datasets'
2550      +H_GRP_TV='Kullback-Leibrer between attribute distributions on training and validating datasets'
2551      +H_Br_GRP_TV='Kullback-Leibrer between attribute distributions only for bad cases on training and validating datasets'
149                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2552      +gini_before='Gini before binning'
2553      +gini_after='Gini after binning'
2554      +diff_gini='Difference of gini before and after binning'
2555      +_variable_='Variable name'
2556      +label='Variable description'
2557      +level='Measure'
2558      +PR_Miss_Train='Percent of missing valuses'
2559      +N_Uni_Train='Number of distinct values'
2560      +PR_Moda_Train='Percent of the most frequent nonmissing value'
2561      +Moda_Train='The most frequent nonmissing value'
2562      +;
2563      +run;

NOTE: There were 7 observations read from the data set WORK.TEST.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

2564      +ods html close;
2565      +ods listing;
2566      +
2567      +proc sql;
2568      +create table karta as
2569      +select * from wyj.karta_duza&design where
2570      +upcase(zmienna) in
2571      +(select upcase(_VARIABLE_) from wyj.dobre_zmienne&design)
2572      +or upcase(zmienna) in
2573      +(select upcase(zmienna) from wyj.Chosen_variables)
2574      +order by zmienna,grp;
NOTE: Table WORK.KARTA created, with 24 rows and 19 columns.

2575      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
      

2576      +proc sql noprint;
2577      +select count(*),sum((&tar=1)),
2578      +sum((&tar=0)),sum((&tar=.i or &tar=.d)) into
2579      +:il,:il_jed,:il_zer,:il_ind
2580      +from &zb;
2581      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           14.52 seconds
      cpu time            6.78 seconds
      

2582      +%put &il***&il_jed***&il_zer***&il_ind;
1308784***  210574*** 1098210***       0
2583      +
2584      +
2585      +data karta;
2586      +set karta;
2587      +POP=il_at;
2588      +GD=il_zer_at;
2589      +BD=il_jed_at;
2590      +IND=il_ind_at;
2591      +pr_POP=POP/&il;
2592      +pr_GD=coalesce(GD/&il_zer,0);
2593      +pr_BD=coalesce(BD/&il_jed,0);
2594      +pr_IND=coalesce(IND/&il_ind,0);
2595      +wi=log(pr_GD/pr_BD);
2596      +ivi=(pr_GD-pr_BD)*wi;
2597      +if _error_=1 then _error_=0;
2598      +keep zmienna POP GD BD IND pr_POP pr_GD pr_BD pr_IND wi ivi br grp war;
2599      +format br pr_POP pr_GD pr_BD pr_IND nlpct12.2 ivi wi numx12.2;
2600      +run;

150                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Division by zero detected at line 2594 column 1.
NOTE: Mathematical operations could not be performed at the following places. The results of the operations have been set to missing values.
      Each place is given by: (Number of times) at (Line):(Column).
      24 at 2594:1   
NOTE: There were 24 observations read from the data set WORK.KARTA.
NOTE: The data set WORK.KARTA has 24 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

2601      +
2602      +data clusters;
2603      +length cl cluster $ 20;
2604      +format cluster $20.;
2605      +retain cl;
2606      +set rsquare&ncl;
2607      +if not missing(Cluster) then cl=Cluster;
2608      +if missing(Cluster) then Cluster=cl;
2609      +cluster='Cluster '||put(input(compress(scan(cluster,-1,' ')),best12.),z3.);
2610      +Variable=substr(Variable,5);
2611      +keep Variable Cluster RSquareRatio;
2612      +run;

NOTE: There were 7 observations read from the data set WORK.RSQUARE7.
NOTE: The data set WORK.CLUSTERS has 7 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

2613      +
2614      +proc sql;
2615      +create table ivi as
2616      +select sum(ivi) as ivi format=numx12.2,zmienna from karta
2617      +group by zmienna;
NOTE: Table WORK.IVI created, with 7 rows and 2 columns.

2618      +
2619      +create table test_det0 as
2620      +select test.*, ivi from test,ivi
2621      +where upcase(zmienna)=upcase(_variable_)
2622      +order by gini_after desc;
NOTE: Table WORK.TEST_DET0 created, with 7 rows and 15 columns.

2623      +
2624      +create table test_det as
151                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2625      +select test_det0.*, Cluster, RSquareRatio from test_det0 left join clusters
2626      +on upcase(test_det0._variable_)=upcase(clusters.variable)
2627      +order by gini_after desc;
NOTE: Table WORK.TEST_DET created, with 7 rows and 17 columns.

2628      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.29 seconds
      cpu time            0.17 seconds
      

2629      +
2630      +proc sql noprint;
2631      +select quote(zmienna) into :chosen separated by ','
2632      +from wyj.Chosen_variables;
2633      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2634      +%put &chosen;
"APP_CHAR_JOB_CODE               ","APP_LOAN_AMOUNT                 ","APP_NUMBER_OF_CHILDREN          ","APP_CHAR_MARITAL_STATUS         ","ACT_CC                          ","ACT_CINS_MIN_SENIORITY          ","ACT_CINS_N_STATC                "
2635      +
2636      +data test_det;
2637      +length href $ 1000;
2638      +set test_det;
2639      +Number=_n_;
2640      +if _variable_ in (&chosen) then
2641      +href=
2642      +'<a href="'||"&subdir."||compress(upcase(_VARIABLE_))
2643      +||'.html" '||'target="body">'||compress(upcase(_VARIABLE_))||'</a>'
2644      +;
2645      +else href=_VARIABLE_;
2646      +run;

NOTE: There were 7 observations read from the data set WORK.TEST_DET.
NOTE: The data set WORK.TEST_DET has 7 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2647      +
2648      +proc sort data=test_det out=test_dets;
2649      +by cluster descending gini_after;
2650      +run;

NOTE: There were 7 observations read from the data set WORK.TEST_DET.
NOTE: The data set WORK.TEST_DETS has 7 observations and 18 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

2651      +
2652      +ods listing close;
2653      +ods html path="&reportsdir" (url=none)
2654      +body="Chosen_variables.html" style=statistical;
NOTE: Writing HTML Body file: Chosen_variables.html
2655      +title "Report of chosen variables";
2656      +proc print data=test_det label;
2657      +id Number href;
2658      +var gini_before gini_after diff_gini ivi label
2659      +level PR_Miss_Train N_Uni_Train PR_Moda_Train Moda_Train
2660      +ar_diff
2661      +H_GRP_TV
2662      +H_Br_GRP_TV
2663      +Cluster RSquareRatio
2664      +;
152                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2665      +label
2666      +AR_Diff='Relative difference between Ginis between training and validating datasets'
2667      +H_GRP_TV='Kullback-Leibrer between attribute distributions on training and validating datasets'
2668      +H_Br_GRP_TV='Kullback-Leibrer between attribute distributions only for bad cases on training and validating datasets'
2669      +href='Variable name (click on name to get details)'
2670      +ivi='Information value (iv)'
2671      +gini_before='Gini before binning'
2672      +gini_after='Gini after binning'
2673      +diff_gini='Difference of gini before and after binning'
2674      +_variable_='Variable name'
2675      +label='Variable description'
2676      +level='Measure'
2677      +PR_Miss_Train='Percent of missing valuses'
2678      +N_Uni_Train='Number of distinct values'
2679      +PR_Moda_Train='Percent of the most frequent nonmissing value'
2680      +Moda_Train='The most frequent nonmissing value'
2681      +;
2682      +run;

NOTE: There were 7 observations read from the data set WORK.TEST_DET.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

2683      +ods html close;
2684      +ods listing;
2685      +
2686      +ods listing close;
2687      +ods html path="&reportsdir" (url=none)
2688      +body="Clustered_variables.html" style=statistical;
NOTE: Writing HTML Body file: Clustered_variables.html
2689      +title "Report of variable clusters";
2690      +proc print data=test_dets label width=minimum;
2691      +/*id cluster href;*/
2692      +by cluster;
2693      +var href Number gini_before gini_after diff_gini ivi label
2694      +level PR_Miss_Train N_Uni_Train PR_Moda_Train Moda_Train
2695      +ar_diff
2696      +H_GRP_TV
2697      +H_Br_GRP_TV
2698      +RSquareRatio
2699      +;
2700      +label
2701      +AR_Diff='Relative difference between Ginis between training and validating datasets'
2702      +H_GRP_TV='Kullback-Leibrer between attribute distributions on training and validating datasets'
2703      +H_Br_GRP_TV='Kullback-Leibrer between attribute distributions only for bad cases on training and validating datasets'
2704      +href='Variable name (click on name to get details)'
2705      +ivi='Information value (iv)'
2706      +gini_before='Gini before binning'
2707      +gini_after='Gini after binning'
2708      +diff_gini='Difference of gini before and after binning'
2709      +_variable_='Variable name'
2710      +label='Variable description'
2711      +level='Measure'
2712      +PR_Miss_Train='Percent of missing valuses'
2713      +N_Uni_Train='Number of distinct values'
2714      +PR_Moda_Train='Percent of the most frequent nonmissing value'
2715      +Moda_Train='The most frequent nonmissing value'
2716      +;
2717      +run;

NOTE: There were 7 observations read from the data set WORK.TEST_DETS.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.13 seconds
      cpu time            0.07 seconds
      

2718      +ods html close;
2719      +ods listing;
153                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2720      +
2721      +ods listing close;
2722      +ods html path="&reportsdir" (url=none)
2723      +body="Cluster_reports.html" style=statistical;
NOTE: Writing HTML Body file: Cluster_reports.html
2724      +title "Dimentional reports";
2725      +proc print data=Clusterquality label;
2726      +run;

NOTE: There were 7 observations read from the data set WORK.CLUSTERQUALITY.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

2727      +proc print data=Clustersummary&ncl label;
2728      +run;

NOTE: There were 7 observations read from the data set WORK.CLUSTERSUMMARY7.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

2729      +proc print data=Eigenvalues label;
2730      +run;

NOTE: There were 7 observations read from the data set WORK.EIGENVALUES.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

2731      +ods html close;
2732      +ods listing;
2733      +
2734      +
2735      +
2736      +
2737      +/*proc sql noprint;*/
2738      +/*select 'inlib.'||memname into :sets separated by " " */
2739      +/*from dictionary.tables where*/
2740      +/*libname=upcase("INLIB") and (memname like "ABT_1%" */
2741      +/*or memname like "ABT_2%"); */
2742      +/*quit; */
2743      +%let sets=&in_abt;
2744      +%put &sets;
inlib.abt_score
2745      +
2746      +proc sql noprint;
2747      +select 'GRP_'||compress(upcase(zmienna)),compress(upcase(zmienna))
2748      +into :zmienne_grp separated by ' ',
2749      +:zmienne separated by ' '
2750      +from wyj.Chosen_variables;
2751      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

2752      +%put &zmienne***&sqlobs;
APP_CHAR_JOB_CODE APP_LOAN_AMOUNT APP_NUMBER_OF_CHILDREN APP_CHAR_MARITAL_STATUS ACT_CC ACT_CINS_MIN_SENIORITY ACT_CINS_N_STATC***7
2753      +
2754      +%let dodatkowe=credit_limit;
2755      +%let trzymaj=&tar outstanding period quarter year Year3 Year5 &dodatkowe;
2756      +data abt;
2757      +set &sets;
2758      +%dodatkowe_zmienne;
MPRINT(DODATKOWE_ZMIENNE):   outstanding=app_loan_amount;
MPRINT(DODATKOWE_ZMIENNE):   credit_limit=app_loan_amount;
154                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(DODATKOWE_ZMIENNE):   waga=0.01;
2759      +quarter=compress(put(input(period,yymmn6.),yyq10.));
2760      +year=compress(put(input(period,yymmn6.),year4.));
2761      +Year3=substr(Year,1,3);
2762      +Year5=Year;
2763      +substr(Year5,4,1)='0';
2764      +if substr(Year,4,1)>='5' then substr(Year5,4,1)='5';
2765      +keep &zmienne &trzymaj;
2766      +run;

NOTE: There were 4359900 observations read from the data set INLIB.ABT_SCORE.
NOTE: The data set WORK.ABT has 4359900 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           5:01.87
      cpu time            2:40.79
      

2767      +
2768      +%let kat_kodowanie=%sysfunc(pathname(wyj));
2769      +%put &kat_kodowanie;
c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
2770      +%let zbior=abt;
2771      +%let keep=&zmienne_grp &trzymaj;
2772      +%include "&kat_kodowanie.\kod_do_kodowania.sas";
NOTE: %INCLUDE (level 2) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod_do_kodowania.sas is file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod_do_kodowania.sas.
2773      +data &zbior._woe;
2774      +set &zbior;
2775      +select;
2776      +when ( not missing(ACT_CC) and ACT_CC <= 0.25 ) do;
2777      +GRP_ACT_CC  = 4 ;
2778      +WOE_ACT_CC  = -2.249676162 ;
2779      +end;
2780      +when ( 0.25 < ACT_CC <= 0.85 ) do;
2781      +GRP_ACT_CC  = 3 ;
2782      +WOE_ACT_CC  = -1.760914166 ;
2783      +end;
2784      +when ( 0.85 < ACT_CC <= 1.00 ) do;
2785      +GRP_ACT_CC  = 2 ;
2786      +WOE_ACT_CC  = -1.349006441 ;
2787      +end;
2788      +when ( 1.00 < ACT_CC ) do;
2789      +GRP_ACT_CC  = 1 ;
2790      +WOE_ACT_CC  = -0.518822257 ;
2791      +end;
2792      +otherwise do;
2793      +GRP_ACT_CC  = 1 ;
2794      +WOE_ACT_CC  = -0.518822257 ;
2795      +end; end;
2796      +select;
2797      +when ( 22 < ACT_CINS_MIN_SENIORITY ) do;
2798      +GRP_ACT_CINS_MIN_SENIORITY  = 2 ;
2799      +WOE_ACT_CINS_MIN_SENIORITY  = -2.231770556 ;
2800      +end;
2801      +when ( missing(ACT_CINS_MIN_SENIORITY) or ACT_CINS_MIN_SENIORITY <= 22 ) do;
2802      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
2803      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
2804      +end;
2805      +otherwise do;
2806      +GRP_ACT_CINS_MIN_SENIORITY  = 1 ;
2807      +WOE_ACT_CINS_MIN_SENIORITY  = -1.508585467 ;
2808      +end; end;
2809      +select;
2810      +when ( 2 < ACT_CINS_N_STATC ) do;
2811      +GRP_ACT_CINS_N_STATC  = 4 ;
2812      +WOE_ACT_CINS_N_STATC  = -2.138050355 ;
2813      +end;
2814      +when ( 0 < ACT_CINS_N_STATC <= 2 ) do;
2815      +GRP_ACT_CINS_N_STATC  = 3 ;
2816      +WOE_ACT_CINS_N_STATC  = -1.868781489 ;
2817      +end;
155                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2818      +when ( missing(ACT_CINS_N_STATC) ) do;
2819      +GRP_ACT_CINS_N_STATC  = 2 ;
2820      +WOE_ACT_CINS_N_STATC  = -1.64455026 ;
2821      +end;
2822      +when ( not missing(ACT_CINS_N_STATC) and ACT_CINS_N_STATC <= 0 ) do;
2823      +GRP_ACT_CINS_N_STATC  = 1 ;
2824      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
2825      +end;
2826      +otherwise do;
2827      +GRP_ACT_CINS_N_STATC  = 1 ;
2828      +WOE_ACT_CINS_N_STATC  = -0.864815886 ;
2829      +end; end;
2830      +select (APP_CHAR_JOB_CODE );
2831      +  when ('Permanent')   do;
2832      +GRP_APP_CHAR_JOB_CODE  = 4 ;
2833      +WOE_APP_CHAR_JOB_CODE  = -2.169809287 ;
2834      +end;
2835      +  when ('Retired')   do;
2836      +GRP_APP_CHAR_JOB_CODE  = 3 ;
2837      +WOE_APP_CHAR_JOB_CODE  = -1.784711388 ;
2838      +end;
2839      +  when ('Owner company')   do;
2840      +GRP_APP_CHAR_JOB_CODE  = 2 ;
2841      +WOE_APP_CHAR_JOB_CODE  = -1.562892938 ;
2842      +end;
2843      +  when ('Contract')   do;
2844      +GRP_APP_CHAR_JOB_CODE  = 1 ;
2845      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
2846      +end;
2847      +otherwise do;
2848      +GRP_APP_CHAR_JOB_CODE  = 1 ;
2849      +WOE_APP_CHAR_JOB_CODE  = 0.0980575821 ;
2850      +end; end;
2851      +select (APP_CHAR_MARITAL_STATUS );
2852      +  when ('Maried','Widowed')   do;
2853      +GRP_APP_CHAR_MARITAL_STATUS  = 2 ;
2854      +WOE_APP_CHAR_MARITAL_STATUS  = -1.896036565 ;
2855      +end;
2856      +  when ('Singiel','Divorced')   do;
2857      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
2858      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
2859      +end;
2860      +otherwise do;
2861      +GRP_APP_CHAR_MARITAL_STATUS  = 1 ;
2862      +WOE_APP_CHAR_MARITAL_STATUS  = -1.180130051 ;
2863      +end; end;
2864      +select;
2865      +when ( not missing(APP_LOAN_AMOUNT) and APP_LOAN_AMOUNT <= 1968 ) do;
2866      +GRP_APP_LOAN_AMOUNT  = 5 ;
2867      +WOE_APP_LOAN_AMOUNT  = -2.265084398 ;
2868      +end;
2869      +when ( 1968 < APP_LOAN_AMOUNT <= 4824 ) do;
2870      +GRP_APP_LOAN_AMOUNT  = 4 ;
2871      +WOE_APP_LOAN_AMOUNT  = -1.914236514 ;
2872      +end;
2873      +when ( 4824 < APP_LOAN_AMOUNT <= 8880 ) do;
2874      +GRP_APP_LOAN_AMOUNT  = 3 ;
2875      +WOE_APP_LOAN_AMOUNT  = -1.434432299 ;
2876      +end;
2877      +when ( 8880 < APP_LOAN_AMOUNT <= 11376 ) do;
2878      +GRP_APP_LOAN_AMOUNT  = 2 ;
2879      +WOE_APP_LOAN_AMOUNT  = -1.03441388 ;
2880      +end;
2881      +when ( 11376 < APP_LOAN_AMOUNT ) do;
2882      +GRP_APP_LOAN_AMOUNT  = 1 ;
2883      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
2884      +end;
2885      +otherwise do;
2886      +GRP_APP_LOAN_AMOUNT  = 1 ;
2887      +WOE_APP_LOAN_AMOUNT  = -0.328456531 ;
156                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2888      +end; end;
2889      +select;
2890      +when ( 1 < APP_NUMBER_OF_CHILDREN ) do;
2891      +GRP_APP_NUMBER_OF_CHILDREN  = 3 ;
2892      +WOE_APP_NUMBER_OF_CHILDREN  = -3.133131565 ;
2893      +end;
2894      +when ( 0 < APP_NUMBER_OF_CHILDREN <= 1 ) do;
2895      +GRP_APP_NUMBER_OF_CHILDREN  = 2 ;
2896      +WOE_APP_NUMBER_OF_CHILDREN  = -2.04606512 ;
2897      +end;
2898      +when ( not missing(APP_NUMBER_OF_CHILDREN) and APP_NUMBER_OF_CHILDREN <= 0 ) do;
2899      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
2900      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
2901      +end;
2902      +otherwise do;
2903      +GRP_APP_NUMBER_OF_CHILDREN  = 1 ;
2904      +WOE_APP_NUMBER_OF_CHILDREN  = -1.403853285 ;
2905      +end; end;
2906      +keep &keep;
2907      +if _error_=1 then _error_=0;
2908      +run;

NOTE: There were 4359900 observations read from the data set WORK.ABT.
NOTE: The data set WORK.ABT_WOE has 4359900 observations and 15 variables.
NOTE: DATA statement used (Total process time):
      real time           13.19 seconds
      cpu time            10.48 seconds
      

NOTE: %INCLUDE (level 2) ending.
NOTE: %INCLUDE (level 1) resuming.
2909      +/*data abt_woe;*/
2910      +/*set abt_woe;*/
2911      +/*if &tar in (.,.i,.d) then &tar=0;*/
2912      +/*run;*/
2913      +
2914      +
2915      +
2916      +
2917      +%macro make_details;
2918      +proc sql noprint;
2919      +select distinct upcase(zmienna) into :zmienne separated by ' '
2920      +from wyj.Chosen_variables;
2921      +quit;
2922      +%let il_zm=&sqlobs;
2923      +%put &il_zm***&zmienne;
2924      +/*%let i=1;*/
2925      +
2926      +%do i=1 %to &il_zm;
2927      +/*%do i=1 %to 1;*/
2928      +
2929      +%let zm=%scan(&zmienne,&i,%str( ));
2930      +%put &zm;
2931      +%let label=Not defined;
2932      +proc sql noprint;
2933      +select label into :label from test_det
2934      +where upcase(_variable_) eq "&zm"
2935      +and label not like "%'%" and label ne '';
2936      +quit;
2937      +%put &label;
2938      +
2939      +
2940      +ods listing close;
2941      +ods html path="&reportsdir.&subdir" (url=none)
2942      +body="&zm..html" style=statistical;
2943      +title "Attributes for variable &zm";
2944      +title2 "&label";
2945      +title3 'Table with statistics';
2946      +proc print data=karta label;
2947      +id grp;
157                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

2948      +var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
2949      +where upcase(zmienna)="&zm";
2950      +label
2951      +ivi='Information value (ivi)'
2952      +POP='Population (POP)'
2953      +GD='Number of goods (GD)'
2954      +BD='Number of bads (BD)'
2955      +IND='Number of indeterminated (IND)'
2956      +pr_POP='Percent of population (%POP)'
2957      +pr_GD='Percent of goods (%GD)'
2958      +pr_BD='Percent of bads (%BD)'
2959      +pr_IND='Percent of indeterminated (%IND)'
2960      +wi='Weight of evidence (wi)'
2961      +br='Bad rate (br)'
2962      +grp='Attribute number'
2963      +war='Condition'
2964      +;
2965      +sum POP GD BD IND pr_POP ivi;
2966      +run;
2967      +
2968      +goptions reset=all device=activex;
2969      +
2970      +%let period=Year5;
2971      +/*%let period=period;*/
2972      +%let balvar=outstanding;
2973      +/*%let balvar=outstanding_&tar;*/
2974      +%let measure=&tar;
2975      +
2976      +data br_am;
2977      +set abt_woe;
2978      +all=&balvar;
2979      +if (&measure in (.d,.i,0,1)) then all_ass=&balvar;
2980      +if (&measure in (0)) then good=&balvar;
2981      +if (&measure in (1)) then bad=&balvar;
2982      +keep GRP_&zm &period all good bad all_ass credit_limit;
2983      +run;
2984      +
2985      +
2986      +proc means data=br_am nway noprint;
2987      +class GRP_&zm &period;
2988      +var all good bad all_ass credit_limit;
2989      +output out=br_am_stat
2990      +sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit
2991      +n(all)=n mean(all credit_limit)=sr credit_limit_sr
2992      +n(good bad all_ass)=good_n bad_n all_ass_n
2993      +;
2994      +run;
2995      +
2996      +data br_am_stat;
2997      +set br_am_stat;
2998      +br=bad/all_ass;
2999      +br_n=bad_n/all_ass_n;
3000      +if _error_ then _error_=0;
3001      +run;
3002      +
3003      +
3004      +title "Numbers - all statistics for &measure by &period on state EM";
3005      +title2 "Attributes for variable &zm";
3006      +title3 "&label";
3007      +proc tabulate data=br_am_stat out=stat_am;
3008      +class GRP_&zm &period;
3009      +var all good bad good_n bad_n br br_n
3010      +n all_ass credit_limit credit_limit_sr sr;
3011      +table
3012      +&period='' , GRP_&zm='GRP'*
3013      +(
3014      +all='All'*sum=''*f=liczba.
3015      +sr='Average'*sum=''*f=liczba.
3016      +all='All percent'*rowpctsum=''*f=procent.
3017      +all_ass='All assigned'*sum=''*f=liczba.
158                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3018      +n='N'*sum=''*f=20.
3019      +good='Good'*sum=''*f=liczba.
3020      +bad='Bad'*sum=''*f=liczba.
3021      +br='Bad rate'*sum=''*f=nlpct12.2
3022      +n='All percent N'*rowpctsum=''*f=procent.
3023      +good_n='Good N'*sum=''*f=12.
3024      +bad_n='Bad N'*sum=''*f=12.
3025      +br_n='Bad rate N'*sum=''*f=nlpct12.2
3026      +credit_limit='Limit percent'*rowpctsum=''*f=procent.
3027      +credit_limit_sr='Average limit'*sum=''*f=liczba.
3028      +)
3029      +/ box="&period";
3030      +run;
3031      +
3032      +title "Chart - number distribution by &period on state EM";
3033      +title2 "Attributes for variable &zm";
3034      +title3 "&label";
3035      +proc gchart data=stat_am;
3036      +block GRP_&zm / discrete group=&period sumvar=n_PctSum_01 type=sum
3037      +patternid=group subgroup=n_Sum;
3038      +label n_Sum='Number of accounts' GRP_&zm='GRP'
3039      +n_PctSum_01='Number percent';
3040      +format n_PctSum_01 procent. n_sum 12.;
3041      +run;
3042      +quit;
3043      +
3044      +
3045      +title "Chart - balance distribution by &period on state EM";
3046      +title2 "Attributes for variable &zm";
3047      +title3 "&label";
3048      +proc gchart data=stat_am;
3049      +block GRP_&zm / discrete group=&period sumvar=all_PctSum_01 type=sum
3050      +patternid=group subgroup=all_Sum;
3051      +label all_Sum='Balance' GRP_&zm='GRP'
3052      +all_PctSum_01='Balance percent';
3053      +format all_PctSum_01 procent. all_sum liczba.;
3054      +run;
3055      +quit;
3056      +
3057      +
3058      +title "Chart - average balance for attributes by &period on state EM";
3059      +title2 "Attributes for variable &zm";
3060      +title3 "&label";
3061      +proc gchart data=stat_am;
3062      +block GRP_&zm / discrete group=&period sumvar=sr_sum type=sum
3063      +patternid=group subgroup=all_Sum;
3064      +label all_Sum='Balance' GRP_&zm='GRP'
3065      +sr_sum='Average balance';
3066      +format sr_sum liczba. all_sum liczba.;
3067      +run;
3068      +quit;
3069      +
3070      +
3071      +title "Chart - average credit limit for attributes by &period on state EM";
3072      +title2 "Attributes for variable &zm";
3073      +title3 "&label";
3074      +proc gchart data=stat_am;
3075      +block GRP_&zm / discrete group=&period sumvar=credit_limit_sr_Sum
3076      +type=sum
3077      +patternid=group subgroup=credit_limit_PctSum_01;
3078      +label credit_limit_PctSum_01='Limit percent' GRP_&zm='GRP'
3079      +credit_limit_sr_Sum='Average credit limit';
3080      +format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
3081      +run;
3082      +quit;
3083      +
3084      +
3085      +/*%let cent=0.001;*/
3086      +/*proc univariate data=stat_am noprint;*/
3087      +/*var bad_rate;*/
159                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3088      +/*output out=cent max=p_&nr_cent;*/
3089      +/*where bad_rate < 1;*/
3090      +/*run;*/
3091      +/*data _null_;*/
3092      +/*set cent;*/
3093      +/*if p_&nr_cent<0.001 then p_&nr_cent=0.001;*/
3094      +/*call symput('cent',put(1.2*p_&nr_cent,best12.-L));*/
3095      +/*run;*/
3096      +/*%put &cent;*/
3097      +/**/
3098      +/**/
3099      +/*title "Chart - risk balance &desc_bal measure &measure for score bands by &period on state &state";*/
3100      +/*ods proclabel="Chart - risk balance &desc_bal measure &measure for score bands by &period on state &state";*/
3101      +/*proc gchart data=stat_am;*/
3102      +/*block band / discrete group=&period sumvar=Bad_rate type=sum */
3103      +/*patternid=group subgroup=bad axis=0 to &cent by 0.02;*/
3104      +/*label bad='Balance for bads' band='Score band'*/
3105      +/*bad_rate="&measure";*/
3106      +/*format bad_rate nlpct12.2 bad liczba.;*/
3107      +/*run;*/
3108      +/*quit;*/
3109      +
3110      +
3111      +
3112      +title "Chart - Balance bad rate for &measure by &period on state EM";
3113      +title2 "Attributes for variable &zm";
3114      +title3 "&label";
3115      +proc gchart data=stat_am;
3116      +block GRP_&zm / discrete group=&period sumvar=br_sum
3117      +type=sum
3118      +patternid=group subgroup=bad_sum;
3119      +label br_sum="Balance bad rate &measure" GRP_&zm='GRP'
3120      +bad_Sum='Balance for Bads';
3121      +format br_sum nlpct12.2 bad_sum liczba.;
3122      +run;
3123      +quit;
3124      +
3125      +
3126      +title "Chart - Number bad rate for &measure by &period on state EM";
3127      +title2 "Attributes for variable &zm";
3128      +title3 "&label";
3129      +proc gchart data=stat_am;
3130      +block GRP_&zm / discrete group=&period sumvar=br_n_sum
3131      +type=sum
3132      +patternid=group subgroup=bad_n_sum;
3133      +label br_n_sum="Number bad rate &measure" GRP_&zm='GRP'
3134      +bad_n_Sum='Number of bad accounts';
3135      +format br_n_sum nlpct12.2 bad_n_sum liczba.;
3136      +run;
3137      +quit;
3138      +ods html close;
3139      +ods listing;
3140      +goptions reset=all device=win;
3141      +
3142      +
3143      +%end;
3144      +
3145      +%mend;
3146      +%make_details;
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select distinct upcase(zmienna) into :zmienne separated by ' ' from wyj.Chosen_variables;
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

7***ACT_CC ACT_CINS_MIN_SENIORITY ACT_CINS_N_STATC APP_CHAR_JOB_CODE APP_CHAR_MARITAL_STATUS APP_LOAN_AMOUNT APP_NUMBER_OF_CHILDREN
ACT_CC
MPRINT(MAKE_DETAILS):   proc sql noprint;
160                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "ACT_CC" and label not like "%'%" and label ne '';
NOTE: No rows were selected.
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

Not defined
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="ACT_CC.html" style=statistical;
NOTE: Writing HTML Body file: ACT_CC.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title2 "Not defined";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="ACT_CC";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='ACT_CC';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.15 seconds
      cpu time            0.01 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_ACT_CC Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           9.90 seconds
      cpu time            7.34 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CC Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 20 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           10.43 seconds
      cpu time            9.25 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
161                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.BR_AM_STAT has 20 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CC Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_ACT_CC='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. good='Good'*sum=''*f=liczba. 
bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit percent'*rowpctsum=''*f=procent. 
credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 20 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.31 seconds
      cpu time            0.18 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_ACT_CC= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           8.40 seconds
      cpu time            0.62 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CC= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.62 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CC= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
162                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.74 seconds
      cpu time            0.50 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_ACT_CC= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.71 seconds
      cpu time            0.45 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_ACT_CC= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.07 seconds
      cpu time            0.50 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CC";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CC / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_ACT_CC= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.77 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
ACT_CINS_MIN_SENIORITY
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "ACT_CINS_MIN_SENIORITY" and label not like "%'%" and label ne '';
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      
163                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


Customer minimal seniority on product ins
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="ACT_CINS_MIN_SENIORITY.html" style=statistical;
NOTE: Writing HTML Body file: ACT_CINS_MIN_SENIORITY.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title2 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 2 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='ACT_CINS_MIN_SENIORITY';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_ACT_CINS_MIN_SENIORITY Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           7.79 seconds
      cpu time            7.33 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CINS_MIN_SENIORITY Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 10 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.52 seconds
      cpu time            9.08 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 10 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

164                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CINS_MIN_SENIORITY Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_ACT_CINS_MIN_SENIORITY='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 10 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 10 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.14 seconds
      cpu time            0.09 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_ACT_CINS_MIN_SENIORITY= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.06 seconds
      cpu time            0.40 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CINS_MIN_SENIORITY= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.70 seconds
      cpu time            0.34 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CINS_MIN_SENIORITY= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
165                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.95 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_ACT_CINS_MIN_SENIORITY= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.73 seconds
      cpu time            0.46 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_ACT_CINS_MIN_SENIORITY= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.82 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_MIN_SENIORITY";
MPRINT(MAKE_DETAILS):   title3 "Customer minimal seniority on product ins                                                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_MIN_SENIORITY / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_ACT_CINS_MIN_SENIORITY= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.90 seconds
      cpu time            0.48 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
ACT_CINS_N_STATC
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "ACT_CINS_N_STATC" and label not like "%'%" and label ne '';
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
166                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

Customer historical number of finished loans with status C on product ins
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="ACT_CINS_N_STATC.html" style=statistical;
NOTE: Writing HTML Body file: ACT_CINS_N_STATC.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title2 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='ACT_CINS_N_STATC';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.20 seconds
      cpu time            0.01 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_ACT_CINS_N_STATC Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           10.26 seconds
      cpu time            7.66 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CINS_N_STATC Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 20 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           6.34 seconds
      cpu time            9.03 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 20 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      
167                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_ACT_CINS_N_STATC Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_ACT_CINS_N_STATC='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 20 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.37 seconds
      cpu time            0.14 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_ACT_CINS_N_STATC= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.42 seconds
      cpu time            0.50 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CINS_N_STATC= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.48 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_ACT_CINS_N_STATC= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
168                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.01 seconds
      cpu time            0.48 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_ACT_CINS_N_STATC= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.04 seconds
      cpu time            0.51 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_ACT_CINS_N_STATC= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.88 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable ACT_CINS_N_STATC";
MPRINT(MAKE_DETAILS):   title3 "Customer historical number of finished loans with status C on product ins                                                                                                                                                       
                                ";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_ACT_CINS_N_STATC / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_ACT_CINS_N_STATC= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.79 seconds
      cpu time            0.48 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
APP_CHAR_JOB_CODE
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "APP_CHAR_JOB_CODE" and label not like "%'%" and label ne '';
NOTE: No rows were selected.
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
169                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           0.01 seconds
      cpu time            0.01 seconds
      

Not defined
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="APP_CHAR_JOB_CODE.html" style=statistical;
NOTE: Writing HTML Body file: APP_CHAR_JOB_CODE.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title2 "Not defined";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='APP_CHAR_JOB_CODE';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.35 seconds
      cpu time            0.03 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_APP_CHAR_JOB_CODE Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           15.41 seconds
      cpu time            7.86 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_APP_CHAR_JOB_CODE Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 20 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.69 seconds
      cpu time            9.31 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 20 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
170                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_APP_CHAR_JOB_CODE Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_APP_CHAR_JOB_CODE='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 20 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 20 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.31 seconds
      cpu time            0.14 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_APP_CHAR_JOB_CODE= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           1.07 seconds
      cpu time            0.46 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_CHAR_JOB_CODE= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.63 seconds
      cpu time            0.45 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_CHAR_JOB_CODE= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
171                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.26 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_APP_CHAR_JOB_CODE= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.62 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_APP_CHAR_JOB_CODE= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.62 seconds
      cpu time            0.51 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_JOB_CODE";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_JOB_CODE / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_APP_CHAR_JOB_CODE= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 20 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.76 seconds
      cpu time            0.34 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
APP_CHAR_MARITAL_STATUS
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "APP_CHAR_MARITAL_STATUS" and label not like "%'%" and label ne '';
NOTE: No rows were selected.
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

Not defined
MPRINT(MAKE_DETAILS):   ods listing close;
172                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="APP_CHAR_MARITAL_STATUS.html" style=statistical;
NOTE: Writing HTML Body file: APP_CHAR_MARITAL_STATUS.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title2 "Not defined";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 2 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='APP_CHAR_MARITAL_STATUS';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_APP_CHAR_MARITAL_STATUS Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           19.70 seconds
      cpu time            8.12 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_APP_CHAR_MARITAL_STATUS Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 10 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.05 seconds
      cpu time            9.17 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 10 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 10 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
173                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   class GRP_APP_CHAR_MARITAL_STATUS Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_APP_CHAR_MARITAL_STATUS='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 10 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 10 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.15 seconds
      cpu time            0.09 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_APP_CHAR_MARITAL_STATUS= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.60 seconds
      cpu time            0.40 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_CHAR_MARITAL_STATUS= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.66 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_CHAR_MARITAL_STATUS= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.39 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
174                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_APP_CHAR_MARITAL_STATUS= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.60 seconds
      cpu time            0.45 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_APP_CHAR_MARITAL_STATUS= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.34 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_CHAR_MARITAL_STATUS";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_CHAR_MARITAL_STATUS / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_APP_CHAR_MARITAL_STATUS= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 10 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.62 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
APP_LOAN_AMOUNT
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "APP_LOAN_AMOUNT" and label not like "%'%" and label ne '';
NOTE: No rows were selected.
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

Not defined
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="APP_LOAN_AMOUNT.html" style=statistical;
NOTE: Writing HTML Body file: APP_LOAN_AMOUNT.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title2 "Not defined";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
175                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 5 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='APP_LOAN_AMOUNT';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_APP_LOAN_AMOUNT Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           25.53 seconds
      cpu time            8.25 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_APP_LOAN_AMOUNT Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 25 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.35 seconds
      cpu time            9.08 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 25 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 25 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_APP_LOAN_AMOUNT Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_APP_LOAN_AMOUNT='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;
176                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 25 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 25 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.18 seconds
      cpu time            0.17 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_APP_LOAN_AMOUNT= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.81 seconds
      cpu time            0.48 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_LOAN_AMOUNT= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.82 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_LOAN_AMOUNT= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_APP_LOAN_AMOUNT= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

177                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.64 seconds
      cpu time            0.39 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_APP_LOAN_AMOUNT= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_LOAN_AMOUNT";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_LOAN_AMOUNT / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_APP_LOAN_AMOUNT= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 25 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.64 seconds
      cpu time            0.42 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
APP_NUMBER_OF_CHILDREN
MPRINT(MAKE_DETAILS):   proc sql noprint;
MPRINT(MAKE_DETAILS):   select label into :label from test_det where upcase(_variable_) eq "APP_NUMBER_OF_CHILDREN" and label not like "%'%" and label ne '';
NOTE: No rows were selected.
MPRINT(MAKE_DETAILS):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

Not defined
MPRINT(MAKE_DETAILS):   ods listing close;
MPRINT(MAKE_DETAILS):   ods html path="c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\results\nonmon\reports\" (url=none) body="APP_NUMBER_OF_CHILDREN.html" style=statistical;
NOTE: Writing HTML Body file: APP_NUMBER_OF_CHILDREN.html
MPRINT(MAKE_DETAILS):   title "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title2 "Not defined";
MPRINT(MAKE_DETAILS):   title3 'Table with statistics';
MPRINT(MAKE_DETAILS):   proc print data=karta label;
MPRINT(MAKE_DETAILS):   id grp;
MPRINT(MAKE_DETAILS):   var war br pr_POP pr_GD pr_BD pr_IND POP GD BD IND wi ivi;
MPRINT(MAKE_DETAILS):   where upcase(zmienna)="APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   label ivi= 'Information value (ivi)' POP= 'Population (POP)' GD= 'Number of goods (GD)' BD= 'Number of bads (BD)' IND= 'Number of indeterminated (IND)' pr_POP= 'Percent of population (%POP)' pr_GD= 'Percent of goods (%GD)' pr_BD= 
'Percent of bads (%BD)' pr_IND= 'Percent of indeterminated (%IND)' wi= 'Weight of evidence (wi)' br= 'Bad rate (br)' grp= 'Attribute number' war= 'Condition' ;
MPRINT(MAKE_DETAILS):   sum POP GD BD IND pr_POP ivi;
178                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(MAKE_DETAILS):   run;

NOTE: There were 3 observations read from the data set WORK.KARTA.
      WHERE UPCASE(zmienna)='APP_NUMBER_OF_CHILDREN';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
MPRINT(MAKE_DETAILS):   goptions reset=all device=activex;
MPRINT(MAKE_DETAILS):   data br_am;
MPRINT(MAKE_DETAILS):   set abt_woe;
MPRINT(MAKE_DETAILS):   all=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (.d,.i,0,1)) then all_ass=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (0)) then good=outstanding;
MPRINT(MAKE_DETAILS):   if (default12new in (1)) then bad=outstanding;
MPRINT(MAKE_DETAILS):   keep GRP_APP_NUMBER_OF_CHILDREN Year5 all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.ABT_WOE.
NOTE: The data set WORK.BR_AM has 4359900 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           9.67 seconds
      cpu time            7.67 seconds
      

MPRINT(MAKE_DETAILS):   proc means data=br_am nway noprint;
MPRINT(MAKE_DETAILS):   class GRP_APP_NUMBER_OF_CHILDREN Year5;
MPRINT(MAKE_DETAILS):   var all good bad all_ass credit_limit;
MPRINT(MAKE_DETAILS):   output out=br_am_stat sum(all good bad all_ass credit_limit)=all good bad all_ass credit_limit n(all)=n mean(all credit_limit)=sr credit_limit_sr n(good bad all_ass)=good_n bad_n all_ass_n ;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 4359900 observations read from the data set WORK.BR_AM.
NOTE: The data set WORK.BR_AM_STAT has 15 observations and 15 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.27 seconds
      cpu time            9.25 seconds
      

MPRINT(MAKE_DETAILS):   data br_am_stat;
MPRINT(MAKE_DETAILS):   set br_am_stat;
MPRINT(MAKE_DETAILS):   br=bad/all_ass;
MPRINT(MAKE_DETAILS):   br_n=bad_n/all_ass_n;
MPRINT(MAKE_DETAILS):   if _error_ then _error_=0;
MPRINT(MAKE_DETAILS):   run;

NOTE: There were 15 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.BR_AM_STAT has 15 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(MAKE_DETAILS):   title "Numbers - all statistics for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc tabulate data=br_am_stat out=stat_am;
MPRINT(MAKE_DETAILS):   class GRP_APP_NUMBER_OF_CHILDREN Year5;
MPRINT(MAKE_DETAILS):   var all good bad good_n bad_n br br_n n all_ass credit_limit credit_limit_sr sr;
MPRINT(MAKE_DETAILS):   table Year5='' , GRP_APP_NUMBER_OF_CHILDREN='GRP'* ( all='All'*sum=''*f=liczba. sr='Average'*sum=''*f=liczba. all='All percent'*rowpctsum=''*f=procent. all_ass='All assigned'*sum=''*f=liczba. n='N'*sum=''*f=20. 
good='Good'*sum=''*f=liczba. bad='Bad'*sum=''*f=liczba. br='Bad rate'*sum=''*f=nlpct12.2 n='All percent N'*rowpctsum=''*f=procent. good_n='Good N'*sum=''*f=12. bad_n='Bad N'*sum=''*f=12. br_n='Bad rate N'*sum=''*f=nlpct12.2 credit_limit='Limit 
percent'*rowpctsum=''*f=procent. credit_limit_sr='Average limit'*sum=''*f=liczba. ) / box="Year5";
MPRINT(MAKE_DETAILS):   run;

WARNING: The variable all conflicts with the keyword of the same name.
WARNING: The variable n conflicts with the keyword of the same name.
NOTE: There were 15 observations read from the data set WORK.BR_AM_STAT.
NOTE: The data set WORK.STAT_AM has 15 observations and 19 variables.
NOTE: PROCEDURE TABULATE used (Total process time):
179                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           0.31 seconds
      cpu time            0.12 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - number distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=n_PctSum_01 type=sum patternid=group subgroup=n_Sum;
MPRINT(MAKE_DETAILS):   label n_Sum= 'Number of accounts' GRP_APP_NUMBER_OF_CHILDREN= 'GRP' n_PctSum_01= 'Number percent';
MPRINT(MAKE_DETAILS):   format n_PctSum_01 procent. n_sum 12.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.67 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - balance distribution by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=all_PctSum_01 type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_NUMBER_OF_CHILDREN= 'GRP' all_PctSum_01= 'Balance percent';
MPRINT(MAKE_DETAILS):   format all_PctSum_01 procent. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.43 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average balance for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=sr_sum type=sum patternid=group subgroup=all_Sum;
MPRINT(MAKE_DETAILS):   label all_Sum= 'Balance' GRP_APP_NUMBER_OF_CHILDREN= 'GRP' sr_sum= 'Average balance';
MPRINT(MAKE_DETAILS):   format sr_sum liczba. all_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.67 seconds
      cpu time            0.45 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - average credit limit for attributes by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=credit_limit_sr_Sum type=sum patternid=group subgroup=credit_limit_PctSum_01;
MPRINT(MAKE_DETAILS):   label credit_limit_PctSum_01= 'Limit percent' GRP_APP_NUMBER_OF_CHILDREN= 'GRP' credit_limit_sr_Sum= 'Average credit limit';
MPRINT(MAKE_DETAILS):   format credit_limit_PctSum_01 procent. credit_limit_sr_Sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;

NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
180                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.39 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Balance bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=br_sum type=sum patternid=group subgroup=bad_sum;
MPRINT(MAKE_DETAILS):   label br_sum= "Balance bad rate default12new" GRP_APP_NUMBER_OF_CHILDREN= 'GRP' bad_Sum= 'Balance for Bads';
MPRINT(MAKE_DETAILS):   format br_sum nlpct12.2 bad_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.40 seconds
      

MPRINT(MAKE_DETAILS):   title "Chart - Number bad rate for default12new by Year5 on state EM";
MPRINT(MAKE_DETAILS):   title2 "Attributes for variable APP_NUMBER_OF_CHILDREN";
MPRINT(MAKE_DETAILS):   title3 "Not defined";
MPRINT(MAKE_DETAILS):   proc gchart data=stat_am;
MPRINT(MAKE_DETAILS):   block GRP_APP_NUMBER_OF_CHILDREN / discrete group=Year5 sumvar=br_n_sum type=sum patternid=group subgroup=bad_n_sum;
MPRINT(MAKE_DETAILS):   label br_n_sum= "Number bad rate default12new" GRP_APP_NUMBER_OF_CHILDREN= 'GRP' bad_n_Sum= 'Number of bad accounts';
MPRINT(MAKE_DETAILS):   format br_n_sum nlpct12.2 bad_n_sum liczba.;
MPRINT(MAKE_DETAILS):   run;

WARNING: PATTERNID=GROUP has been specified on a graph with subgroups. The legend has been suppressed.
MPRINT(MAKE_DETAILS):   quit;
NOTE: There were 15 observations read from the data set WORK.STAT_AM.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.60 seconds
      cpu time            0.37 seconds
      

MPRINT(MAKE_DETAILS):   ods html close;
MPRINT(MAKE_DETAILS):   ods listing;
MPRINT(MAKE_DETAILS):   goptions reset=all device=win;
NOTE: %INCLUDE (level 1) ending.
3147       
3148       
3149       
3150       /*%include "&kat_kody.steps_selection.sas" / source2;*/
3151       /*%include "&kat_kody.score_selection.sas" / source2;*/
3152       
3153       
3154       proc logistic data=wyj.train_woe desc outest=wyj.betas_w
ERROR: File WYJ.TRAIN_WOE.DATA does not exist.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
WARNING: The data set WYJ.BETAS_W may be incomplete.  When this step was stopped there were 0 observations and 0 variables.
WARNING: The data set WYJ.MODEL_W may be incomplete.  When this step was stopped there were 0 observations and 0 variables.
3155       outmodel=wyj.model_w;
3156       weight waga;
3157       model &tar=
3158       WOE_ACT_CC
3159       WOE_ACT_CINS_CC
3160       WOE_ACT_CINS_MIN_SENIORITY
3161       WOE_ACT_CINS_N_STATC
3162       WOE_APP_CHAR_JOB_CODE
3163       WOE_APP_CHAR_MARITAL_STATUS
3164       WOE_APP_LOAN_AMOUNT
3165       WOE_APP_NUMBER_OF_CHILDREN
3166       ;
3167       run;
181                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3168       
3169       %include "&kat_kody.modele_experckie.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\modele_experckie.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\modele_experckie.sas.
3170      +/*  (c) Karol Przanowski   */
3171      +/*    kprzan@sgh.waw.pl    */
3172      +
3173      +
3174      +
3175      +
3176      +/*modele experckie:*/
3177      +


3178      +data subset;
3179      +length
3180      +method $ 200 control_var $ 1 NumberOfVariables 8
3181      +ScoreChiSq 8 VariablesInModel $ 3000 sbc aic 8;
3182      +method='Expert';
3183      +
3184      +VariablesInModel=
3185      +' WOE_ACT_CC
3186      + WOE_ACT_CINS_MIN_SENIORITY
3187      + WOE_ACT_CINS_N_STATC
3188      + WOE_APP_CHAR_JOB_CODE
3189      + WOE_APP_CHAR_MARITAL_STATUS
3190      + WOE_APP_LOAN_AMOUNT
3191      + WOE_APP_NUMBER_OF_CHILDREN'
3192      +;
3193      +
3194      +NumberOfVariables=7;
3195      +output;
3196      +
3197      +run;

NOTE: Variable control_var is uninitialized.
NOTE: Variable ScoreChiSq is uninitialized.
NOTE: Variable sbc is uninitialized.
NOTE: Variable aic is uninitialized.
NOTE: The data set WORK.SUBSET has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

3198      +
3199      +
3200      +
3201      +/**/
3202      +%let name_method=Method;
3203      +%let name_model=Model;
3204      +%let name_N_Var=N_Var;
3205      +%let name_ar_train=AR_Train;
3206      +%let name_ar_valid=AR_Valid;
3207      +%let name_vif=Max_VIF_Train;
3208      +%let name_corr=Max_Pearson_Train;
3209      +%let name_ConIndex=Max_Con_Index_Train;
3210      +%let name_ar_diff=AR_Diff;
3211      +%let name_max_probChiSq=Max_ProbChiSq;
3212      +%let name_min_WaldChiSq=Min_WaldChiSq;
3213      +%let def_var=length &name_method $200 &name_model $9000 &name_N_Var &name_ar_train &name_ar_valid &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex 8;
3214      +%let list_var=&name_method &name_model &name_N_Var &name_ar_train &name_ar_valid &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex;
3215      +
3216      +
3217      +%macro licz(method,zmienne,num_vars,train,valid);
3218      +%if %sysfunc(exist(a)) %then %do;
3219      +proc delete data=a;
3220      +run;
3221      +%end;
3222      +
182                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3223      +ods listing close;
3224      +ods output Association(persist=proc)=a ParameterEstimates=par;
3225      +proc logistic data=&train(keep=&tar &zmienne) desc outest=b;
3226      +model &tar=&zmienne;
3227      +run;
3228      +ods output close;
3229      +ods listing;
3230      +
3231      +
3232      +%if %sysfunc(exist(a)) %then %do;
3233      +
3234      +
3235      +data zm;
3236      +length zm $ 9000 z $ 32;
3237      +/*zm="&zmienne";*/
3238      +zm=symget('zmienne');
3239      +do i=1 to &num_vars;
3240      +z=upcase(scan(zm,i,' '));
3241      +output;
3242      +end;
3243      +run;
3244      +
3245      +proc sql noprint;
3246      +select z length=32 into :zm_sort separated by ' ' from zm order by 1;
3247      +quit;
3248      +%put &zm_sort;
3249      +
3250      +ods listing close;
3251      +ods output Association(persist=proc)=av;
3252      +proc logistic data=&valid(keep=&tar &zmienne) desc inest=b;
3253      +model &tar=&zmienne / maxiter=0;
3254      +run;
3255      +ods output close;
3256      +ods listing;
3257      +
3258      +data n;
3259      +set av;
3260      +where label2='c';
3261      +ar=2*nValue2-1;
3262      +call symput('ar_v',put(ar,best12.-L));
3263      +run;
3264      +
3265      +
3266      +ods listing close;
3267      +ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
3268      +/*ods trace on / listing;*/
3269      +/*ods trace off;*/
3270      +proc reg data=&train(keep=&tar &zmienne);
3271      +model &tar=&zmienne / vif collin;
3272      +run;
3273      +quit;
3274      +ods output close;
3275      +ods listing;
3276      +
3277      +proc sql noprint;
3278      +select max(VarianceInflation) into :vif from p;
3279      +select count(*) into :n_beta_minus from par
3280      +where estimate<0 and variable ne 'Intercept';
3281      +
3282      +select max(ConditionIndex) into :conindex from coll;
3283      +select min(WaldChiSq), max(ProbChiSq) into :WaldChiSq,:ProbChiSq
3284      +from par;
3285      +quit;
3286      +
3287      +proc corr data=&train(keep=&zmienne) outp=corr(where=(_TYPE_='CORR'))
3288      +noprint;
3289      +var &zmienne;
3290      +run;
3291      +
3292      +data _null_;
183                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3293      +set corr end=e;
3294      +array t(*) _numeric_;
3295      +retain m 0;
3296      +do i=_n_+1 to dim(t);
3297      +m=max(m,abs(t(i)));
3298      +/*put i= t(i)=;*/
3299      +end;
3300      +if e then call symput('max_corr',put(m,best12.-L));
3301      +run;
3302      +/*%put &max_corr;*/
3303      +
3304      +data model;
3305      +&def_var;
3306      +set a;
3307      +where label2='c';
3308      +&name_ar_train=2*nValue2-1;
3309      +&name_VIF=&vif;
3310      +&name_method="&method";
3311      +&name_corr=&max_corr;
3312      +&name_Model=symget('zm_sort');
3313      +/*&name_Model=symget('zmienne');*/
3314      +
3315      +&name_N_Var=&num_vars;
3316      +&name_ar_valid=&ar_v;
3317      +&name_conindex=&conindex;
3318      +&name_max_probChiSq=&ProbChiSq;
3319      +&name_min_WaldChiSq=&WaldChiSq;
3320      +n_beta_minus=&n_beta_minus;
3321      +format &name_max_probChiSq PVALUE6.4;
3322      +keep &list_var n_beta_minus;
3323      +run;
3324      +
3325      +%end;
3326      +%mend;
3327      +
3328      +
3329      +%macro valid_list(inlist,outlist,train,valid);
3330      +data models;
3331      +&def_var;
3332      +length n_beta_minus 8;
3333      +format &name_max_probChiSq PVALUE6.4;
3334      +delete;
3335      +run;
3336      +data _null_;
3337      +set &inlist(obs=1) nobs=il;
3338      +call symput('num_models',put(il,best12.-L));
3339      +run;
3340      +
3341      +%do k=1 %to &num_models;
3342      +proc sql noprint;
3343      +select VariablesInModel,NumberOfVariables,method
3344      +into :vars,:num,:met from &inlist(firstobs=&k obs=&k);
3345      +quit;
3346      +%LICZ(&met,&vars,&num,&train,&valid);
3347      +proc append base=models data=model;
3348      +run;
3349      +%end;
3350      +
3351      +proc sort data=models nodupkey out=&outlist;
3352      +by &name_model;
3353      +/*by descending ar_train;*/
3354      +run;
3355      +
3356      +proc print data=&outlist;
3357      +run;
3358      +%mend;
3359      +
3360      +/*tu sie okresla wszystko*/
3361      +%valid_list(subset,&em_lib..model_expert,&em_import_data,&em_import_validate);
MPRINT(VALID_LIST):   data models;
184                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALID_LIST):   length Method $200 Model $9000 N_Var AR_Train AR_Valid Min_WaldChiSq Max_ProbChiSq Max_VIF_Train Max_Pearson_Train Max_Con_Index_Train 8;
MPRINT(VALID_LIST):   length n_beta_minus 8;
MPRINT(VALID_LIST):   format Max_ProbChiSq PVALUE6.4;
MPRINT(VALID_LIST):   delete;
MPRINT(VALID_LIST):   run;

NOTE: Variable Method is uninitialized.
NOTE: Variable Model is uninitialized.
NOTE: Variable N_Var is uninitialized.
NOTE: Variable AR_Train is uninitialized.
NOTE: Variable AR_Valid is uninitialized.
NOTE: Variable Min_WaldChiSq is uninitialized.
NOTE: Variable Max_ProbChiSq is uninitialized.
NOTE: Variable Max_VIF_Train is uninitialized.
NOTE: Variable Max_Pearson_Train is uninitialized.
NOTE: Variable Max_Con_Index_Train is uninitialized.
NOTE: Variable n_beta_minus is uninitialized.
NOTE: The data set WORK.MODELS has 0 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

MPRINT(VALID_LIST):   data _null_;
MPRINT(VALID_LIST):   set subset(obs=1) nobs=il;
MPRINT(VALID_LIST):   call symput('num_models',put(il,best12.-L));
MPRINT(VALID_LIST):   run;

NOTE: There were 1 observations read from the data set WORK.SUBSET.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(VALID_LIST):   proc sql noprint;
MPRINT(VALID_LIST):   select VariablesInModel,NumberOfVariables,method into :vars,:num,:met from subset(firstobs=1 obs=1);
MPRINT(VALID_LIST):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(LICZ):   proc delete data=a;
MPRINT(LICZ):   run;

NOTE: Deleting WORK.A (memtype=DATA).
NOTE: PROCEDURE DELETE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(LICZ):   ods listing close;
MPRINT(LICZ):   ods output Association(persist=proc)=a ParameterEstimates=par;
MPRINT(LICZ):   proc logistic data=abt.train_woe(keep=default12new WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN) desc outest=b;
MPRINT(LICZ):   model default12new=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(LICZ):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.PAR has 8 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.B has 1 observations and 13 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           1:02.60
      cpu time            57.45 seconds
      

MPRINT(LICZ):   ods output close;
NOTE: The data set WORK.A has 4 observations and 8 variables.
MPRINT(LICZ):   ods listing;
185                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(LICZ):   data zm;
MPRINT(LICZ):   length zm $ 9000 z $ 32;
MPRINT(LICZ):   zm=symget('zmienne');
MPRINT(LICZ):   do i=1 to 7;
MPRINT(LICZ):   z=upcase(scan(zm,i,' '));
MPRINT(LICZ):   output;
MPRINT(LICZ):   end;
MPRINT(LICZ):   run;

NOTE: The data set WORK.ZM has 7 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(LICZ):   proc sql noprint;
MPRINT(LICZ):   select z length=32 into :zm_sort separated by ' ' from zm order by 1;
MPRINT(LICZ):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN
MPRINT(LICZ):   ods listing close;
MPRINT(LICZ):   ods output Association(persist=proc)=av;
MPRINT(LICZ):   proc logistic data=abt.valid_woe(keep=default12new WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN) desc inest=b;
MPRINT(LICZ):   model default12new=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN / maxiter=0;
MPRINT(LICZ):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           31.01 seconds
      cpu time            28.45 seconds
      

MPRINT(LICZ):   ods output close;
NOTE: The data set WORK.AV has 4 observations and 8 variables.
MPRINT(LICZ):   ods listing;
MPRINT(LICZ):   data n;
MPRINT(LICZ):   set av;
MPRINT(LICZ):   where label2='c';
MPRINT(LICZ):   ar=2*nValue2-1;
MPRINT(LICZ):   call symput('ar_v',put(ar,best12.-L));
MPRINT(LICZ):   run;

NOTE: There were 1 observations read from the data set WORK.AV.
      WHERE label2='c';
NOTE: The data set WORK.N has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

MPRINT(LICZ):   ods listing close;
MPRINT(LICZ):   ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
MPRINT(LICZ):   proc reg data=abt.train_woe(keep=default12new WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN);
MPRINT(LICZ):   model default12new=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN / vif collin;
MPRINT(LICZ):   run;

MPRINT(LICZ):   quit;
NOTE: PROCEDURE REG used (Total process time):
      real time           7.25 seconds
      cpu time            6.92 seconds
      

MPRINT(LICZ):   ods output close;
186                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.COLL has 8 observations and 15 variables.
NOTE: The data set WORK.P has 8 observations and 11 variables.
MPRINT(LICZ):   ods listing;
MPRINT(LICZ):   proc sql noprint;
MPRINT(LICZ):   select max(VarianceInflation) into :vif from p;
MPRINT(LICZ):   select count(*) into :n_beta_minus from par where estimate<0 and variable ne 'Intercept';
MPRINT(LICZ):   select max(ConditionIndex) into :conindex from coll;
MPRINT(LICZ):   select min(WaldChiSq), max(ProbChiSq) into :WaldChiSq,:ProbChiSq from par;
MPRINT(LICZ):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(LICZ):   proc corr data=abt.train_woe(keep=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN) outp=corr(where=(_TYPE_='CORR')) noprint;
MPRINT(LICZ):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(LICZ):   run;

NOTE: The data set WORK.CORR has 7 observations and 9 variables.
NOTE: PROCEDURE CORR used (Total process time):
      real time           5.56 seconds
      cpu time            5.55 seconds
      

MPRINT(LICZ):   data _null_;
MPRINT(LICZ):   set corr end=e;
MPRINT(LICZ):   array t(*) _numeric_;
MPRINT(LICZ):   retain m 0;
MPRINT(LICZ):   do i=_n_+1 to dim(t);
MPRINT(LICZ):   m=max(m,abs(t(i)));
MPRINT(LICZ):   end;
MPRINT(LICZ):   if e then call symput('max_corr',put(m,best12.-L));
MPRINT(LICZ):   run;

NOTE: There were 7 observations read from the data set WORK.CORR.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(LICZ):   data model;
MPRINT(LICZ):   length Method $200 Model $9000 N_Var AR_Train AR_Valid Min_WaldChiSq Max_ProbChiSq Max_VIF_Train Max_Pearson_Train Max_Con_Index_Train 8;
MPRINT(LICZ):   set a;
MPRINT(LICZ):   where label2='c';
MPRINT(LICZ):   AR_Train=2*nValue2-1;
MPRINT(LICZ):   Max_VIF_Train=1.088283;
MPRINT(LICZ):   Method="Expert";
MPRINT(LICZ):   Max_Pearson_Train=0.2335350225;
MPRINT(LICZ):   Model=symget('zm_sort');
MPRINT(LICZ):   N_Var=7;
MPRINT(LICZ):   AR_Valid=0.5938543304;
MPRINT(LICZ):   Max_Con_Index_Train= 37.3591;
MPRINT(LICZ):   Max_ProbChiSq= 0;
MPRINT(LICZ):   Min_WaldChiSq=8770.462;
MPRINT(LICZ):   n_beta_minus= 0;
MPRINT(LICZ):   format Max_ProbChiSq PVALUE6.4;
MPRINT(LICZ):   keep Method Model N_Var AR_Train AR_Valid Min_WaldChiSq Max_ProbChiSq Max_VIF_Train Max_Pearson_Train Max_Con_Index_Train n_beta_minus;
MPRINT(LICZ):   run;

NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.MODEL has 1 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALID_LIST):  ;
MPRINT(VALID_LIST):   proc append base=models data=model;
MPRINT(VALID_LIST):   run;
187                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: Appending WORK.MODEL to WORK.MODELS.
NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: 1 observations added.
NOTE: The data set WORK.MODELS has 1 observations and 11 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALID_LIST):   proc sort data=models nodupkey out=wyj.model_expert;
MPRINT(VALID_LIST):   by Model;
MPRINT(VALID_LIST):   run;

NOTE: There were 1 observations read from the data set WORK.MODELS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WYJ.MODEL_EXPERT has 1 observations and 11 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(VALID_LIST):   proc print data=wyj.model_expert;
MPRINT(VALID_LIST):   run;

NOTE: There were 1 observations read from the data set WYJ.MODEL_EXPERT.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

3362      +
NOTE: %INCLUDE (level 1) ending.
3363       
3364       /*%let insets=wyj.Steps_models;*/
3365       %let insets=wyj.Model_expert;
3366       /*%let insets=wyj.Branch_models;*/
3367       /**/
3368       %let zm=SCORECARD_POINTS;
3369       %include "&kat_kody.ocena_modeli.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ocena_modeli.sas is file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\ocena_modeli.sas.
3370      +/*  (c) Karol Przanowski   */
3371      +/*    kprzan@sgh.waw.pl    */
3372      +
3373      +
3374      +
3375      +libname d (wyj);
NOTE: Libref D was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj
3376      +
3377      +%let karta_duza=d.karta_duza;
3378      +
3379      +%let id=;
3380      +
3381      +
3382      +
3383      +/*data &em_lib..train;*/
3384      +/*set &em_import_data;*/
3385      +/*run;*/
3386      +/*data &em_lib..valid;*/
3387      +/*set &em_import_validate;*/
3388      +/*run;*/
3389      +
3390      +
3391      +/*do liczenia liftów*/
3392      +%let centyle=1 2 3 4 5 10 20 30 40 50;
3393      +%let wym=%eval(1+%sysfunc(count(&centyle,%str( ))));
188                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3394      +%put &wym;
10
3395      +data _null_;
3396      +length lifty gainsy $ 300;
3397      +array t(&wym) _temporary_ (&centyle) ;
3398      +do i=1 to &wym;
3399      +/*put t(i)=;*/
3400      +lifty=trim(lifty)||' Lift'||trim(put(t(i),best12.-L));
3401      +gainsy=trim(gainsy)||' Gains'||trim(put(t(i),best12.-L));
3402      +end;
3403      +/*put lifty=;*/
3404      +/*put gainsy=;*/
3405      +call symput('lifty',trim(lifty));
3406      +call symput('gainsy',trim(gainsy));
3407      +run;

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3408      +%put &lifty;
Lift1 Lift2 Lift3 Lift4 Lift5 Lift10 Lift20 Lift30 Lift40 Lift50
3409      +%put &gainsy;
Gains1 Gains2 Gains3 Gains4 Gains5 Gains10 Gains20 Gains30 Gains40 Gains50
3410      +
3411      +
3412      +%let max_p=1000;
3413      +%let min_p=0;
3414      +%let stala_pt=1;
3415      +%let zmiana_skali=N;
3416      +/*%let zmiana_skali=T;*/
3417      +%let ile_modeli=1;
3418      +%let prawiezero=0.000000001;
3419      +
3420      +/**/
3421      +%let name_method=Method;
3422      +%let name_model=Model;
3423      +%let name_N_Var=N_Var;
3424      +%let name_ar_train=AR_Train;
3425      +%let name_ar_valid=AR_Valid;
3426      +%let name_vif=Max_VIF_Train;
3427      +%let name_corr=Max_Pearson_Train;
3428      +%let name_ConIndex=Max_Con_Index_Train;
3429      +%let name_ar_diff=AR_Diff;
3430      +%let name_max_probChiSq=Max_ProbChiSq;
3431      +%let name_min_WaldChiSq=Min_WaldChiSq;
3432      +%let def_var=length &name_method $200 &name_model $9000 &name_N_Var &name_ar_train &name_ar_valid &name_ar_diff &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex 8;
3433      +%let list_var=&name_method &name_model &name_N_Var &name_ar_train &name_ar_valid &name_ar_diff &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex;
3434      +
3435      +
3436      +%let name_ks_score                     =KS_Score;
3437      +%let name_h_score                      =H_Score;
3438      +%let name_h_br_score                   =H_Br_Score;
3439      +%let name_sd_score                     =SD_Score;
3440      +%let name_max_dist_score               =Max_Dist_Score;
3441      +%let name_max_dist_br_score            =Max_Dist_Br_Score;
3442      +%let name_prop_sd_range                =Prop_Sd_Range;
3443      +%let name_ar_score_train               =AR_Score_Train;
3444      +%let name_ar_score_valid               =AR_Score_Valid;
3445      +%let name_ar_score_diff                =AR_Score_Diff;
3446      +%let name_max_abs_sd_zm                =Max_Abs_SD_Zm;
3447      +%let name_prop_max_sd_range_zm         =Prop_Max_SD_Range_Zm;
3448      +%let name_max_corr_valid            =Max_Pearson_Valid;
3449      +%let name_max_vif_valid                =Max_Vif_Valid;
3450      +%let name_max_coindex_valid            =Max_Con_Index_Valid;
3451      +
3452      +%let def_var_dluga=
3453      +length &name_method $200 &name_model $9000 &name_N_Var
3454      +&name_ar_train &name_ar_valid &name_ar_diff
189                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3455      +&name_min_WaldChiSq &name_max_probChiSq
3456      +&name_ar_score_train &name_ar_score_valid &name_ar_score_diff
3457      +&name_ks_score &name_h_score &name_h_br_score
3458      +&name_max_dist_score &name_max_dist_br_score
3459      +&name_sd_score &name_prop_sd_range
3460      +&name_max_abs_sd_zm &name_prop_max_sd_range_zm
3461      +&name_VIF &name_max_vif_valid
3462      +&name_corr &name_max_corr_valid
3463      +&name_conindex &name_max_coindex_valid
3464      +&lifty &gainsy
3465      +8;
3466      +
3467      +%let list_var_dluga=
3468      +&name_method &name_model &name_N_Var
3469      +&name_ar_train &name_ar_valid &name_ar_diff
3470      +&name_min_WaldChiSq &name_max_probChiSq
3471      +&name_ar_score_train &name_ar_score_valid &name_ar_score_diff
3472      +&name_ks_score &name_h_score &name_h_br_score
3473      +&name_max_dist_score &name_max_dist_br_score
3474      +&name_sd_score &name_prop_sd_range
3475      +&name_max_abs_sd_zm &name_prop_max_sd_range_zm
3476      +&name_VIF &name_corr &name_conindex
3477      +&name_max_vif_valid &name_max_corr_valid &name_max_coindex_valid
3478      +&lifty &gainsy
3479      +;
3480      +
3481      +
3482      +data &em_lib..all_models;
3483      +&def_var;
3484      +set &insets;
3485      +&name_ar_diff=(&name_ar_train-&name_ar_valid)/&name_ar_train;
3486      +format &name_ar_diff percent12.2;
3487      +run;

NOTE: There were 1 observations read from the data set WYJ.MODEL_EXPERT.
NOTE: The data set WYJ.ALL_MODELS has 1 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

3488      +
3489      +proc sort data=&em_lib..all_models nodupkey;
3490      +by &name_model;
3491      +run;

NOTE: There were 1 observations read from the data set WYJ.ALL_MODELS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WYJ.ALL_MODELS has 1 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

3492      +
3493      +proc sort data=&em_lib..all_models;
3494      +by descending &name_ar_valid;
3495      +/*by descending &name_ar_train;*/
3496      +run;

NOTE: There were 1 observations read from the data set WYJ.ALL_MODELS.
NOTE: The data set WYJ.ALL_MODELS has 1 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3497      +
3498      +/*proc print data=&em_lib..all_models;*/
3499      +/*run;*/
190                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3500      +/**/
3501      +/*ods listing close;*/
3502      +/*goptions reset=all device=activex;*/
3503      +/*ods html body="&em_nodedir.\validation_all_models.html";*/
3504      +/*proc print data=&em_lib..all_models;*/
3505      +/*run;*/
3506      +/*ods html close;*/
3507      +/*ods listing;*/
3508      +/*goptions reset=all device=win;*/
3509      +
3510      +
3511      +
3512      +
3513      +
3514      +%let granica_vif=5;
3515      +/*%let granica_vif=1.6;*/
3516      +%let granica_corr=0.88;
3517      +/*%let granica_corr=0.4;*/
3518      +/*%let granica_conindex=350;*/
3519      +%let granica_conindex=90;
3520      +/*%let granica_conindex=10;*/
3521      +%let granica_ar_diff=1;
3522      +/*%let granica_ar_diff=0.06;*/
3523      +%let granica_ProbChiSq=0.05;
3524      +
3525      +
3526      +
3527      +data &em_lib..dobre;
3528      +set &em_lib..all_models;
3529      +where
3530      +&name_vif le &granica_vif
3531      +and &name_corr le &granica_corr
3532      +and &name_conindex le &granica_conindex
3533      +and abs(&name_ar_diff) le &granica_ar_diff
3534      +and &name_max_probChiSq le &granica_ProbChiSq
3535      +and n_beta_minus=0
3536      +;
3537      +/*and n_var=10;*/
3538      +run;

NOTE: There were 1 observations read from the data set WYJ.ALL_MODELS.
      WHERE (Max_VIF_Train<=5) and (Max_Pearson_Train<=0.88) and (Max_Con_Index_Train<=90) and (ABS(AR_Diff)<=1) and (Max_ProbChiSq<=0.05) and (n_beta_minus=0);
NOTE: The data set WYJ.DOBRE has 1 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

3539      +
3540      +proc sort data=&em_lib..dobre;
3541      +by descending &name_ar_valid;
3542      +run;

NOTE: There were 1 observations read from the data set WYJ.DOBRE.
NOTE: The data set WYJ.DOBRE has 1 observations and 12 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

3543      +
3544      +/*data &em_lib..dobre;*/
3545      +/*set &em_lib..dobre(obs=3 firstobs=3);*/
3546      +/*run;*/
3547      +
3548      +
3549      +/*trzeba doliczyæ*/
3550      +/*ks_score
3551      +h_score h_br_score sd_score
3552      +max_dist_score max_dist_br_score prop_sd_range
191                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3553      +ar_score_train ar_score_valid ar_score_diff*/
3554      +/*sd_score max_abs_sd_zm prop_max_sd_range_zm */
3555      +/*max_probChiSq min_WaldChiSq */
3556      +/*max_pearson_valid max_vif_valid max_coindex_valid*/
3557      +
3558      +/*dodatkowo mo¿na dodaæ z poprzednich*/
3559      +/*max_h max_h_br max_dist max_dist_br*/
3560      +/* */
3561      +
3562      +
3563      +
3564      +
3565      +
3566      +/*%let train=&em_import_data;*/
3567      +/*%let valid=&em_import_validate;*/
3568      +
3569      +%macro validuj_dobre(lista,train,valid,max_nr_mod=0);
3570      +data _null_;
3571      +set &lista(obs=1) nobs=il;
3572      +call symput('il',put(il,best12.-L));
3573      +run;
3574      +%if (&max_nr_mod eq 0 or &max_nr_mod>&il) %then %let max_nr_mod=&il;
3575      +
3576      +data &lista._valid;
3577      +&def_var_dluga;
3578      +delete;
3579      +format &name_max_probChiSq PVALUE6.4;
3580      +format &name_prop_max_sd_range_zm &name_prop_sd_range percent12.4;
3581      +format &name_ar_diff &name_ar_score_diff percent12.2;
3582      +format &lifty 12.2;
3583      +format &gainsy percent12.2;
3584      +run;
3585      +
3586      +/*poczatek pêtli*/
3587      +/*%do nr=1 %to 1;*/
3588      +/*%do nr=5 %to 5;*/
3589      +%do nr=1 %to &max_nr_mod;
3590      +/*poczatek pêtli*/
3591      +
3592      +data model;
3593      +set &em_lib..dobre(firstobs=&nr obs=&nr);
3594      +call symput('zmienne',model);
3595      +run;
3596      +%put &zmienne;
3597      +
3598      +
3599      +ods listing close;
3600      +ods output
3601      +/*Association=testy.Association&nr*/
3602      +/*ConvergenceStatus=c OddsRatios=testy.Odds&nr*/
3603      +ParameterEstimates=modele.Scorecard_Effects&nr;
3604      +/*ods trace on / listing;*/
3605      +/*ods trace off;*/
3606      +
3607      +/*zamiast logistic lepiej dmreg*/
3608      +
3609      +proc logistic data=&em_import_data(keep=&tar &zmienne)
3610      +desc outest=b;
3611      +model &tar= &zmienne;
3612      +run;
3613      +
3614      +ods output close;
3615      +ods listing;
3616      +
3617      +proc transpose data=b out=tb(drop=_label_ where=(substr(_name_,1,1) ne '_'));
3618      +var _numeric_;
3619      +where _type_='PARMS';
3620      +run;
3621      +/**/
3622      +/*facctor=20/log(2);*/
192                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3623      +/*offset=200-factor*log(50);*/
3624      +/*do tego miejsca dobrze*/
3625      +
3626      +/*to poni¿ej gdy zmieniamy skale*/
3627      +/*proc sql noprint;*/
3628      +/*select zmienna into :zm1-:zm&sysmaxlong*/
3629      +/*from W_modelu_tym order by zmienna;*/
3630      +/*quit;*/
3631      +/**/
3632      +/**/
3633      +
3634      +/*na nowo tworzymy listê zmiennych &zmienne*/
3635      +proc sql noprint;
3636      +select &tar,upcase(_name_),quote(substr(upcase(_name_),5)),
3637      +upcase(_name_)||'=T_'||trim(substr(upcase(_name_),5)),
3638      +upcase(_name_)||'=V_'||trim(substr(upcase(_name_),5)),
3639      +'T_'||trim(substr(upcase(_name_),5)),
3640      +'V_'||trim(substr(upcase(_name_),5))
3641      +into :betas separated by ',', :zmienne separated by ' ',
3642      +:zm_wciapkach separated by ',',
3643      +:renamet separated by ' ',
3644      +:renamev separated by ' ',
3645      +:zmiennet separated by ' ',
3646      +:zmiennev separated by ' '
3647      +from tb where _name_ ne "Intercept"
3648      +order by upcase(_name_);
3649      +%let ilz=&sqlobs;
3650      +select &tar into :alpha
3651      +from tb where _name_ eq "Intercept";
3652      +quit;
3653      +
3654      +%put &ilz;
3655      +%put &zmienne;
3656      +%put &zmiennet;
3657      +%put &zmiennev;
3658      +%put &renamet;
3659      +%put &renamev;
3660      +%put &zm_wciapkach;
3661      +%put &betas;
3662      +
3663      +
3664      +
3665      +/*zrobienie scorecard_scorecard pierwsza czêœæ*/
3666      +proc sql;
3667      +create table scorecard_scorecard&nr as
3668      +select * from &karta_duza
3669      +where upcase(zmienna) in (&zm_wciapkach);
3670      +quit;
3671      +
3672      +
3673      +
3674      +data f_beta;
3675      +length nazwy1-nazwy&ilz $ 32;
3676      +array b(&ilz) (&betas);
3677      +array nazwy(&ilz)$ (&zm_wciapkach);
3678      +set scorecard_scorecard&nr end=e;
3679      +n=0;
3680      +do i=1 to &ilz;
3681      +if zmienna=nazwy(i) then n=i;
3682      +end;
3683      +retain first_beta 0;
3684      +if grp=1 then do;
3685      +	first_beta=first_beta+woe*b(n)*20/log(2);
3686      +	f_beta=woe*b(n);
3687      +	output;
3688      +	end;
3689      +if e;
3690      +first_beta=-first_beta+300;
3691      +call symput('alp',put(first_beta,best12.-L));
3692      +keep zmienna f_beta;
193                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3693      +run;
3694      +
3695      +proc sql noprint;
3696      +select f_beta into :f_betas separated by ','
3697      +from f_beta
3698      +order by upcase(zmienna);
3699      +quit;
3700      +%put &f_betas;
3701      +
3702      +
3703      +
3704      +
3705      +/*nie trzeba koniecznie korzystaæ ze zbioru ign_stats*/
3706      +/*proc sql;*/
3707      +/*create table stat_woe as*/
3708      +/*select 'WOE_'||trim(upcase(_variable_)) as _name_,*/
3709      +/*max(wtev) as max, min(wtev) as min, range(wtev) as range*/
3710      +/*from &em_lib..ign_stats*/
3711      +/*where upcase(_variable_) in (&zm_wciapkach)*/
3712      +/*group by 1*/
3713      +/*order by 1*/
3714      +/*;*/
3715      +/*quit;*/
3716      +/*zamiast ign_stats:*/
3717      +proc means data=&train noprint nway;
3718      +var &zmienne;
3719      +output out=s max()=;
3720      +run;
3721      +proc transpose data=s out=s_max(rename=(col1=max));
3722      +var &zmienne;
3723      +run;
3724      +
3725      +proc means data=&train noprint nway;
3726      +var &zmienne;
3727      +output out=s min()=;
3728      +run;
3729      +proc transpose data=s out=s_min(rename=(col1=min));
3730      +var &zmienne;
3731      +run;
3732      +proc sort data=s_max;
3733      +by _name_;
3734      +run;
3735      +proc sort data=s_min;
3736      +by _name_;
3737      +run;
3738      +data stat_woe;
3739      +merge s_max s_min;
3740      +by _name_;
3741      +_name_=upcase(_name_);
3742      +run;
3743      +/*zamiast ign_stats:*/
3744      +
3745      +
3746      +
3747      +proc transpose data=stat_woe out=twoe;
3748      +var min max;
3749      +id _name_;
3750      +run;
3751      +
3752      +
3753      +/*aby zmienic skale*/
3754      +data _null_;
3755      +array b(&ilz) (&betas);
3756      +array t(&ilz) &zmienne;
3757      +array m(2);
3758      +m(1)=0;m(2)=0;
3759      +
3760      +do obs=1 to 2;
3761      +	set twoe;
3762      +	do i=1 to &ilz;
194                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3763      +	m(obs)=m(obs)-(t(i)*b(i)+&alpha/&ilz);
3764      +/*	m(obs)=m(obs)-(t(i)*b(i)+&alpha/&ilz);*/
3765      +	end;
3766      +end;
3767      +
3768      +max_p=&max_p;
3769      +min_p=&min_p;
3770      +
3771      +factor=(max_p-min_p)/abs(m(2)-m(1));
3772      +/*factor=(max_p-min_p)/(m(2)-m(1));*/
3773      +offset=min_p-min(m(1),m(2))*factor;
3774      +/*offset=min_p-m(1)*factor;*/
3775      +
3776      +call symput('factor',put(factor,best12.-L));
3777      +call symput('offset',put(offset,best12.-L));
3778      +run;
3779      +%put &factor &offset;
3780      +/*aby zmienic skale*/
3781      +
3782      +
3783      +data score_woe;
3784      +set twoe;
3785      +array t(&ilz) &zmienne;
3786      +array b(&ilz) (&betas);
3787      +array fb(&ilz) (&f_betas);
3788      +%if &zmiana_skali=T %then %do;
3789      +	factor=&factor;
3790      +	offset=&offset;
3791      +%end; %else %do;
3792      +	factor=20/log(2);
3793      +	offset=300;
3794      +/*	offset=200-factor*log(50);*/
3795      +%end;
3796      +do i=1 to &ilz;
3797      +/*pierwsza wersja*/
3798      +/*t(i)=-(t(i)*b(i)+&alpha/&ilz)*factor+offset/&ilz;*/
3799      +/*if t(i)>=0 then t(i)=int(t(i)+0.4); else t(i)=int(t(i)-0.4);*/
3800      +/*druga wersja*/
3801      +t(i)=round(-(t(i)*b(i)-fb(i)+&alpha/&ilz)*factor+&alp/&ilz);
3802      +end;
3803      +keep _name_ &zmienne;
3804      +run;
3805      +
3806      +data skale;
3807      +set score_woe end=e;
3808      +array t(&ilz) &zmienne;
3809      +do i=1 to &ilz;
3810      +t(i)=dif(t(i));
3811      +end;
3812      +drop i;
3813      +if e;
3814      +score=sum(of WOE_:);
3815      +call symput('range_score',put(score,best12.-L));
3816      +run;
3817      +%put &range_score;
3818      +
3819      +
3820      +
3821      +/*zrobienie scorecard_scorecard druga czêœæ*/
3822      +
3823      +data modele.scorecard_scorecard&nr;
3824      +length nazwy1-nazwy&ilz $ 32;
3825      +array b(&ilz) (&betas);
3826      +array fb(&ilz) (&f_betas);
3827      +array nazwy(&ilz)$ (&zm_wciapkach);
3828      +%if &zmiana_skali=T %then %do;
3829      +	factor=&factor;
3830      +	offset=&offset;
3831      +%end; %else %do;
3832      +	factor=20/log(2);
195                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3833      +	offset=300;
3834      +/*	offset=200-factor*log(50);*/
3835      +%end;
3836      +set scorecard_scorecard&nr;
3837      +n=0;
3838      +do i=1 to &ilz;
3839      +if zmienna=nazwy(i) then n=i;
3840      +end;
3841      +
3842      +/*pierwsza wersja*/
3843      +/*&zm=-(woe*b(n)+&alpha/&ilz)*factor+offset/&ilz;*/
3844      +/*if &zm>=0 then &zm=int(&zm+0.4); else &zm=int(&zm-0.4);*/
3845      +/*pierwsza wersja*/
3846      +
3847      +/*druga wersja*/
3848      +/*retain first_beta;*/
3849      +/*if grp=1 then first_beta=woe*b(n);*/
3850      +/*score_pcmc=*/
3851      +&zm=
3852      +round(-(woe*b(n)-fb(n)+&alpha/&ilz)*factor+&alp/&ilz);
3853      +/*druga wersja*/
3854      +
3855      +
3856      +/*drop factor offset b: i n nazwy:;*/
3857      +keep
3858      +/*score_pcmc*/
3859      +war zmienna
3860      +il_jed_at il_at il_ind_at il_zer_at
3861      +br logit
3862      +Percent Percent_jed Percent_zer Percent_ind
3863      +wi ivi grp
3864      +&zm;
3865      +
3866      +rename zmienna=_variable_ grp=_group_
3867      +war=_label_
3868      +percent=_percent_all_ percent_jed=_percent_bad_
3869      +percent_zer=_percent_good_
3870      +percent_ind=_percent_ind_
3871      +il_jed_at=_number_bad_
3872      +il_at=_number_all_
3873      +il_ind_at=_number_ind_
3874      +il_zer_at=_number_good_
3875      +;
3876      +run;
3877      +
3878      +
3879      +
3880      +/*policzenie skali modelu*/
3881      +proc sort data=modele.Scorecard_scorecard&nr out=ms(keep=
3882      +_variable_ _group_  &zm);
3883      +by _variable_ &zm;
3884      +where _group_ ne -2;
3885      +run;
3886      +
3887      +data modele.skala&nr;
3888      +retain min max (0,0);
3889      +set ms end=e;
3890      +by _variable_;
3891      +if first._variable_ then min=sum(min,&zm);
3892      +if last._variable_ then max=sum(max,&zm);
3893      +skala=max-min;
3894      +if e;
3895      +keep max min skala;
3896      +run;
3897      +
3898      +
3899      +
3900      +data scores_train;
3901      +set &train;
3902      +array t(&ilz) &zmienne;
196                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3903      +array b(&ilz) (&betas);
3904      +array fb(&ilz) (&f_betas);
3905      +%if &zmiana_skali=T %then %do;
3906      +	factor=&factor;
3907      +	offset=&offset;
3908      +%end; %else %do;
3909      +	factor=20/log(2);
3910      +	offset=300;
3911      +/*	offset=200-factor*log(50);*/
3912      +%end;
3913      +&zm=0;
3914      +do i=1 to &ilz;
3915      +/*pierwsza wersja*/
3916      +/*t(i)=-(t(i)*b(i)+&alpha/&ilz)*factor+offset/&ilz;*/
3917      +/*if t(i)>=0 then t(i)=int(t(i)+0.4); else t(i)=int(t(i)-0.4);*/
3918      +/*druga wersja*/
3919      +t(i)=round(-(t(i)*b(i)-fb(i)+&alpha/&ilz)*factor+&alp/&ilz);
3920      +&zm=sum(&zm,t(i));
3921      +end;
3922      +keep &zmienne &zm &tar &id;
3923      +run;
3924      +
3925      +/*ten zbior potrzebny do bootstrapu*/
3926      +data modele.score&nr;
3927      +set scores_train;
3928      +keep &id &tar &zm;
3929      +run;
3930      +
3931      +data scores_valid;
3932      +set &valid;
3933      +array t(&ilz) &zmienne;
3934      +array b(&ilz) (&betas);
3935      +array fb(&ilz) (&f_betas);
3936      +%if &zmiana_skali=T %then %do;
3937      +	factor=&factor;
3938      +	offset=&offset;
3939      +%end; %else %do;
3940      +	factor=20/log(2);
3941      +	offset=300;
3942      +/*	offset=200-factor*log(50);*/
3943      +%end;
3944      +&zm=0;
3945      +do i=1 to &ilz;
3946      +/*pierwsza wersja*/
3947      +/*t(i)=-(t(i)*b(i)+&alpha/&ilz)*factor+offset/&ilz;*/
3948      +/*if t(i)>=0 then t(i)=int(t(i)+0.4); else t(i)=int(t(i)-0.4);*/
3949      +/*druga wersja*/
3950      +t(i)=round(-(t(i)*b(i)-fb(i)+&alpha/&ilz)*factor+&alp/&ilz);
3951      +&zm=sum(&zm,t(i));
3952      +end;
3953      +keep &zmienne &zm &tar &id;
3954      +run;
3955      +
3956      +data modele.score_valid&nr;
3957      +set scores_valid;
3958      +keep &id &tar &zm;
3959      +run;
3960      +
3961      +
3962      +/*wstawka na liczenie lift i gains */
3963      +/*jest to lift skumulowany i gains te¿*/
3964      +%macro licz_lifty;
3965      +proc univariate data=scores_train noprint;
3966      +var &zm &tar;
3967      +output out=lifty sum=bs bad
3968      +pctlpts=&centyle pctlpre=P_;
3969      +run;
3970      +data _null_;
3971      +set lifty;
3972      +array t(*) p:;
197                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

3973      +d=dim(t);
3974      +call symput('n_lift',put(d,best12.-L));
3975      +call symput('n_bad',put(bad,best12.-L));
3976      +do i=1 to d;
3977      +call symput('sc'||put(i,best12.-L),put(t(i),best12.-L));
3978      +call symput('na'||put(i,best12.-L),substr(vname(t(i)),3));
3979      +end;
3980      +run;
3981      +/*%put &n_lift***&n_bad***&sc1***&na1;*/
3982      +
3983      +%do i=1 %to &n_lift;
3984      +proc sql noprint;
3985      +select sum(&tar) into :bad&i
3986      +from scores_train where &zm<=&&sc&i;
3987      +quit;
3988      +/*%put &&bad&i***&&na&i;*/
3989      +%end;
3990      +
3991      +data lifty_wynik;
3992      +%do i=1 %to &n_lift;
3993      +Lift&&na&i=&&bad&i/(&n_bad*&&na&i/100);
3994      +Gains&&na&i=&&bad&i/&n_bad;
3995      +%end;
3996      +format Gains: percent12.2;
3997      +format Lift: 12.2;
3998      +run;
3999      +%mend licz_lifty;
4000      +
4001      +%licz_lifty;
4002      +
4003      +
4004      +
4005      +
4006      +/*liczenie ks_score */
4007      +data t;
4008      +set scores_train(keep=&zm);
4009      +okres="t";
4010      +run;
4011      +data v;
4012      +set scores_valid(keep=&zm);
4013      +okres="v";
4014      +run;
4015      +data r;
4016      +set t v;
4017      +run;
4018      +proc npar1way data=r edf wilcoxon noprint;
4019      +class okres;
4020      +var &zm;
4021      +output out=ks wilcoxon edf;
4022      +run;
4023      +data _null_;
4024      +set ks;
4025      +call symput('ks_score',put(_d_,best12.-L));
4026      +run;
4027      +%put &ks_score;
4028      +
4029      +/*liczenie*/
4030      +/*h_score h_br_score sd_score prop_sd_range*/
4031      +/*max_dist_score max_dist_br_score */
4032      +
4033      +proc means data=scores_train(keep=&zm &tar) noprint;
4034      +ways 0 1;
4035      +class &zm;
4036      +var &tar;
4037      +output out=st(drop=_type_ _freq_) sum()=st n()=nt;
4038      +run;
4039      +
4040      +data st;
4041      +retain sss ssn;
4042      +set st;
198                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4043      +if _n_=1 then do;
4044      +sss=st; ssn=nt;
4045      +end;
4046      +else do;
4047      +st=st/sss;
4048      +nt=nt/ssn;
4049      +output;
4050      +end;
4051      +keep &zm st nt;
4052      +run;
4053      +
4054      +proc means data=scores_valid(keep=&zm &tar) noprint;
4055      +ways 0 1;
4056      +class &zm;
4057      +var &tar;
4058      +output out=sv(drop=_type_ _freq_) sum()=sv n()=nv;
4059      +run;
4060      +
4061      +data sv;
4062      +retain sss ssn;
4063      +set sv;
4064      +if _n_=1 then do;
4065      +sss=sv; ssn=nv;
4066      +end;
4067      +else do;
4068      +sv=sv/sss;
4069      +nv=nv/ssn;
4070      +output;
4071      +end;
4072      +keep &zm sv nv;
4073      +run;
4074      +
4075      +data r;
4076      +merge st sv;
4077      +by &zm;
4078      +run;
4079      +
4080      +data w_score;
4081      +set r end=e;
4082      +retain &name_h_score &name_h_br_score &name_sd_score
4083      +&name_max_dist_score &name_max_dist_br_score 0;
4084      +array t(4) sv nv st nt;
4085      +do i=1 to 4;
4086      +if missing(t(i)) then t(i)=0;
4087      +end;
4088      +&name_max_dist_score=max(&name_max_dist_score,abs(nt-nv));
4089      +&name_max_dist_br_score=max(&name_max_dist_score,abs(st-sv));
4090      +&name_sd_score=sum(&name_sd_score,&zm*(nt-nv));
4091      +do i=1 to 4;
4092      +if t(i)=0 then t(i)=&prawiezero;
4093      +end;
4094      +&name_h_score=sum(&name_h_score,nt*log(nt/nv));
4095      +&name_h_br_score=sum(&name_h_br_score,st*log(st/sv));
4096      +keep &name_h_score &name_h_br_score &name_sd_score
4097      +&name_max_dist_score &name_max_dist_br_score &name_prop_sd_range;
4098      +format &name_prop_sd_range percent12.4;
4099      +if e;
4100      +&name_prop_sd_range=abs(&name_sd_score)/&range_score;
4101      +run;
4102      +
4103      +
4104      +/*liczenie*/
4105      +/*max_abs_sd_zm prop_max_sd_range_zm */
4106      +
4107      +proc means data=scores_train(keep=&zmienne &tar) noprint;
4108      +ways 0 1;
4109      +class &zmienne;
4110      +var &tar;
4111      +output out=st(drop=_freq_) n()=nt;
4112      +run;
199                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4113      +
4114      +proc sort data=st;
4115      +by _type_ &zmienne;
4116      +run;
4117      +
4118      +data st;
4119      +retain ssn;
4120      +set st;
4121      +if _n_=1 then ssn=nt;
4122      +else do;
4123      +nt=nt/ssn;
4124      +output;
4125      +end;
4126      +drop ssn;
4127      +run;
4128      +
4129      +proc means data=scores_valid(keep=&zmienne &tar) noprint;
4130      +ways 0 1;
4131      +class &zmienne;
4132      +var &tar;
4133      +output out=sv(drop=_freq_) n()=nv;
4134      +run;
4135      +
4136      +proc sort data=sv;
4137      +by _type_ &zmienne;
4138      +run;
4139      +
4140      +data sv;
4141      +retain ssn;
4142      +set sv;
4143      +if _n_=1 then ssn=nv;
4144      +else do;
4145      +nv=nv/ssn;
4146      +output;
4147      +end;
4148      +drop ssn;
4149      +run;
4150      +
4151      +data r;
4152      +merge st sv;
4153      +by _type_ &zmienne;
4154      +rename &renamet;
4155      +run;
4156      +
4157      +data w;
4158      +set r end=e;
4159      +retain &zmienne 0;
4160      +array org (&ilz) &zmienne;
4161      +array orgt (&ilz) &zmiennet;
4162      +array t(2) nv nt;
4163      +do i=1 to 2;
4164      +if missing(t(i)) then t(i)=0;
4165      +end;
4166      +do i=1 to &ilz;
4167      +if not missing(orgt(i)) then org(i)=sum(org(i),orgt(i)*(nt-nv));;
4168      +end;
4169      +keep &zmienne;
4170      +if e;
4171      +run;
4172      +
4173      +proc transpose data=w out=t1(rename=(col1=sd_zm));
4174      +var &zmienne;
4175      +run;
4176      +proc sort data=t1;
4177      +by _name_;
4178      +run;
4179      +
4180      +proc transpose data=skale(keep=&zmienne) out=t2(rename=(col1=range_zm));
4181      +var &zmienne;
4182      +run;
200                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4183      +proc sort data=t2;
4184      +by _name_;
4185      +run;
4186      +
4187      +data r;
4188      +merge t1 t2;
4189      +by _name_;
4190      +run;
4191      +
4192      +data r;
4193      +set r;
4194      +prop_sd_zm=abs(sd_zm)/range_zm;
4195      +run;
4196      +
4197      +proc sql noprint;
4198      +select max(abs(sd_zm)),max(prop_sd_zm) into :max_abs_sd_zm, :prop_max_sd_range_zm
4199      +from r;
4200      +quit;
4201      +%put &max_abs_sd_zm &prop_max_sd_range_zm;
4202      +
4203      +/*liczenie vif i corr*/
4204      +ods listing close;
4205      +ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
4206      +proc reg data=&valid(keep=&tar &zmienne);
4207      +model &tar=&zmienne / vif collin;
4208      +run;
4209      +quit;
4210      +ods output close;
4211      +ods listing;
4212      +
4213      +proc sql noprint;
4214      +select max(VarianceInflation) into :vif from p;
4215      +select max(ConditionIndex) into :conindex from coll;
4216      +quit;
4217      +
4218      +proc corr data=&valid(keep=&zmienne) outp=corr(where=(_TYPE_='CORR'))
4219      +noprint;
4220      +var &zmienne;
4221      +run;
4222      +
4223      +data _null_;
4224      +set corr end=e;
4225      +array t(*) _numeric_;
4226      +retain m 0;
4227      +do i=_n_+1 to dim(t);
4228      +m=max(m,abs(t(i)));
4229      +/*put i= t(i)=;*/
4230      +end;
4231      +if e then call symput('max_corr',put(m,best12.-L));
4232      +run;
4233      +/*%put &max_corr;*/
4234      +
4235      +
4236      +
4237      +
4238      +
4239      +/*%if %sysfunc(exist(a)) %then %do;*/
4240      +/*proc delete data=a;*/
4241      +/*run;*/
4242      +/*%end;*/
4243      +
4244      +ods listing close;
4245      +ods output Association(persist=proc)=a;
4246      +proc logistic data=Scores_train(keep=&tar &zm) desc outest=b;
4247      +model &tar=&zm;
4248      +run;
4249      +proc logistic data=Scores_valid(keep=&tar &zm) desc inest=b;
4250      +model &tar=&zm / maxiter=0;
4251      +run;
4252      +ods output close;
201                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4253      +ods listing;
4254      +
4255      +data n;
4256      +set a;
4257      +where label2='c';
4258      +ar=2*nValue2-1;
4259      +if _n_=1 then call symput('ar_t',put(ar,best12.-L));
4260      +if _n_=2 then call symput('ar_v',put(ar,best12.-L));
4261      +run;
4262      +%put &ar_t &ar_v;
4263      +
4264      +
4265      +/*to jeszcze wymaga pracy*/
4266      +
4267      +
4268      +
4269      +data model;
4270      +&def_var_dluga;
4271      +format &name_max_probChiSq PVALUE6.4;
4272      +format &name_prop_max_sd_range_zm &name_prop_sd_range percent12.4;
4273      +format &name_ar_diff &name_ar_score_diff percent12.2;
4274      +
4275      +set model;
4276      +set w_score;
4277      +
4278      +&name_ks_score=&ks_score;
4279      +&name_ar_score_train=&ar_t;
4280      +&name_ar_score_valid=&ar_v;
4281      +&name_ar_score_diff =(&name_ar_score_train-&name_ar_score_valid)
4282      +/&name_ar_score_train;
4283      +
4284      +&name_max_abs_sd_zm=&max_abs_sd_zm;
4285      +&name_prop_max_sd_range_zm=&prop_max_sd_range_zm;
4286      +
4287      +&name_max_corr_valid=&max_corr;
4288      +&name_max_vif_valid=&vif;
4289      +&name_max_coindex_valid=&conindex;
4290      +
4291      +set lifty_wynik;
4292      +
4293      +keep &list_var_dluga;
4294      +run;
4295      +
4296      +proc append base=&lista._valid data=model;
4297      +run;
4298      +
4299      +%end;
4300      +%mend;
4301      +
4302      +
4303      +%validuj_dobre(&em_lib..dobre,&em_import_data,&em_import_validate,max_nr_mod=&ile_modeli);
MPRINT(VALIDUJ_DOBRE):   data _null_;
MPRINT(VALIDUJ_DOBRE):   set wyj.dobre(obs=1) nobs=il;
MPRINT(VALIDUJ_DOBRE):   call symput('il',put(il,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WYJ.DOBRE.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data wyj.dobre_valid;
MPRINT(VALIDUJ_DOBRE):   length Method $200 Model $9000 N_Var AR_Train AR_Valid AR_Diff Min_WaldChiSq Max_ProbChiSq AR_Score_Train AR_Score_Valid AR_Score_Diff KS_Score H_Score H_Br_Score Max_Dist_Score Max_Dist_Br_Score SD_Score Prop_Sd_Range 
Max_Abs_SD_Zm Prop_Max_SD_Range_Zm Max_VIF_Train Max_Vif_Valid Max_Pearson_Train Max_Pearson_Valid Max_Con_Index_Train Max_Con_Index_Valid Lift1 Lift2 Lift3 Lift4 Lift5 Lift10 Lift20 Lift30 Lift40 Lift50 Gains1 Gains2 Gains3 Gains4 Gains5 Gains10 Gains20 
Gains30 Gains40 Gains50 8;
MPRINT(VALIDUJ_DOBRE):   delete;
MPRINT(VALIDUJ_DOBRE):   format Max_ProbChiSq PVALUE6.4;
MPRINT(VALIDUJ_DOBRE):   format Prop_Max_SD_Range_Zm Prop_Sd_Range percent12.4;
MPRINT(VALIDUJ_DOBRE):   format AR_Diff AR_Score_Diff percent12.2;
202                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   format Lift1 Lift2 Lift3 Lift4 Lift5 Lift10 Lift20 Lift30 Lift40 Lift50 12.2;
MPRINT(VALIDUJ_DOBRE):   format Gains1 Gains2 Gains3 Gains4 Gains5 Gains10 Gains20 Gains30 Gains40 Gains50 percent12.2;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: Variable Method is uninitialized.
NOTE: Variable Model is uninitialized.
NOTE: Variable N_Var is uninitialized.
NOTE: Variable AR_Train is uninitialized.
NOTE: Variable AR_Valid is uninitialized.
NOTE: Variable AR_Diff is uninitialized.
NOTE: Variable Min_WaldChiSq is uninitialized.
NOTE: Variable Max_ProbChiSq is uninitialized.
NOTE: Variable AR_Score_Train is uninitialized.
NOTE: Variable AR_Score_Valid is uninitialized.
NOTE: Variable AR_Score_Diff is uninitialized.
NOTE: Variable KS_Score is uninitialized.
NOTE: Variable H_Score is uninitialized.
NOTE: Variable H_Br_Score is uninitialized.
NOTE: Variable Max_Dist_Score is uninitialized.
NOTE: Variable Max_Dist_Br_Score is uninitialized.
NOTE: Variable SD_Score is uninitialized.
NOTE: Variable Prop_Sd_Range is uninitialized.
NOTE: Variable Max_Abs_SD_Zm is uninitialized.
NOTE: Variable Prop_Max_SD_Range_Zm is uninitialized.
NOTE: Variable Max_VIF_Train is uninitialized.
NOTE: Variable Max_Vif_Valid is uninitialized.
NOTE: Variable Max_Pearson_Train is uninitialized.
NOTE: Variable Max_Pearson_Valid is uninitialized.
NOTE: Variable Max_Con_Index_Train is uninitialized.
NOTE: Variable Max_Con_Index_Valid is uninitialized.
NOTE: Variable Lift1 is uninitialized.
NOTE: Variable Lift2 is uninitialized.
NOTE: Variable Lift3 is uninitialized.
NOTE: Variable Lift4 is uninitialized.
NOTE: Variable Lift5 is uninitialized.
NOTE: Variable Lift10 is uninitialized.
NOTE: Variable Lift20 is uninitialized.
NOTE: Variable Lift30 is uninitialized.
NOTE: Variable Lift40 is uninitialized.
NOTE: Variable Lift50 is uninitialized.
NOTE: Variable Gains1 is uninitialized.
NOTE: Variable Gains2 is uninitialized.
NOTE: Variable Gains3 is uninitialized.
NOTE: Variable Gains4 is uninitialized.
NOTE: Variable Gains5 is uninitialized.
NOTE: Variable Gains10 is uninitialized.
NOTE: Variable Gains20 is uninitialized.
NOTE: Variable Gains30 is uninitialized.
NOTE: Variable Gains40 is uninitialized.
NOTE: Variable Gains50 is uninitialized.
NOTE: The data set WYJ.DOBRE_VALID has 0 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ_DOBRE):   data model;
MPRINT(VALIDUJ_DOBRE):   set wyj.dobre(firstobs=1 obs=1);
MPRINT(VALIDUJ_DOBRE):   call symput('zmienne',model);
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WYJ.DOBRE.
NOTE: The data set WORK.MODEL has 1 observations and 12 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN
MPRINT(VALIDUJ_DOBRE):   ods listing close;
203                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   ods output ParameterEstimates=modele.Scorecard_Effects1;
MPRINT(VALIDUJ_DOBRE):   proc logistic data=abt.train_woe(keep=default12new WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN ) desc outest=b;
MPRINT(VALIDUJ_DOBRE):   model default12new= WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN ;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set MODELE.SCORECARD_EFFECTS1 has 8 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.B has 1 observations and 13 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           52.22 seconds
      cpu time            52.10 seconds
      

MPRINT(VALIDUJ_DOBRE):   ods output close;
MPRINT(VALIDUJ_DOBRE):   ods listing;
MPRINT(VALIDUJ_DOBRE):   proc transpose data=b out=tb(drop=_label_ where=(substr(_name_,1,1) ne '_'));
MPRINT(VALIDUJ_DOBRE):   var _numeric_;
MPRINT(VALIDUJ_DOBRE):   where _type_='PARMS';
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WORK.B.
      WHERE _type_='PARMS';
NOTE: The data set WORK.TB has 8 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.09 seconds
      cpu time            0.07 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sql noprint;
MPRINT(VALIDUJ_DOBRE):   select default12new,upcase(_name_),quote(substr(upcase(_name_),5)), upcase(_name_)||'=T_'||trim(substr(upcase(_name_),5)), upcase(_name_)||'=V_'||trim(substr(upcase(_name_),5)), 'T_'||trim(substr(upcase(_name_),5)), 
'V_'||trim(substr(upcase(_name_),5)) into :betas separated by ',', :zmienne separated by ' ', :zm_wciapkach separated by ',', :renamet separated by ' ', :renamev separated by ' ', :zmiennet separated by ' ', :zmiennev separated by ' ' from tb where _name_ 
ne "Intercept" order by upcase(_name_);
NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT clause.
MPRINT(VALIDUJ_DOBRE):   select default12new into :alpha from tb where _name_ eq "Intercept";
MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.24 seconds
      cpu time            0.04 seconds
      

7
WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN
T_ACT_CC T_ACT_CINS_MIN_SENIORITY T_ACT_CINS_N_STATC T_APP_CHAR_JOB_CODE T_APP_CHAR_MARITAL_STATUS T_APP_LOAN_AMOUNT T_APP_NUMBER_OF_CHILDREN
V_ACT_CC V_ACT_CINS_MIN_SENIORITY V_ACT_CINS_N_STATC V_APP_CHAR_JOB_CODE V_APP_CHAR_MARITAL_STATUS V_APP_LOAN_AMOUNT V_APP_NUMBER_OF_CHILDREN
WOE_ACT_CC                 =T_ACT_CC WOE_ACT_CINS_MIN_SENIORITY =T_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC       =T_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE      =T_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS=T_APP_CHAR_MARITAL_STATUS 
WOE_APP_LOAN_AMOUNT        =T_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN =T_APP_NUMBER_OF_CHILDREN
WOE_ACT_CC                 =V_ACT_CC WOE_ACT_CINS_MIN_SENIORITY =V_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC       =V_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE      =V_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS=V_APP_CHAR_MARITAL_STATUS 
WOE_APP_LOAN_AMOUNT        =V_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN =V_APP_NUMBER_OF_CHILDREN
"ACT_CC                 ","ACT_CINS_MIN_SENIORITY ","ACT_CINS_N_STATC       ","APP_CHAR_JOB_CODE      ","APP_CHAR_MARITAL_STATUS","APP_LOAN_AMOUNT        ","APP_NUMBER_OF_CHILDREN "
0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292
MPRINT(VALIDUJ_DOBRE):   proc sql;
MPRINT(VALIDUJ_DOBRE):   create table scorecard_scorecard1 as select * from d.karta_duza where upcase(zmienna) in ("ACT_CC                 ","ACT_CINS_MIN_SENIORITY ","ACT_CINS_N_STATC       ","APP_CHAR_JOB_CODE      
","APP_CHAR_MARITAL_STATUS","APP_LOAN_AMOUNT        ","APP_NUMBER_OF_CHILDREN ");
NOTE: Table WORK.SCORECARD_SCORECARD1 created, with 24 rows and 19 columns.

MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.10 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data f_beta;
MPRINT(VALIDUJ_DOBRE):   length nazwy1-nazwy7 $ 32;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array nazwy(7)$ ("ACT_CC                 ","ACT_CINS_MIN_SENIORITY ","ACT_CINS_N_STATC       ","APP_CHAR_JOB_CODE      ","APP_CHAR_MARITAL_STATUS","APP_LOAN_AMOUNT        ","APP_NUMBER_OF_CHILDREN ");
MPRINT(VALIDUJ_DOBRE):   set scorecard_scorecard1 end=e;
MPRINT(VALIDUJ_DOBRE):   n=0;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
204                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   if zmienna=nazwy(i) then n=i;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   retain first_beta 0;
MPRINT(VALIDUJ_DOBRE):   if grp=1 then do;
MPRINT(VALIDUJ_DOBRE):   first_beta=first_beta+woe*b(n)*20/log(2);
MPRINT(VALIDUJ_DOBRE):   f_beta=woe*b(n);
MPRINT(VALIDUJ_DOBRE):   output;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   if e;
MPRINT(VALIDUJ_DOBRE):   first_beta=-first_beta+300;
MPRINT(VALIDUJ_DOBRE):   call symput('alp',put(first_beta,best12.-L));
MPRINT(VALIDUJ_DOBRE):   keep zmienna f_beta;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set WORK.SCORECARD_SCORECARD1.
NOTE: The data set WORK.F_BETA has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sql noprint;
MPRINT(VALIDUJ_DOBRE):   select f_beta into :f_betas separated by ',' from f_beta order by upcase(zmienna);
NOTE: The query as specified involves ordering by an item that doesn't appear in its SELECT clause.
MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

-0.41287,-2.10755,-0.97487,0.12156,-1.1783,-0.33881,-1.80015
MPRINT(VALIDUJ_DOBRE):   proc means data=abt.train_woe noprint nway;
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   output out=s max()=;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.S has 1 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           4.52 seconds
      cpu time            5.99 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc transpose data=s out=s_max(rename=(col1=max));
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WORK.S.
NOTE: The data set WORK.S_MAX has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc means data=abt.train_woe noprint nway;
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   output out=s min()=;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.S has 1 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           4.57 seconds
      cpu time            6.05 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc transpose data=s out=s_min(rename=(col1=min));
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

205                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: There were 1 observations read from the data set WORK.S.
NOTE: The data set WORK.S_MIN has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=s_max;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.S_MAX.
NOTE: The data set WORK.S_MAX has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=s_min;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.S_MIN.
NOTE: The data set WORK.S_MIN has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data stat_woe;
MPRINT(VALIDUJ_DOBRE):   merge s_max s_min;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   _name_=upcase(_name_);
MPRINT(VALIDUJ_DOBRE):   run;
NOTE: There were 7 observations read from the data set WORK.S_MAX.
NOTE: There were 7 observations read from the data set WORK.S_MIN.
NOTE: The data set WORK.STAT_WOE has 7 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc transpose data=stat_woe out=twoe;
MPRINT(VALIDUJ_DOBRE):   var min max;
MPRINT(VALIDUJ_DOBRE):   id _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.STAT_WOE.
NOTE: The data set WORK.TWOE has 2 observations and 8 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   data _null_;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array t(7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array m(2);
MPRINT(VALIDUJ_DOBRE):   m(1)=0;
MPRINT(VALIDUJ_DOBRE):  m(2)=0;
MPRINT(VALIDUJ_DOBRE):   do obs=1 to 2;
MPRINT(VALIDUJ_DOBRE):   set twoe;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   m(obs)=m(obs)-(t(i)*b(i)+11.31782/7);
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   max_p=1000;
MPRINT(VALIDUJ_DOBRE):   min_p=0;
MPRINT(VALIDUJ_DOBRE):   factor=(max_p-min_p)/abs(m(2)-m(1));
MPRINT(VALIDUJ_DOBRE):   offset=min_p-min(m(1),m(2))*factor;
206                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   call symput('factor',put(factor,best12.-L));
MPRINT(VALIDUJ_DOBRE):   call symput('offset',put(offset,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 2 observations read from the data set WORK.TWOE.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

86.472881864 400.09416748
MPRINT(VALIDUJ_DOBRE):   data score_woe;
MPRINT(VALIDUJ_DOBRE):   set twoe;
MPRINT(VALIDUJ_DOBRE):   array t(7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array fb(7) (-0.41287,-2.10755,-0.97487,0.12156,-1.1783,-0.33881,-1.80015);
MPRINT(VALIDUJ_DOBRE):   factor=20/log(2);
MPRINT(VALIDUJ_DOBRE):   offset=300;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   t(i)=round(-(t(i)*b(i)-fb(i)+11.31782/7)*factor+493.06154773/7);
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep _name_ WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 2 observations read from the data set WORK.TWOE.
NOTE: The data set WORK.SCORE_WOE has 2 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   data skale;
MPRINT(VALIDUJ_DOBRE):   set score_woe end=e;
MPRINT(VALIDUJ_DOBRE):   array t(7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   t(i)=dif(t(i));
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   drop i;
MPRINT(VALIDUJ_DOBRE):   if e;
MPRINT(VALIDUJ_DOBRE):   score=sum(of WOE_:);
MPRINT(VALIDUJ_DOBRE):   call symput('range_score',put(score,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 2 observations read from the data set WORK.SCORE_WOE.
NOTE: The data set WORK.SKALE has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

-332
MPRINT(VALIDUJ_DOBRE):   data modele.scorecard_scorecard1;
MPRINT(VALIDUJ_DOBRE):   length nazwy1-nazwy7 $ 32;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array fb(7) (-0.41287,-2.10755,-0.97487,0.12156,-1.1783,-0.33881,-1.80015);
MPRINT(VALIDUJ_DOBRE):   array nazwy(7)$ ("ACT_CC                 ","ACT_CINS_MIN_SENIORITY ","ACT_CINS_N_STATC       ","APP_CHAR_JOB_CODE      ","APP_CHAR_MARITAL_STATUS","APP_LOAN_AMOUNT        ","APP_NUMBER_OF_CHILDREN ");
MPRINT(VALIDUJ_DOBRE):   factor=20/log(2);
MPRINT(VALIDUJ_DOBRE):   offset=300;
MPRINT(VALIDUJ_DOBRE):   set scorecard_scorecard1;
MPRINT(VALIDUJ_DOBRE):   n=0;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   if zmienna=nazwy(i) then n=i;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   SCORECARD_POINTS= round(-(woe*b(n)-fb(n)+11.31782/7)*factor+493.06154773/7);
MPRINT(VALIDUJ_DOBRE):   keep war zmienna il_jed_at il_at il_ind_at il_zer_at br logit Percent Percent_jed Percent_zer Percent_ind wi ivi grp SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   rename zmienna=_variable_ grp=_group_ war=_label_ percent=_percent_all_ percent_jed=_percent_bad_ percent_zer=_percent_good_ percent_ind=_percent_ind_ il_jed_at=_number_bad_ il_at=_number_all_ il_ind_at=_number_ind_ 
il_zer_at=_number_good_ ;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set WORK.SCORECARD_SCORECARD1.
207                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set MODELE.SCORECARD_SCORECARD1 has 24 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=modele.Scorecard_scorecard1 out=ms(keep= _variable_ _group_ SCORECARD_POINTS);
MPRINT(VALIDUJ_DOBRE):   by _variable_ SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   where _group_ ne -2;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
NOTE: The data set WORK.MS has 24 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data modele.skala1;
MPRINT(VALIDUJ_DOBRE):   retain min max (0,0);
MPRINT(VALIDUJ_DOBRE):   set ms end=e;
MPRINT(VALIDUJ_DOBRE):   by _variable_;
MPRINT(VALIDUJ_DOBRE):   if first._variable_ then min=sum(min,SCORECARD_POINTS);
MPRINT(VALIDUJ_DOBRE):   if last._variable_ then max=sum(max,SCORECARD_POINTS);
MPRINT(VALIDUJ_DOBRE):   skala=max-min;
MPRINT(VALIDUJ_DOBRE):   if e;
MPRINT(VALIDUJ_DOBRE):   keep max min skala;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set WORK.MS.
NOTE: The data set MODELE.SKALA1 has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ_DOBRE):   data scores_train;
MPRINT(VALIDUJ_DOBRE):   set abt.train_woe;
MPRINT(VALIDUJ_DOBRE):   array t(7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array fb(7) (-0.41287,-2.10755,-0.97487,0.12156,-1.1783,-0.33881,-1.80015);
MPRINT(VALIDUJ_DOBRE):   factor=20/log(2);
MPRINT(VALIDUJ_DOBRE):   offset=300;
MPRINT(VALIDUJ_DOBRE):   SCORECARD_POINTS=0;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   t(i)=round(-(t(i)*b(i)-fb(i)+11.31782/7)*factor+493.06154773/7);
MPRINT(VALIDUJ_DOBRE):   SCORECARD_POINTS=sum(SCORECARD_POINTS,t(i));
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN SCORECARD_POINTS default12new ;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.SCORES_TRAIN has 1308784 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           9.23 seconds
      cpu time            9.09 seconds
      

MPRINT(VALIDUJ_DOBRE):   data modele.score1;
MPRINT(VALIDUJ_DOBRE):   set scores_train;
MPRINT(VALIDUJ_DOBRE):   keep default12new SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set MODELE.SCORE1 has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           1.21 seconds
      cpu time            1.15 seconds
      
208                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(VALIDUJ_DOBRE):   data scores_valid;
MPRINT(VALIDUJ_DOBRE):   set abt.valid_woe;
MPRINT(VALIDUJ_DOBRE):   array t(7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array b(7) (0.795792,1.397039,1.127263,1.239683,0.998453,1.031513,1.282292);
MPRINT(VALIDUJ_DOBRE):   array fb(7) (-0.41287,-2.10755,-0.97487,0.12156,-1.1783,-0.33881,-1.80015);
MPRINT(VALIDUJ_DOBRE):   factor=20/log(2);
MPRINT(VALIDUJ_DOBRE):   offset=300;
MPRINT(VALIDUJ_DOBRE):   SCORECARD_POINTS=0;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   t(i)=round(-(t(i)*b(i)-fb(i)+11.31782/7)*factor+493.06154773/7);
MPRINT(VALIDUJ_DOBRE):   SCORECARD_POINTS=sum(SCORECARD_POINTS,t(i));
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN SCORECARD_POINTS default12new ;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.SCORES_VALID has 872745 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           6.13 seconds
      cpu time            6.09 seconds
      

MPRINT(VALIDUJ_DOBRE):   data modele.score_valid1;
MPRINT(VALIDUJ_DOBRE):   set scores_valid;
MPRINT(VALIDUJ_DOBRE):   keep default12new SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set MODELE.SCORE_VALID1 has 872745 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.79 seconds
      cpu time            0.78 seconds
      

MPRINT(LICZ_LIFTY):   proc univariate data=scores_train noprint;
MPRINT(LICZ_LIFTY):   var SCORECARD_POINTS default12new;
MPRINT(LICZ_LIFTY):   output out=lifty sum=bs bad pctlpts=1 2 3 4 5 10 20 30 40 50 pctlpre=P_;
MPRINT(LICZ_LIFTY):   run;

NOTE: The data set WORK.LIFTY has 1 observations and 12 variables.
NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           2.46 seconds
      cpu time            2.43 seconds
      

MPRINT(LICZ_LIFTY):   data _null_;
MPRINT(LICZ_LIFTY):   set lifty;
MPRINT(LICZ_LIFTY):   array t(*) p:;
MPRINT(LICZ_LIFTY):   d=dim(t);
MPRINT(LICZ_LIFTY):   call symput('n_lift',put(d,best12.-L));
MPRINT(LICZ_LIFTY):   call symput('n_bad',put(bad,best12.-L));
MPRINT(LICZ_LIFTY):   do i=1 to d;
MPRINT(LICZ_LIFTY):   call symput('sc'||put(i,best12.-L),put(t(i),best12.-L));
MPRINT(LICZ_LIFTY):   call symput('na'||put(i,best12.-L),substr(vname(t(i)),3));
MPRINT(LICZ_LIFTY):   end;
MPRINT(LICZ_LIFTY):   run;

NOTE: There were 1 observations read from the data set WORK.LIFTY.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad1 from scores_train where SCORECARD_POINTS<=262 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.56 seconds
      cpu time            0.56 seconds
209                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad2 from scores_train where SCORECARD_POINTS<=274 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.56 seconds
      cpu time            0.56 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad3 from scores_train where SCORECARD_POINTS<=281 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.57 seconds
      cpu time            0.57 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad4 from scores_train where SCORECARD_POINTS<=288 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.62 seconds
      cpu time            0.62 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad5 from scores_train where SCORECARD_POINTS<=296 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.57 seconds
      cpu time            0.57 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad6 from scores_train where SCORECARD_POINTS<=313 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.65 seconds
      cpu time            0.65 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad7 from scores_train where SCORECARD_POINTS<=335 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.76 seconds
      cpu time            0.76 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad8 from scores_train where SCORECARD_POINTS<=345 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.84 seconds
      cpu time            0.84 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad9 from scores_train where SCORECARD_POINTS<=355 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.96 seconds
      cpu time            0.93 seconds
      

MPRINT(LICZ_LIFTY):   proc sql noprint;
MPRINT(LICZ_LIFTY):   select sum(default12new) into :bad10 from scores_train where SCORECARD_POINTS<=359 ;
MPRINT(LICZ_LIFTY):   quit;
NOTE: PROCEDURE SQL used (Total process time):
210                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           0.99 seconds
      cpu time            0.99 seconds
      

MPRINT(LICZ_LIFTY):   data lifty_wynik;
MPRINT(LICZ_LIFTY):   Lift1= 11826/(210574 *1/100);
MPRINT(LICZ_LIFTY):   Gains1= 11826/210574 ;
MPRINT(LICZ_LIFTY):   Lift2= 22357/(210574 *2/100);
MPRINT(LICZ_LIFTY):   Gains2= 22357/210574 ;
MPRINT(LICZ_LIFTY):   Lift3= 31340/(210574 *3/100);
MPRINT(LICZ_LIFTY):   Gains3= 31340/210574 ;
MPRINT(LICZ_LIFTY):   Lift4= 41783/(210574 *4/100);
MPRINT(LICZ_LIFTY):   Gains4= 41783/210574 ;
MPRINT(LICZ_LIFTY):   Lift5= 47334/(210574 *5/100);
MPRINT(LICZ_LIFTY):   Gains5= 47334/210574 ;
MPRINT(LICZ_LIFTY):   Lift10= 80649/(210574 *10/100);
MPRINT(LICZ_LIFTY):   Gains10= 80649/210574 ;
MPRINT(LICZ_LIFTY):   Lift20= 123544/(210574 *20/100);
MPRINT(LICZ_LIFTY):   Gains20= 123544/210574 ;
MPRINT(LICZ_LIFTY):   Lift30= 141137/(210574 *30/100);
MPRINT(LICZ_LIFTY):   Gains30= 141137/210574 ;
MPRINT(LICZ_LIFTY):   Lift40= 166160/(210574 *40/100);
MPRINT(LICZ_LIFTY):   Gains40= 166160/210574 ;
MPRINT(LICZ_LIFTY):   Lift50= 173385/(210574 *50/100);
MPRINT(LICZ_LIFTY):   Gains50= 173385/210574 ;
MPRINT(LICZ_LIFTY):   format Gains: percent12.2;
MPRINT(LICZ_LIFTY):   format Lift: 12.2;
MPRINT(LICZ_LIFTY):   run;

NOTE: The data set WORK.LIFTY_WYNIK has 1 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):  ;
MPRINT(VALIDUJ_DOBRE):   data t;
MPRINT(VALIDUJ_DOBRE):   set scores_train(keep=SCORECARD_POINTS);
MPRINT(VALIDUJ_DOBRE):   okres="t";
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.T has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           1.18 seconds
      cpu time            1.16 seconds
      

MPRINT(VALIDUJ_DOBRE):   data v;
MPRINT(VALIDUJ_DOBRE):   set scores_valid(keep=SCORECARD_POINTS);
MPRINT(VALIDUJ_DOBRE):   okres="v";
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.V has 872745 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.79 seconds
      cpu time            0.79 seconds
      

MPRINT(VALIDUJ_DOBRE):   data r;
MPRINT(VALIDUJ_DOBRE):   set t v;
MPRINT(VALIDUJ_DOBRE):   run;
NOTE: There were 1308784 observations read from the data set WORK.T.
NOTE: There were 872745 observations read from the data set WORK.V.
NOTE: The data set WORK.R has 2181529 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           1.37 seconds
      cpu time            1.32 seconds
      
211                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(VALIDUJ_DOBRE):   proc npar1way data=r edf wilcoxon noprint;
MPRINT(VALIDUJ_DOBRE):   class okres;
MPRINT(VALIDUJ_DOBRE):   var SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   output out=ks wilcoxon edf;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 2181529 observations read from the data set WORK.R.
NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.68 seconds
      cpu time            4.44 seconds
      

MPRINT(VALIDUJ_DOBRE):   data _null_;
MPRINT(VALIDUJ_DOBRE):   set ks;
MPRINT(VALIDUJ_DOBRE):   call symput('ks_score',put(_d_,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;
NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.0009508632
MPRINT(VALIDUJ_DOBRE):   proc means data=scores_train(keep=SCORECARD_POINTS default12new) noprint;
MPRINT(VALIDUJ_DOBRE):   ways 0 1;
MPRINT(VALIDUJ_DOBRE):   class SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   var default12new;
MPRINT(VALIDUJ_DOBRE):   output out=st(drop=_type_ _freq_) sum()=st n()=nt;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.ST has 245 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.34 seconds
      cpu time            2.48 seconds
      

MPRINT(VALIDUJ_DOBRE):   data st;
MPRINT(VALIDUJ_DOBRE):   retain sss ssn;
MPRINT(VALIDUJ_DOBRE):   set st;
MPRINT(VALIDUJ_DOBRE):   if _n_=1 then do;
MPRINT(VALIDUJ_DOBRE):   sss=st;
MPRINT(VALIDUJ_DOBRE):   ssn=nt;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   else do;
MPRINT(VALIDUJ_DOBRE):   st=st/sss;
MPRINT(VALIDUJ_DOBRE):   nt=nt/ssn;
MPRINT(VALIDUJ_DOBRE):   output;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep SCORECARD_POINTS st nt;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 245 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 244 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc means data=scores_valid(keep=SCORECARD_POINTS default12new) noprint;
MPRINT(VALIDUJ_DOBRE):   ways 0 1;
MPRINT(VALIDUJ_DOBRE):   class SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   var default12new;
MPRINT(VALIDUJ_DOBRE):   output out=sv(drop=_type_ _freq_) sum()=sv n()=nv;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.SV has 245 observations and 3 variables.
212                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.87 seconds
      cpu time            1.63 seconds
      

MPRINT(VALIDUJ_DOBRE):   data sv;
MPRINT(VALIDUJ_DOBRE):   retain sss ssn;
MPRINT(VALIDUJ_DOBRE):   set sv;
MPRINT(VALIDUJ_DOBRE):   if _n_=1 then do;
MPRINT(VALIDUJ_DOBRE):   sss=sv;
MPRINT(VALIDUJ_DOBRE):   ssn=nv;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   else do;
MPRINT(VALIDUJ_DOBRE):   sv=sv/sss;
MPRINT(VALIDUJ_DOBRE):   nv=nv/ssn;
MPRINT(VALIDUJ_DOBRE):   output;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep SCORECARD_POINTS sv nv;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 245 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 244 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data r;
MPRINT(VALIDUJ_DOBRE):   merge st sv;
MPRINT(VALIDUJ_DOBRE):   by SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 244 observations read from the data set WORK.ST.
NOTE: There were 244 observations read from the data set WORK.SV.
NOTE: The data set WORK.R has 244 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(VALIDUJ_DOBRE):   data w_score;
MPRINT(VALIDUJ_DOBRE):   set r end=e;
MPRINT(VALIDUJ_DOBRE):   retain H_Score H_Br_Score SD_Score Max_Dist_Score Max_Dist_Br_Score 0;
MPRINT(VALIDUJ_DOBRE):   array t(4) sv nv st nt;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 4;
MPRINT(VALIDUJ_DOBRE):   if missing(t(i)) then t(i)=0;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   Max_Dist_Score=max(Max_Dist_Score,abs(nt-nv));
MPRINT(VALIDUJ_DOBRE):   Max_Dist_Br_Score=max(Max_Dist_Score,abs(st-sv));
MPRINT(VALIDUJ_DOBRE):   SD_Score=sum(SD_Score,SCORECARD_POINTS*(nt-nv));
MPRINT(VALIDUJ_DOBRE):   do i=1 to 4;
MPRINT(VALIDUJ_DOBRE):   if t(i)=0 then t(i)=0.000000001;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   H_Score=sum(H_Score,nt*log(nt/nv));
MPRINT(VALIDUJ_DOBRE):   H_Br_Score=sum(H_Br_Score,st*log(st/sv));
MPRINT(VALIDUJ_DOBRE):   keep H_Score H_Br_Score SD_Score Max_Dist_Score Max_Dist_Br_Score Prop_Sd_Range;
MPRINT(VALIDUJ_DOBRE):   format Prop_Sd_Range percent12.4;
MPRINT(VALIDUJ_DOBRE):   if e;
MPRINT(VALIDUJ_DOBRE):   Prop_Sd_Range=abs(SD_Score)/-332 ;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 244 observations read from the data set WORK.R.
NOTE: The data set WORK.W_SCORE has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc means data=scores_train(keep=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN default12new) noprint;
MPRINT(VALIDUJ_DOBRE):   ways 0 1;
213                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   class WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   var default12new;
MPRINT(VALIDUJ_DOBRE):   output out=st(drop=_freq_) n()=nt;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.ST has 25 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           7.16 seconds
      cpu time            13.55 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=st;
MPRINT(VALIDUJ_DOBRE):   by _type_ WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 25 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 25 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   data st;
MPRINT(VALIDUJ_DOBRE):   retain ssn;
MPRINT(VALIDUJ_DOBRE):   set st;
MPRINT(VALIDUJ_DOBRE):   if _n_=1 then ssn=nt;
MPRINT(VALIDUJ_DOBRE):   else do;
MPRINT(VALIDUJ_DOBRE):   nt=nt/ssn;
MPRINT(VALIDUJ_DOBRE):   output;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   drop ssn;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 25 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc means data=scores_valid(keep=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN default12new) noprint;
MPRINT(VALIDUJ_DOBRE):   ways 0 1;
MPRINT(VALIDUJ_DOBRE):   class WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   var default12new;
MPRINT(VALIDUJ_DOBRE):   output out=sv(drop=_freq_) n()=nv;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.SV has 25 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           4.91 seconds
      cpu time            9.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=sv;
MPRINT(VALIDUJ_DOBRE):   by _type_ WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 25 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 25 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   data sv;
MPRINT(VALIDUJ_DOBRE):   retain ssn;
MPRINT(VALIDUJ_DOBRE):   set sv;
MPRINT(VALIDUJ_DOBRE):   if _n_=1 then ssn=nv;
214                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ_DOBRE):   else do;
MPRINT(VALIDUJ_DOBRE):   nv=nv/ssn;
MPRINT(VALIDUJ_DOBRE):   output;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   drop ssn;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 25 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data r;
MPRINT(VALIDUJ_DOBRE):   merge st sv;
MPRINT(VALIDUJ_DOBRE):   by _type_ WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   rename WOE_ACT_CC =T_ACT_CC WOE_ACT_CINS_MIN_SENIORITY =T_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC =T_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE =T_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS=T_APP_CHAR_MARITAL_STATUS 
WOE_APP_LOAN_AMOUNT =T_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN =T_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set WORK.ST.
NOTE: There were 24 observations read from the data set WORK.SV.
NOTE: The data set WORK.R has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data w;
MPRINT(VALIDUJ_DOBRE):   set r end=e;
MPRINT(VALIDUJ_DOBRE):   retain WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN 0;
MPRINT(VALIDUJ_DOBRE):   array org (7) WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array orgt (7) T_ACT_CC T_ACT_CINS_MIN_SENIORITY T_ACT_CINS_N_STATC T_APP_CHAR_JOB_CODE T_APP_CHAR_MARITAL_STATUS T_APP_LOAN_AMOUNT T_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   array t(2) nv nt;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 2;
MPRINT(VALIDUJ_DOBRE):   if missing(t(i)) then t(i)=0;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   do i=1 to 7;
MPRINT(VALIDUJ_DOBRE):   if not missing(orgt(i)) then org(i)=sum(org(i),orgt(i)*(nt-nv));
MPRINT(VALIDUJ_DOBRE):  ;
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   keep WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   if e;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 24 observations read from the data set WORK.R.
NOTE: The data set WORK.W has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc transpose data=w out=t1(rename=(col1=sd_zm));
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WORK.W.
NOTE: The data set WORK.T1 has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.06 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=t1;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.T1.
NOTE: The data set WORK.T1 has 7 observations and 2 variables.
215                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc transpose data=skale(keep=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN) out=t2(rename=(col1=range_zm));
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WORK.SKALE.
NOTE: The data set WORK.T2 has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sort data=t2;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.T2.
NOTE: The data set WORK.T2 has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data r;
MPRINT(VALIDUJ_DOBRE):   merge t1 t2;
MPRINT(VALIDUJ_DOBRE):   by _name_;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.T1.
NOTE: There were 7 observations read from the data set WORK.T2.
NOTE: The data set WORK.R has 7 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   data r;
MPRINT(VALIDUJ_DOBRE):   set r;
MPRINT(VALIDUJ_DOBRE):   prop_sd_zm=abs(sd_zm)/range_zm;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.R.
NOTE: The data set WORK.R has 7 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc sql noprint;
MPRINT(VALIDUJ_DOBRE):   select max(abs(sd_zm)),max(prop_sd_zm) into :max_abs_sd_zm, :prop_max_sd_range_zm from r;
MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

0.020458 -0.00011
MPRINT(VALIDUJ_DOBRE):   ods listing close;
MPRINT(VALIDUJ_DOBRE):   ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
MPRINT(VALIDUJ_DOBRE):   proc reg data=abt.valid_woe(keep=default12new WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN);
MPRINT(VALIDUJ_DOBRE):   model default12new=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN / vif collin;
MPRINT(VALIDUJ_DOBRE):   run;

MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE REG used (Total process time):
      real time           4.74 seconds
216                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            4.72 seconds
      

MPRINT(VALIDUJ_DOBRE):   ods output close;
NOTE: The data set WORK.COLL has 8 observations and 15 variables.
NOTE: The data set WORK.P has 8 observations and 11 variables.
MPRINT(VALIDUJ_DOBRE):   ods listing;
MPRINT(VALIDUJ_DOBRE):   proc sql noprint;
MPRINT(VALIDUJ_DOBRE):   select max(VarianceInflation) into :vif from p;
MPRINT(VALIDUJ_DOBRE):   select max(ConditionIndex) into :conindex from coll;
MPRINT(VALIDUJ_DOBRE):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc corr data=abt.valid_woe(keep=WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN) outp=corr(where=(_TYPE_='CORR')) 
noprint;
MPRINT(VALIDUJ_DOBRE):   var WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: The data set WORK.CORR has 7 observations and 9 variables.
NOTE: PROCEDURE CORR used (Total process time):
      real time           3.72 seconds
      cpu time            3.71 seconds
      

MPRINT(VALIDUJ_DOBRE):   data _null_;
MPRINT(VALIDUJ_DOBRE):   set corr end=e;
MPRINT(VALIDUJ_DOBRE):   array t(*) _numeric_;
MPRINT(VALIDUJ_DOBRE):   retain m 0;
MPRINT(VALIDUJ_DOBRE):   do i=_n_+1 to dim(t);
MPRINT(VALIDUJ_DOBRE):   m=max(m,abs(t(i)));
MPRINT(VALIDUJ_DOBRE):   end;
MPRINT(VALIDUJ_DOBRE):   if e then call symput('max_corr',put(m,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 7 observations read from the data set WORK.CORR.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ_DOBRE):   ods listing close;
MPRINT(VALIDUJ_DOBRE):   ods output Association(persist=proc)=a;
MPRINT(VALIDUJ_DOBRE):   proc logistic data=Scores_train(keep=default12new SCORECARD_POINTS) desc outest=b;
MPRINT(VALIDUJ_DOBRE):   model default12new=SCORECARD_POINTS;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           18.56 seconds
      cpu time            18.51 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc logistic data=Scores_valid(keep=default12new SCORECARD_POINTS) desc inest=b;
MPRINT(VALIDUJ_DOBRE):   model default12new=SCORECARD_POINTS / maxiter=0;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.62 seconds
      cpu time            9.59 seconds
      
217                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(VALIDUJ_DOBRE):   ods output close;
NOTE: The data set WORK.A has 8 observations and 8 variables.
MPRINT(VALIDUJ_DOBRE):   ods listing;
MPRINT(VALIDUJ_DOBRE):   data n;
MPRINT(VALIDUJ_DOBRE):   set a;
MPRINT(VALIDUJ_DOBRE):   where label2='c';
MPRINT(VALIDUJ_DOBRE):   ar=2*nValue2-1;
MPRINT(VALIDUJ_DOBRE):   if _n_=1 then call symput('ar_t',put(ar,best12.-L));
MPRINT(VALIDUJ_DOBRE):   if _n_=2 then call symput('ar_v',put(ar,best12.-L));
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

0.5944634258 0.5931991742
MPRINT(VALIDUJ_DOBRE):   data model;
MPRINT(VALIDUJ_DOBRE):   length Method $200 Model $9000 N_Var AR_Train AR_Valid AR_Diff Min_WaldChiSq Max_ProbChiSq AR_Score_Train AR_Score_Valid AR_Score_Diff KS_Score H_Score H_Br_Score Max_Dist_Score Max_Dist_Br_Score SD_Score Prop_Sd_Range 
Max_Abs_SD_Zm Prop_Max_SD_Range_Zm Max_VIF_Train Max_Vif_Valid Max_Pearson_Train Max_Pearson_Valid Max_Con_Index_Train Max_Con_Index_Valid Lift1 Lift2 Lift3 Lift4 Lift5 Lift10 Lift20 Lift30 Lift40 Lift50 Gains1 Gains2 Gains3 Gains4 Gains5 Gains10 Gains20 
Gains30 Gains40 Gains50 8;
MPRINT(VALIDUJ_DOBRE):   format Max_ProbChiSq PVALUE6.4;
MPRINT(VALIDUJ_DOBRE):   format Prop_Max_SD_Range_Zm Prop_Sd_Range percent12.4;
MPRINT(VALIDUJ_DOBRE):   format AR_Diff AR_Score_Diff percent12.2;
MPRINT(VALIDUJ_DOBRE):   set model;
MPRINT(VALIDUJ_DOBRE):   set w_score;
MPRINT(VALIDUJ_DOBRE):   KS_Score=0.0009508632;
MPRINT(VALIDUJ_DOBRE):   AR_Score_Train=0.5944634258;
MPRINT(VALIDUJ_DOBRE):   AR_Score_Valid=0.5931991742;
MPRINT(VALIDUJ_DOBRE):   AR_Score_Diff =(AR_Score_Train-AR_Score_Valid) /AR_Score_Train;
MPRINT(VALIDUJ_DOBRE):   Max_Abs_SD_Zm=0.020458;
MPRINT(VALIDUJ_DOBRE):   Prop_Max_SD_Range_Zm=-0.00011;
MPRINT(VALIDUJ_DOBRE):   Max_Pearson_Valid=0.2310744749;
MPRINT(VALIDUJ_DOBRE):   Max_Vif_Valid=1.087114;
MPRINT(VALIDUJ_DOBRE):   Max_Con_Index_Valid=37.36008;
MPRINT(VALIDUJ_DOBRE):   set lifty_wynik;
MPRINT(VALIDUJ_DOBRE):   keep Method Model N_Var AR_Train AR_Valid AR_Diff Min_WaldChiSq Max_ProbChiSq AR_Score_Train AR_Score_Valid AR_Score_Diff KS_Score H_Score H_Br_Score Max_Dist_Score Max_Dist_Br_Score SD_Score Prop_Sd_Range Max_Abs_SD_Zm 
Prop_Max_SD_Range_Zm Max_VIF_Train Max_Pearson_Train Max_Con_Index_Train Max_Vif_Valid Max_Pearson_Valid Max_Con_Index_Valid Lift1 Lift2 Lift3 Lift4 Lift5 Lift10 Lift20 Lift30 Lift40 Lift50 Gains1 Gains2 Gains3 Gains4 Gains5 Gains10 Gains20 Gains30 
Gains40 Gains50;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: There were 1 observations read from the data set WORK.W_SCORE.
NOTE: There were 1 observations read from the data set WORK.LIFTY_WYNIK.
NOTE: The data set WORK.MODEL has 1 observations and 46 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ_DOBRE):   proc append base=wyj.dobre_valid data=model;
MPRINT(VALIDUJ_DOBRE):   run;

NOTE: Appending WORK.MODEL to WYJ.DOBRE_VALID.
NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: 1 observations added.
NOTE: The data set WYJ.DOBRE_VALID has 1 observations and 46 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

4304      +
4305      +
4306      +
4307      +
218                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4308      +
4309      +
4310      +
4311      +
NOTE: %INCLUDE (level 1) ending.
4312       %let zm=SCORECARD_POINTS;
4313       
4314       %let il_seed=2;
4315       /*%let il_seed=10000;*/
4316       /*%let il_seed=20000;*/
4317       %include "&kat_kody.Bootstrap_validation.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\Bootstrap_validation.sas is file 
      c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\Bootstrap_validation.sas.
4318      +/*  (c) Karol Przanowski   */
4319      +/*    kprzan@sgh.waw.pl    */
4320      +
4321      +
4322      +
4323      +/*%let il_seed=100;*/
4324      +/*%let il_seed=10000;*/
4325      +/*%let il_seed=20000;*/
4326      +
4327      +
4328      +libname kal (modele);
NOTE: Libref KAL was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\modele
4329      +
4330      +
4331      +
4332      +data score;
4333      +set kal.score&nr_mod;
4334      +format &tar best12.;
4335      +keep &tar &zm;
4336      +run;

NOTE: There were 1308784 observations read from the data set KAL.SCORE1.
NOTE: The data set WORK.SCORE has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.84 seconds
      cpu time            0.84 seconds
      

4337      +proc sort data=score;
4338      +by &tar;
4339      +where &tar in (0,1);
4340      +run;

NOTE: There were 1308784 observations read from the data set WORK.SCORE.
      WHERE default12new in (0, 1);
NOTE: The data set WORK.SCORE has 1308784 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           2.07 seconds
      cpu time            3.79 seconds
      

4341      +
4342      +%macro validuj;
4343      +
4344      +proc sql noprint;
4345      +select sum((&tar=1)),sum((&tar=0)) into :jedynki,:zera
4346      +from score;
4347      +quit;
4348      +%put &jedynki***&zera;
4349      +
4350      +data kal.bootstrap&nr_mod;
4351      +length seed
4352      +/*ps */
4353      +ar ks 8;
219                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4354      +delete;
4355      +run;
4356      +
4357      +/*%let seed=1;*/
4358      +
4359      +%do seed=1 %to &il_seed;
4360      +
4361      +
4362      +proc surveyselect data=score out=s(keep=&zm &tar) noprint
4363      +method=urs n=(&zera &jedynki) outhits seed=&seed;
4364      +strata &tar;
4365      +run;
4366      +
4367      +/*%powerc(s,&zm,&tar);*/
4368      +/*data _null_;*/
4369      +/*set power;*/
4370      +/*call symput("ps",put(powerpercent,best12.-L));*/
4371      +/*run;*/
4372      +
4373      +
4374      +
4375      +proc npar1way data=s edf wilcoxon noprint;
4376      +class &tar;
4377      +var &zm;
4378      +output out=ks(keep=_D_) wilcoxon edf;
4379      +run;
4380      +
4381      +data a;
4382      +label2='c';
4383      +nValue2=.;
4384      +run;
4385      +
4386      +
4387      +ods listing close;
4388      +ods output Association(persist=proc)=a;
4389      +proc logistic data=s desc;
4390      +model &tar=&zm;
4391      +run;
4392      +ods output close;
4393      +ods listing;
4394      +
4395      +data wynik;
4396      +set a(where=(label2='c'));
4397      +set ks;
4398      +/*set power(keep=powerpercent rename=(powerpercent=ps));*/
4399      +ar=2*nValue2-1;
4400      +seed=&seed;
4401      +ks=_d_;
4402      +keep seed
4403      +/*ps */
4404      +ar ks;
4405      +run;
4406      +
4407      +proc append base=kal.bootstrap&nr_mod data=wynik;
4408      +run;
4409      +%end;
4410      +
4411      +
4412      +proc means data=kal.bootstrap&nr_mod noprint nway;
4413      +var
4414      +/*ps */
4415      +ks ar;
4416      +output out=kal.cross_stat&nr_mod(drop=_freq_ _type_) mean= p50= min= max=
4417      +cv= range= qrange= uclm= lclm= / autoname;
4418      +run;
4419      +
4420      +%mend;
4421      +%validuj;
MPRINT(VALIDUJ):   proc sql noprint;
MPRINT(VALIDUJ):   select sum((default12new=1)),sum((default12new=0)) into :jedynki,:zera from score;
220                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.30 seconds
      cpu time            1.31 seconds
      

210574*** 1098210
MPRINT(VALIDUJ):   data kal.bootstrap1;
MPRINT(VALIDUJ):   length seed ar ks 8;
MPRINT(VALIDUJ):   delete;
MPRINT(VALIDUJ):   run;

NOTE: Variable seed is uninitialized.
NOTE: Variable ar is uninitialized.
NOTE: Variable ks is uninitialized.
NOTE: The data set KAL.BOOTSTRAP1 has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ):   proc surveyselect data=score out=s(keep=SCORECARD_POINTS default12new) noprint method=urs n=( 1098210 210574) outhits seed=1;
MPRINT(VALIDUJ):   strata default12new;
MPRINT(VALIDUJ):   run;

NOTE: The data set WORK.S has 1308784 observations and 2 variables.
NOTE: PROCEDURE SURVEYSELECT used (Total process time):
      real time           3.44 seconds
      cpu time            3.41 seconds
      

MPRINT(VALIDUJ):   proc npar1way data=s edf wilcoxon noprint;
MPRINT(VALIDUJ):   class default12new;
MPRINT(VALIDUJ):   var SCORECARD_POINTS;
MPRINT(VALIDUJ):   output out=ks(keep=_D_) wilcoxon edf;
MPRINT(VALIDUJ):   run;

NOTE: There were 1308784 observations read from the data set WORK.S.
NOTE: The data set WORK.KS has 1 observations and 1 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.04 seconds
      cpu time            4.00 seconds
      

MPRINT(VALIDUJ):   data a;
MPRINT(VALIDUJ):   label2='c';
MPRINT(VALIDUJ):   nValue2=.;
MPRINT(VALIDUJ):   run;

NOTE: The data set WORK.A has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ):   ods listing close;
MPRINT(VALIDUJ):   ods output Association(persist=proc)=a;
MPRINT(VALIDUJ):   proc logistic data=s desc;
MPRINT(VALIDUJ):   model default12new=SCORECARD_POINTS;
MPRINT(VALIDUJ):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new='1'.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.S.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.34 seconds
      cpu time            17.31 seconds
      

MPRINT(VALIDUJ):   ods output close;
221                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.A has 4 observations and 8 variables.
MPRINT(VALIDUJ):   ods listing;
MPRINT(VALIDUJ):   data wynik;
MPRINT(VALIDUJ):   set a(where=(label2='c'));
MPRINT(VALIDUJ):   set ks;
MPRINT(VALIDUJ):   ar=2*nValue2-1;
MPRINT(VALIDUJ):   seed=1;
MPRINT(VALIDUJ):   ks=_d_;
MPRINT(VALIDUJ):   keep seed ar ks;
MPRINT(VALIDUJ):   run;

NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: The data set WORK.WYNIK has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ):   proc append base=kal.bootstrap1 data=wynik;
MPRINT(VALIDUJ):   run;

NOTE: Appending WORK.WYNIK to KAL.BOOTSTRAP1.
NOTE: There were 1 observations read from the data set WORK.WYNIK.
NOTE: 1 observations added.
NOTE: The data set KAL.BOOTSTRAP1 has 1 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(VALIDUJ):   proc surveyselect data=score out=s(keep=SCORECARD_POINTS default12new) noprint method=urs n=( 1098210 210574) outhits seed=2;
MPRINT(VALIDUJ):   strata default12new;
MPRINT(VALIDUJ):   run;

NOTE: The data set WORK.S has 1308784 observations and 2 variables.
NOTE: PROCEDURE SURVEYSELECT used (Total process time):
      real time           3.71 seconds
      cpu time            3.69 seconds
      

MPRINT(VALIDUJ):   proc npar1way data=s edf wilcoxon noprint;
MPRINT(VALIDUJ):   class default12new;
MPRINT(VALIDUJ):   var SCORECARD_POINTS;
MPRINT(VALIDUJ):   output out=ks(keep=_D_) wilcoxon edf;
MPRINT(VALIDUJ):   run;

NOTE: There were 1308784 observations read from the data set WORK.S.
NOTE: The data set WORK.KS has 1 observations and 1 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.25 seconds
      cpu time            4.22 seconds
      

MPRINT(VALIDUJ):   data a;
MPRINT(VALIDUJ):   label2='c';
MPRINT(VALIDUJ):   nValue2=.;
MPRINT(VALIDUJ):   run;

NOTE: The data set WORK.A has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ):   ods listing close;
MPRINT(VALIDUJ):   ods output Association(persist=proc)=a;
MPRINT(VALIDUJ):   proc logistic data=s desc;
MPRINT(VALIDUJ):   model default12new=SCORECARD_POINTS;
222                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(VALIDUJ):   run;

NOTE: PROC LOGISTIC is modeling the probability that default12new='1'.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.S.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           17.65 seconds
      cpu time            17.53 seconds
      

MPRINT(VALIDUJ):   ods output close;
NOTE: The data set WORK.A has 4 observations and 8 variables.
MPRINT(VALIDUJ):   ods listing;
MPRINT(VALIDUJ):   data wynik;
MPRINT(VALIDUJ):   set a(where=(label2='c'));
MPRINT(VALIDUJ):   set ks;
MPRINT(VALIDUJ):   ar=2*nValue2-1;
MPRINT(VALIDUJ):   seed=2;
MPRINT(VALIDUJ):   ks=_d_;
MPRINT(VALIDUJ):   keep seed ar ks;
MPRINT(VALIDUJ):   run;

NOTE: There were 1 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: The data set WORK.WYNIK has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ):   proc append base=kal.bootstrap1 data=wynik;
MPRINT(VALIDUJ):   run;

NOTE: Appending WORK.WYNIK to KAL.BOOTSTRAP1.
NOTE: There were 1 observations read from the data set WORK.WYNIK.
NOTE: 1 observations added.
NOTE: The data set KAL.BOOTSTRAP1 has 2 observations and 3 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(VALIDUJ):   proc means data=kal.bootstrap1 noprint nway;
MPRINT(VALIDUJ):   var ks ar;
MPRINT(VALIDUJ):   output out=kal.cross_stat1(drop=_freq_ _type_) mean= p50= min= max= cv= range= qrange= uclm= lclm= / autoname;
MPRINT(VALIDUJ):   run;

NOTE: There were 2 observations read from the data set KAL.BOOTSTRAP1.
NOTE: The data set KAL.CROSS_STAT1 has 1 observations and 18 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

4422      +
NOTE: %INCLUDE (level 1) ending.
4423       %include "&kat_kody.CI_gini.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\CI_gini.sas is file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\CI_gini.sas.
4424      +/*  (c) Karol Przanowski   */
4425      +/*    kprzan@sgh.waw.pl    */
4426      +
4427      +
4428      +
4429      +libname kal (modele);
NOTE: Libref KAL was successfully assigned as follows: 
      Levels:           1
      Engine(1):        V9 
      Physical Name(1): c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\modele
4430      +
223                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4431      +
4432      +ods listing close;
4433      +ods output Association=roc;
4434      +proc logistic data=kal.score&nr_mod desc ;
4435      +model &tar=&zm;
4436      +run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: The data set WORK.ROC has 4 observations and 6 variables.
NOTE: There were 1308784 observations read from the data set KAL.SCORE1.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           18.01 seconds
      cpu time            17.84 seconds
      

4437      +ods output close;
4438      +ods listing;
4439      +
4440      +data _null_;
4441      +set roc;
4442      +where label2='c';
4443      +call symput('c',put(nvalue2,best12.));
4444      +run;

NOTE: There were 1 observations read from the data set WORK.ROC.
      WHERE label2='c';
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

4445      +%put &c;
0.7972317129
4446      +data d;
4447      +set kal.score&nr_mod end=e;
4448      +n=_n_;
4449      +if e then call symput('n_cust',put(n,best12.));
4450      +run;

NOTE: There were 1308784 observations read from the data set KAL.SCORE1.
NOTE: The data set WORK.D has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.12 seconds
      cpu time            1.10 seconds
      

4451      +%put &n_cust;
1308784
4452      +proc means data=d nway noprint;
4453      +var n;
4454      +class &zm;
4455      +class &tar;
4456      +output out=freq(drop=_type_ _freq_) n()=n;
4457      +run;

NOTE: There were 1308784 observations read from the data set WORK.D.
NOTE: The data set WORK.FREQ has 444 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.27 seconds
      cpu time            2.40 seconds
      

4458      +proc sort data=freq;
4459      +by &zm &tar;
4460      +run;

NOTE: There were 444 observations read from the data set WORK.FREQ.
NOTE: The data set WORK.FREQ has 444 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
224                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           0.04 seconds
      cpu time            0.01 seconds
      

4461      +proc transpose data=freq prefix=def out=tfreq;
4462      +var n;
4463      +by &zm;
4464      +id &tar;
4465      +run;

NOTE: There were 444 observations read from the data set WORK.FREQ.
NOTE: The data set WORK.TFREQ has 244 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

4466      +
4467      +
4468      +
4469      +proc sql noprint;
4470      +select count(distinct &zm) into :n_score from freq;
4471      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

4472      +%put &n_score;
244
4473      +
4474      +
4475      +data czesci;
4476      +length std_c var_c l95_c c u95_c l99_c u99_c std_ar var_ar l95_ar ar u95_ar l99_ar u99_ar 8;
4477      +array d(&n_score);
4478      +array nond(&n_score);
4479      +do i=1 to &n_score;
4480      +set tfreq;
4481      +d(i)=coalesce(def1,0);
4482      +nond(i)=coalesce(def0,0);
4483      +end;
4484      +
4485      +SumNonDefaults = 0;
4486      +SumDefaults = 0;
4487      +
4488      +do i = 1 To &n_score;
4489      +    SumNonDefaults = SumNonDefaults + NonD(i);
4490      +    SumDefaults = SumDefaults + D(i);
4491      +end;
4492      +
4493      +Equal = 0;
4494      +Part1 = 0;
4495      +Part2 = 0;
4496      +Part3 = 0;
4497      +Part4 = 0;
4498      +
4499      +do i = 1 To &n_score;
4500      +    Equal = Equal + NonD(i) * D(i);
4501      +    do j = 1 To &n_score;
4502      +        do k = 1 To &n_score;
4503      +            If (k > i And k > j) Or (k < i And k < j) Then do;
4504      +                Part1 = Part1 + (D(i) * D(j) * NonD(k));
4505      +                Part3 = Part3 + (NonD(i) * NonD(j) * D(k));
4506      +            end;
4507      +            If (i < k And k < j) Or (j < k And k < i) Then do;
4508      +                Part2 = Part2 + (D(i) * D(j) * NonD(k));
4509      +                Part4 = Part4 + (NonD(i) * NonD(j) * D(k));
4510      +            end;
4511      +        end;
4512      +    end;
225                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4513      +end;
4514      +
4515      +c = &c;
4516      +Prob_D_NotEqual_NonD = 1 - Equal / (SumNonDefaults * SumDefaults);
4517      +Prob_D_D_ND = (Part1 - Part2) / (SumDefaults * SumDefaults * SumNonDefaults);
4518      +Prob_ND_ND_D = (Part3 - Part4) / (SumNonDefaults * SumNonDefaults * SumDefaults);
4519      +Nd = SumDefaults;
4520      +Nnd = SumNonDefaults;
4521      +
4522      +std_c = (1 / (4 * (Nd - 1) * (Nnd - 1)) * (Prob_D_NotEqual_NonD + (Nd - 1) * Prob_D_D_ND
4523      +                + (Nnd - 1) * Prob_ND_ND_D - 4 * (Nnd + Nd - 1) * (c - 0.5) ** 2)) ** 0.5;
4524      +var_c=std_c**2;
4525      +
4526      +l95_c=c-probit((1+0.95)/2)*Std_C;
4527      +u95_c=c+probit((1+0.95)/2)*Std_C;
4528      +l99_c=c-probit((1+0.99)/2)*Std_C;
4529      +u99_c=c+probit((1+0.99)/2)*Std_C;
4530      +
4531      +ar=2*c-1;
4532      +std_ar=2*Std_C;
4533      +var_ar=std_ar**2;
4534      +
4535      +l95_ar=ar-probit((1+0.95)/2)*Std_ar;
4536      +u95_ar=ar+probit((1+0.95)/2)*Std_ar;
4537      +l99_ar=ar-probit((1+0.99)/2)*Std_ar;
4538      +u99_ar=ar+probit((1+0.99)/2)*Std_ar;
4539      +
4540      +
4541      +output;
4542      +keep Std_C var_c c l95_c u95_c l99_c u99_c Std_ar var_ar ar l95_ar u95_ar l99_ar u99_ar;
4543      +run;

NOTE: There were 244 observations read from the data set WORK.TFREQ.
NOTE: The data set WORK.CZESCI has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           5.50 seconds
      cpu time            5.30 seconds
      

4544      +
4545      +
4546      +data kal.ci_c_ar&nr_mod;
4547      +set czesci;
4548      +label
4549      +std_c='Standard deviation of C'
4550      +var_c='Variance of C'
4551      +c='Value of C'
4552      +l95_c='Lower 95% confidence intarval'
4553      +u95_c='Upper 95% confidence intarval'
4554      +l99_c='Lower 99% confidence intarval'
4555      +u99_c='Upper 99% confidence intarval'
4556      +;
4557      +label
4558      +std_ar='Standard deviation of AR'
4559      +var_ar='Variance of AR'
4560      +ar='Value of AR'
4561      +l95_ar='Lower 95% confidence intarval'
4562      +u95_ar='Upper 95% confidence intarval'
4563      +l99_ar='Lower 99% confidence intarval'
4564      +u99_ar='Upper 99% confidence intarval'
4565      +;
4566      +run;

NOTE: There were 1 observations read from the data set WORK.CZESCI.
NOTE: The data set KAL.CI_C_AR1 has 1 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

226                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: %INCLUDE (level 1) ending.
4567       
4568       %include "&kat_kody.final_report.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\final_report.sas is file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\final_report.sas.
4569      +/*  (c) Karol Przanowski   */
4570      +/*    kprzan@sgh.waw.pl    */
4571      +
4572      +
4573      +
4574      +options ls=256;
4575      +
4576      +
4577      +
4578      +%let train=sc_train;
4579      +%let valid=sc_valid;
4580      +
4581      +
4582      +
4583      +
4584      +
4585      +
4586      +
4587      +
4588      +
4589      +%let prawiezero=0.000000001;
4590      +%let il_podzialow=30;
4591      +/**/
4592      +%let name_method=Method;
4593      +%let name_model=Model;
4594      +%let name_N_Var=N_Var;
4595      +%let name_ar_train=AR_Train;
4596      +%let name_ar_valid=AR_Valid;
4597      +%let name_vif=Max_VIF_Train;
4598      +%let name_corr=Max_Pearson_Train;
4599      +%let name_ConIndex=Max_Con_Index_Train;
4600      +%let name_ar_diff=AR_Diff;
4601      +%let name_max_probChiSq=Max_ProbChiSq;
4602      +%let name_min_WaldChiSq=Min_WaldChiSq;
4603      +%let def_var=length &name_method $200 &name_model $9000 &name_N_Var &name_ar_train &name_ar_valid &name_ar_diff &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex 8;
4604      +%let list_var=&name_method &name_model &name_N_Var &name_ar_train &name_ar_valid &name_ar_diff &name_min_WaldChiSq &name_max_probChiSq &name_VIF &name_corr &name_conindex;
4605      +
4606      +
4607      +%let name_ks_score                     =KS_Score;
4608      +%let name_h_score                      =H_Score;
4609      +%let name_h_br_score                   =H_Br_Score;
4610      +%let name_sd_score                     =SD_Score;
4611      +%let name_max_dist_score               =Max_Dist_Score;
4612      +%let name_max_dist_br_score            =Max_Dist_Br_Score;
4613      +%let name_prop_sd_range                =Prop_Sd_Range;
4614      +%let name_ar_score_train               =AR_Score_Train;
4615      +%let name_ar_score_valid               =AR_Score_Valid;
4616      +%let name_ar_score_diff                =AR_Score_Diff;
4617      +%let name_max_abs_sd_zm                =Max_Abs_SD_Zm;
4618      +%let name_prop_max_sd_range_zm         =Prop_Max_SD_Range_Zm;
4619      +%let name_max_corr_valid            =Max_Pearson_Valid;
4620      +%let name_max_vif_valid                =Max_Vif_Valid;
4621      +%let name_max_coindex_valid            =Max_Con_Index_Valid;
4622      +
4623      +%let def_var_dluga=
4624      +length &name_method $200 &name_model $9000 &name_N_Var
4625      +&name_ar_train &name_ar_valid &name_ar_diff
4626      +&name_min_WaldChiSq &name_max_probChiSq
4627      +&name_ar_score_train &name_ar_score_valid &name_ar_score_diff
4628      +&name_ks_score &name_h_score &name_h_br_score
4629      +&name_max_dist_score &name_max_dist_br_score
4630      +&name_sd_score &name_prop_sd_range
4631      +&name_max_abs_sd_zm &name_prop_max_sd_range_zm
4632      +&name_VIF &name_max_vif_valid
4633      +&name_corr &name_max_corr_valid
4634      +&name_conindex &name_max_coindex_valid 8;
227                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4635      +
4636      +%let list_var_dluga=
4637      +&name_method &name_model &name_N_Var
4638      +&name_ar_train &name_ar_valid &name_ar_diff
4639      +&name_min_WaldChiSq &name_max_probChiSq
4640      +&name_ar_score_train &name_ar_score_valid &name_ar_score_diff
4641      +&name_ks_score &name_h_score &name_h_br_score
4642      +&name_max_dist_score &name_max_dist_br_score
4643      +&name_sd_score &name_prop_sd_range
4644      +&name_max_abs_sd_zm &name_prop_max_sd_range_zm
4645      +&name_VIF &name_corr &name_conindex
4646      +&name_max_vif_valid &name_max_corr_valid &name_max_coindex_valid;
4647      +
4648      +proc format;
4649      +picture procent (round)
4650      +low- -0.005='00.000.000.009,99 %'
4651      +(decsep=','
4652      +dig3sep='.'
4653      +fill=' '
4654      +prefix='-')
4655      +-0.005-high='00.000.000.009,99 %'
4656      +(decsep=','
4657      +dig3sep='.'
4658      +fill=' ')
4659      +;
NOTE: Format PROCENT is already on the library.
NOTE: Format PROCENT has been output.
4660      +run;

NOTE: PROCEDURE FORMAT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

4661      +
4662      +
4663      +
4664      +%macro przygotuj_histogramy(train,valid,zmienna);
4665      +proc freq data=&train noprint;
4666      +table &zmienna / missing out=ft;
4667      +run;
4668      +proc freq data=&valid noprint;
4669      +table &zmienna / missing out=fv;
4670      +run;
4671      +data ft;
4672      +set ft;
4673      +okres="Train";
4674      +run;
4675      +data fv;
4676      +set fv;
4677      +okres="Valid";
4678      +run;
4679      +
4680      +data freq_wspolne;
4681      +merge
4682      +ft(rename=(percent=percentt count=countt))
4683      +fv(rename=(percent=percentv count=countv));
4684      +by &zmienna;
4685      +count=sum(countt,countv);
4686      +drop okres;
4687      +run;
4688      +
4689      +/*proc sql noprint;*/
4690      +/*select max(&zmienna),min(&zmienna) into :max,:min*/
4691      +/*from freq_wspolne;*/
4692      +/*quit;*/
4693      +proc means data=freq_wspolne nway noprint;
4694      +var &zmienna;
4695      +freq count;
4696      +output out=st p1()=min p99()=max;
228                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4697      +run;
4698      +data _null_;
4699      +set st;
4700      +call symput('min',put(min,best12.-L));
4701      +call symput('max',put(max,best12.-L));
4702      +run;
4703      +/*%put ***&MAX***&MIN***;*/
4704      +
4705      +
4706      +data rangi;
4707      +set freq_wspolne;
4708      +do i=1 to &il_podzialow;
4709      +if &zmienna>=&min+(i-1)*(&max-&min)/&il_podzialow then do;
4710      +  ranga=i;
4711      +  srodek=&min+(i-1+0.5)*(&max-&min)/&il_podzialow;
4712      +  end;
4713      +end;
4714      +where &zmienna between &min and &max;
4715      +run;
4716      +
4717      +/*proc rank data=freq_wspolne out=rangi groups=&il_podzialow;*/
4718      +/*var &zmienna;*/
4719      +/*ranks ranga;*/
4720      +/*run;*/
4721      +
4722      +/*proc means data=rangi noprint nway;*/
4723      +/*class ranga;*/
4724      +/*var &zmienna percent_200406 percent_200412;*/
4725      +/*output out=wyk2 mean(&zmienna)=&zmienna sum(percent&okres1)=&okres1 */
4726      +/*sum(percent&okres2)=&okres2;*/
4727      +/*run; */
4728      +
4729      +proc means data=rangi noprint nway;
4730      +class ranga;
4731      +var srodek percentt percentv;
4732      +output out=wyk2 mean(srodek)=&zmienna sum(percentt)=Train
4733      +sum(percentv)=Valid;
4734      +run;
4735      +
4736      +proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
4737      +var train valid;
4738      +by &zmienna;
4739      +run;
4740      +proc sort data=zb_wyk;
4741      +by period &zmienna;
4742      +run;
4743      +
4744      +data zb_wykm wykm;
4745      +delete;
4746      +run;
4747      +
4748      +proc means data=Freq_wspolne noprint nway;
4749      +var percentt percentv;
4750      +output out=wykm sum(percentt)=Train
4751      +sum(percentv)=Valid;
4752      +where missing(&zmienna);
4753      +run;
4754      +proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
4755      +var train valid;
4756      +run;
4757      +proc sort data=zb_wykm;
4758      +by period;
4759      +run;
4760      +
4761      +data zb_wyk;
4762      +length &zmienna $12;
4763      +set zb_wyk(rename=(&zmienna=old)) zb_wykm(in=z);
4764      +&zmienna=put(old,30.4-L);
4765      +if z then &zmienna='Missing';
4766      +drop old _LABEL_;
229                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4767      +run;
4768      +
4769      +proc gchart data=zb_wyk;
4770      +block &zmienna / group=period type=sum sumvar=percent
4771      +discrete patternid=group;
4772      +label period='Period';
4773      +format percent procent.;
4774      +run;
4775      +quit;
4776      +%mend;
4777      +
4778      +
4779      +
4780      +%macro przygotuj_histogramy_score(train,valid,zmienna);
4781      +proc freq data=&train noprint;
4782      +table &zmienna / missing out=ft;
4783      +run;
4784      +proc freq data=&valid noprint;
4785      +table &zmienna / missing out=fv;
4786      +run;
4787      +data ft;
4788      +set ft;
4789      +okres="Train";
4790      +run;
4791      +data fv;
4792      +set fv;
4793      +okres="Valid";
4794      +run;
4795      +
4796      +data freq_wspolne;
4797      +merge
4798      +ft(rename=(percent=percentt count=countt))
4799      +fv(rename=(percent=percentv count=countv));
4800      +by &zmienna;
4801      +count=sum(countt,countv);
4802      +drop okres;
4803      +run;
4804      +
4805      +/*proc sql noprint;*/
4806      +/*select max(&zmienna),min(&zmienna) into :max,:min*/
4807      +/*from freq_wspolne;*/
4808      +/*quit;*/
4809      +proc means data=freq_wspolne nway noprint;
4810      +var &zmienna;
4811      +freq count;
4812      +output out=st min()=min max()=max;
4813      +run;
4814      +data _null_;
4815      +set st;
4816      +call symput('min',put(min,best12.-L));
4817      +call symput('max',put(max,best12.-L));
4818      +run;
4819      +/*%put ***&MAX***&MIN***;*/
4820      +
4821      +
4822      +data rangi;
4823      +set freq_wspolne;
4824      +do i=1 to &il_podzialow;
4825      +if &zmienna>=&min+(i-1)*(&max-&min)/&il_podzialow then do;
4826      +  ranga=i;
4827      +  srodek=&min+(i-1+0.5)*(&max-&min)/&il_podzialow;
4828      +  end;
4829      +end;
4830      +where &zmienna between &min and &max;
4831      +run;
4832      +
4833      +/*proc rank data=freq_wspolne out=rangi groups=&il_podzialow;*/
4834      +/*var &zmienna;*/
4835      +/*ranks ranga;*/
4836      +/*run;*/
230                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4837      +
4838      +/*proc means data=rangi noprint nway;*/
4839      +/*class ranga;*/
4840      +/*var &zmienna percent_200406 percent_200412;*/
4841      +/*output out=wyk2 mean(&zmienna)=&zmienna sum(percent&okres1)=&okres1 */
4842      +/*sum(percent&okres2)=&okres2;*/
4843      +/*run; */
4844      +
4845      +proc means data=rangi noprint nway;
4846      +class ranga;
4847      +var srodek percentt percentv;
4848      +output out=wyk2 mean(srodek)=&zmienna sum(percentt)=Train
4849      +sum(percentv)=Valid;
4850      +run;
4851      +
4852      +proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
4853      +var train valid;
4854      +by &zmienna;
4855      +run;
4856      +proc sort data=zb_wyk;
4857      +by period &zmienna;
4858      +run;
4859      +
4860      +data zb_wykm wykm;
4861      +delete;
4862      +run;
4863      +
4864      +proc means data=Freq_wspolne noprint nway;
4865      +var percentt percentv;
4866      +output out=wykm sum(percentt)=Train
4867      +sum(percentv)=Valid;
4868      +where missing(&zmienna);
4869      +run;
4870      +proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
4871      +var train valid;
4872      +run;
4873      +proc sort data=zb_wykm;
4874      +by period;
4875      +run;
4876      +
4877      +data zb_wyk;
4878      +length &zmienna $12;
4879      +set zb_wyk(rename=(&zmienna=old)) zb_wykm(in=z);
4880      +&zmienna=put(old,12.-L);
4881      +if z then &zmienna='Missing';
4882      +drop old _LABEL_;
4883      +run;
4884      +
4885      +proc gchart data=zb_wyk;
4886      +block &zmienna / group=period type=sum sumvar=percent
4887      +discrete patternid=group;
4888      +label period='Period';
4889      +format percent procent.;
4890      +run;
4891      +quit;
4892      +%mend;
4893      +
4894      +
4895      +
4896      +%macro przygotuj_histogramy_n(train,valid,zmienna);
4897      +proc freq data=&train noprint;
4898      +table &zmienna / missing out=ft;
4899      +run;
4900      +proc freq data=&valid noprint;
4901      +table &zmienna / missing out=fv;
4902      +run;
4903      +data ft;
4904      +set ft;
4905      +Period="Train";
4906      +run;
231                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4907      +data fv;
4908      +set fv;
4909      +Period="Valid";
4910      +run;
4911      +data zb_wyk;
4912      +set ft fv;
4913      +keep &zmienna Period percent;
4914      +run;
4915      +
4916      +proc gchart data=zb_wyk;
4917      +block &zmienna / group=period type=sum sumvar=percent
4918      +discrete patternid=group;
4919      +label
4920      +period='Period'
4921      +percent='Percent'
4922      +&zmienna="&zmienna";
4923      +format percent procent.;
4924      +run;
4925      +quit;
4926      +%mend;
4927      +
4928      +
4929      +
4930      +%macro przygotuj_histogramy_br(train,valid,zmienna);
4931      +proc means data=&train noprint nway;
4932      +class &zmienna;
4933      +var &tar;
4934      +output out=ft(drop=_freq_ _type_) mean()=br;
4935      +run;
4936      +proc means data=&valid noprint nway;
4937      +class &zmienna;
4938      +var &tar;
4939      +output out=fv(drop=_freq_ _type_) mean()=br;
4940      +run;
4941      +data ft;
4942      +set ft;
4943      +Period="Train";
4944      +run;
4945      +data fv;
4946      +set fv;
4947      +Period="Valid";
4948      +run;
4949      +data zb_wyk;
4950      +set ft fv;
4951      +format br nlpct12.2;
4952      +keep &zmienna Period br;
4953      +run;
4954      +
4955      +proc gchart data=zb_wyk;
4956      +block &zmienna / group=period type=sum sumvar=br
4957      +discrete patternid=group;
4958      +label
4959      +period='Period'
4960      +br='Bad rate'
4961      +&zmienna="&zmienna";
4962      +run;
4963      +quit;
4964      +%mend;
4965      +
4966      +
4967      +
4968      +
4969      +/*na nowo tworzymy listê zmiennych &zmienne*/
4970      +proc sql noprint;
4971      +select distinct upcase('WOE_'||trim(Variable)),
4972      +quote(upcase(Variable)),
4973      +upcase('WOE_'||trim(Variable))||'=T_'||trim(upcase(Variable)),
4974      +upcase('WOE_'||trim(Variable))||'=V_'||trim(upcase(Variable)),
4975      +'T_'||trim(upcase(Variable)),
4976      +'V_'||trim(upcase(Variable)),
232                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

4977      +'GRP_'||trim(upcase(Variable)),
4978      +trim(upcase(Variable))
4979      +into :zmienne separated by ' ',
4980      +:zm_wciapkach separated by ',',
4981      +:renamet separated by ' ',
4982      +:renamev separated by ' ',
4983      +:zmiennet separated by ' ',
4984      +:zmiennev separated by ' ',
4985      +:zmiennegrp separated by ' ',
4986      +:zmienneorg separated by ' '
4987      +from modele.Scorecard_Scorecard&the_best_model(rename=(_variable_=variable))
4988      +where variable ne "Intercept"
4989      +order by 1;
4990      +%let ilz=&sqlobs;
4991      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

4992      +
4993      +%put &ilz;
7
4994      +%put &zmienne;
WOE_ACT_CC WOE_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT WOE_APP_NUMBER_OF_CHILDREN
4995      +%put &zmiennet;
T_ACT_CC T_ACT_CINS_MIN_SENIORITY T_ACT_CINS_N_STATC T_APP_CHAR_JOB_CODE T_APP_CHAR_MARITAL_STATUS T_APP_LOAN_AMOUNT T_APP_NUMBER_OF_CHILDREN
4996      +%put &zmiennev;
V_ACT_CC V_ACT_CINS_MIN_SENIORITY V_ACT_CINS_N_STATC V_APP_CHAR_JOB_CODE V_APP_CHAR_MARITAL_STATUS V_APP_LOAN_AMOUNT V_APP_NUMBER_OF_CHILDREN
4997      +%put &renamet;
WOE_ACT_CC=T_ACT_CC WOE_ACT_CINS_MIN_SENIORITY=T_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC=T_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE=T_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS=T_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT=T_APP_LOAN_AMOUNT 
WOE_APP_NUMBER_OF_CHILDREN=T_APP_NUMBER_OF_CHILDREN
4998      +%put &renamev;
WOE_ACT_CC=V_ACT_CC WOE_ACT_CINS_MIN_SENIORITY=V_ACT_CINS_MIN_SENIORITY WOE_ACT_CINS_N_STATC=V_ACT_CINS_N_STATC WOE_APP_CHAR_JOB_CODE=V_APP_CHAR_JOB_CODE WOE_APP_CHAR_MARITAL_STATUS=V_APP_CHAR_MARITAL_STATUS WOE_APP_LOAN_AMOUNT=V_APP_LOAN_AMOUNT 
WOE_APP_NUMBER_OF_CHILDREN=V_APP_NUMBER_OF_CHILDREN
4999      +%put &zmiennegrp;
GRP_ACT_CC GRP_ACT_CINS_MIN_SENIORITY GRP_ACT_CINS_N_STATC GRP_APP_CHAR_JOB_CODE GRP_APP_CHAR_MARITAL_STATUS GRP_APP_LOAN_AMOUNT GRP_APP_NUMBER_OF_CHILDREN
5000      +%put &zmienneorg;
ACT_CC ACT_CINS_MIN_SENIORITY ACT_CINS_N_STATC APP_CHAR_JOB_CODE APP_CHAR_MARITAL_STATUS APP_LOAN_AMOUNT APP_NUMBER_OF_CHILDREN
5001      +%put &zm_wciapkach;
"ACT_CC                          ","ACT_CINS_MIN_SENIORITY          ","ACT_CINS_N_STATC                ","APP_CHAR_JOB_CODE               ","APP_CHAR_MARITAL_STATUS         ","APP_LOAN_AMOUNT                 ","APP_NUMBER_OF_CHILDREN          "
5002      +
5003      +
5004      +
5005      +/*skorowanie zbiorów*/
5006      +data kar;
5007      +set modele.Scorecard_Scorecard&the_best_model(rename=(_variable_=variable));
5008      +variable=upcase(variable);
5009      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
NOTE: The data set WORK.KAR has 24 observations and 16 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5010      +proc sort data=kar;
5011      +by variable _group_;
5012      +run;

NOTE: There were 24 observations read from the data set WORK.KAR.
NOTE: The data set WORK.KAR has 24 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

5013      +data kar;
5014      +set kar;
233                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5015      +by variable;
5016      +if first.variable then nr+1;
5017      +keep variable nr _group_ &zm;
5018      +run;

NOTE: There were 24 observations read from the data set WORK.KAR.
NOTE: The data set WORK.KAR has 24 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5019      +
5020      +data &train;
5021      +array pt(&ilz,100);
5022      +array zmgrp(&ilz) &zmiennegrp;
5023      +do i=1 to il;
5024      +set kar nobs=il;
5025      +pt(nr,_group_)=&zm;
5026      +end;
5027      +
5028      +do i=1 to ild;
5029      +set  &em_import_data nobs=ild;
5030      +&zm=0;
5031      +do z=1 to &ilz;
5032      +  gr=zmgrp(z);
5033      +  &zm=sum(&zm,pt(z,gr));
5034      +end;
5035      +output;
5036      +end;
5037      +keep &zm &tar &zmiennegrp &zmienne &zmienneorg;
5038      +run;

NOTE: There were 24 observations read from the data set WORK.KAR.
NOTE: There were 1308784 observations read from the data set ABT.TRAIN_WOE.
NOTE: The data set WORK.SC_TRAIN has 1308784 observations and 23 variables.
NOTE: DATA statement used (Total process time):
      real time           23.96 seconds
      cpu time            9.19 seconds
      

5039      +
5040      +data &valid;
5041      +array pt(&ilz,100);
5042      +array zmgrp(&ilz) &zmiennegrp;
5043      +do i=1 to il;
5044      +set kar nobs=il;
5045      +pt(nr,_group_)=&zm;
5046      +end;
5047      +
5048      +do i=1 to ild;
5049      +set  &em_import_validate nobs=ild;
5050      +&zm=0;
5051      +do z=1 to &ilz;
5052      +  gr=zmgrp(z);
5053      +  &zm=sum(&zm,pt(z,gr));
5054      +end;
5055      +output;
5056      +end;
5057      +keep &zm &tar &zmiennegrp &zmienne &zmienneorg;
5058      +run;

NOTE: There were 24 observations read from the data set WORK.KAR.
NOTE: There were 872745 observations read from the data set ABT.VALID_WOE.
NOTE: The data set WORK.SC_VALID has 872745 observations and 23 variables.
NOTE: DATA statement used (Total process time):
      real time           5.61 seconds
      cpu time            5.53 seconds
      

234                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5059      +
5060      +
5061      +
5062      +
5063      +
5064      +/*policzenie skali modelu*/
5065      +proc sort data=modele.Scorecard_scorecard&the_best_model out=ms(keep=
5066      +_variable_ _group_  _event_rate_ SCORECARD_POINTS);
5067      +by _variable_ SCORECARD_POINTS;
5068      +where _group_ ne -2;
5069      +run;

WARNING: The variable _event_rate_ in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
NOTE: The data set WORK.MS has 24 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds
      

5070      +
5071      +data skala;
5072      +retain min max (0,0);
5073      +set ms end=e;
5074      +by _variable_;
5075      +if first._variable_ then min=sum(min,SCORECARD_POINTS);
5076      +if last._variable_ then max=sum(max,SCORECARD_POINTS);
5077      +skala=max-min;
5078      +if e;
5079      +call symput('min',put(min,best12.-L));
5080      +call symput('max',put(max,best12.-L));
5081      +call symput('skala',put(skala,best12.-L));
5082      +keep max min skala;
5083      +run;

NOTE: There were 24 observations read from the data set WORK.MS.
NOTE: The data set WORK.SKALA has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

5084      +
5085      +
5086      +
5087      +
5088      +
5089      +
5090      +data _null_;
5091      +set skala;
5092      +call symput('range_score',put(skala,best12.-L));
5093      +run;

NOTE: There were 1 observations read from the data set WORK.SKALA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5094      +%put &range_score;
332
5095      +
5096      +proc sort data=modele.Scorecard_scorecard&the_best_model out=kar;
5097      +by _group_;
5098      +where _group_ ne -2;
5099      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
235                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.KAR has 24 observations and 16 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

5100      +
5101      +proc transpose data=kar out=t prefix=woe_;
5102      +by _group_;
5103      +id _variable_;
5104      +var &zm;
5105      +run;

NOTE: There were 24 observations read from the data set WORK.KAR.
NOTE: The data set WORK.T has 5 observations and 9 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

5106      +data _null_;
5107      +set t(obs=1) nobs=il;
5108      +call symput('il_grp',put(il,best12.-L));
5109      +run;

NOTE: There were 1 observations read from the data set WORK.T.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5110      +%put &il_grp;
5
5111      +
5112      +data scores_train;
5113      +array t(&ilz) &zmienne;
5114      +array sc(&il_grp,&ilz);
5115      +array grp(&ilz) &zmiennegrp;
5116      +do o=1 to &il_grp;
5117      +	set t;
5118      +	do i=1 to &ilz;
5119      +	sc(o,i)=t(i);
5120      +	end;
5121      +end;
5122      +
5123      +do o=1 to ilobs;
5124      +	set &train nobs=ilobs;
5125      +	do i=1 to &ilz;
5126      +	t(i)=sc(grp(i),i);
5127      +	end;
5128      +	output;
5129      +end;
5130      +keep &zmienne &zm &tar;
5131      +run;

NOTE: There were 5 observations read from the data set WORK.T.
NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.SCORES_TRAIN has 1308784 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           3.60 seconds
      cpu time            3.52 seconds
      

5132      +
5133      +
5134      +data scores_valid;
5135      +array t(&ilz) &zmienne;
5136      +array sc(&il_grp,&ilz);
5137      +array grp(&ilz) &zmiennegrp;
5138      +do o=1 to &il_grp;
236                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5139      +	set t;
5140      +	do i=1 to &ilz;
5141      +	sc(o,i)=t(i);
5142      +	end;
5143      +end;
5144      +
5145      +do o=1 to ilobs;
5146      +	set &valid nobs=ilobs;
5147      +	do i=1 to &ilz;
5148      +	t(i)=sc(grp(i),i);
5149      +	end;
5150      +	output;
5151      +end;
5152      +keep &zmienne &zm &tar;
5153      +run;

NOTE: There were 5 observations read from the data set WORK.T.
NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.SCORES_VALID has 872745 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           2.54 seconds
      cpu time            2.43 seconds
      

5154      +
5155      +
5156      +/*liczenie ks_score */
5157      +data t;
5158      +set scores_train(keep=&zm);
5159      +okres="t";
5160      +run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.T has 1308784 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           1.35 seconds
      cpu time            1.26 seconds
      

5161      +data v;
5162      +set scores_valid(keep=&zm);
5163      +okres="v";
5164      +run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.V has 872745 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.82 seconds
      cpu time            0.82 seconds
      

5165      +data r;
5166      +set t v;
5167      +run;

NOTE: There were 1308784 observations read from the data set WORK.T.
NOTE: There were 872745 observations read from the data set WORK.V.
NOTE: The data set WORK.R has 2181529 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           1.43 seconds
      cpu time            1.43 seconds
      

5168      +proc npar1way data=r edf wilcoxon noprint;
5169      +class okres;
5170      +var &zm;
5171      +output out=ks wilcoxon edf;
5172      +run;

NOTE: There were 2181529 observations read from the data set WORK.R.
237                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.KS has 1 observations and 21 variables.
NOTE: PROCEDURE NPAR1WAY used (Total process time):
      real time           4.44 seconds
      cpu time            4.44 seconds
      

5173      +data _null_;
5174      +set ks;
5175      +call symput('ks_score',put(_d_,best12.-L));
5176      +run;

NOTE: There were 1 observations read from the data set WORK.KS.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

5177      +%put &ks_score;
0.0009508632
5178      +
5179      +/*liczenie*/
5180      +/*h_score h_br_score sd_score prop_sd_range*/
5181      +/*max_dist_score max_dist_br_score */
5182      +
5183      +proc means data=scores_train(keep=&zm &tar) noprint;
5184      +ways 0 1;
5185      +class &zm;
5186      +var &tar;
5187      +output out=st(drop=_type_ _freq_) sum()=st n()=nt;
5188      +run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.ST has 245 observations and 3 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.26 seconds
      cpu time            2.29 seconds
      

5189      +
5190      +data st;
5191      +retain sss ssn;
5192      +set st;
5193      +if _n_=1 then do;
5194      +sss=st; ssn=nt;
5195      +end;
5196      +else do;
5197      +st=st/sss;
5198      +nt=nt/ssn;
5199      +output;
5200      +end;
5201      +keep &zm st nt;
5202      +run;

NOTE: There were 245 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 244 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5203      +
5204      +proc means data=scores_valid(keep=&zm &tar) noprint;
5205      +ways 0 1;
5206      +class &zm;
5207      +var &tar;
5208      +output out=sv(drop=_type_ _freq_) sum()=sv n()=nv;
5209      +run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.SV has 245 observations and 3 variables.
238                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.96 seconds
      cpu time            1.51 seconds
      

5210      +
5211      +data sv;
5212      +retain sss ssn;
5213      +set sv;
5214      +if _n_=1 then do;
5215      +sss=sv; ssn=nv;
5216      +end;
5217      +else do;
5218      +sv=sv/sss;
5219      +nv=nv/ssn;
5220      +output;
5221      +end;
5222      +keep &zm sv nv;
5223      +run;

NOTE: There were 245 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 244 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5224      +
5225      +data r;
5226      +merge st sv;
5227      +by &zm;
5228      +run;

NOTE: There were 244 observations read from the data set WORK.ST.
NOTE: There were 244 observations read from the data set WORK.SV.
NOTE: The data set WORK.R has 244 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

5229      +
5230      +data w_score;
5231      +set r end=e;
5232      +retain &name_h_score &name_h_br_score &name_sd_score
5233      +&name_max_dist_score &name_max_dist_br_score 0;
5234      +array t(4) sv nv st nt;
5235      +do i=1 to 4;
5236      +if missing(t(i)) then t(i)=0;
5237      +end;
5238      +&name_max_dist_score=max(&name_max_dist_score,abs(nt-nv));
5239      +&name_max_dist_br_score=max(&name_max_dist_score,abs(st-sv));
5240      +&name_sd_score=sum(&name_sd_score,&zm*(nt-nv));
5241      +do i=1 to 4;
5242      +if t(i)=0 then t(i)=&prawiezero;
5243      +end;
5244      +&name_h_score=sum(&name_h_score,nt*log(nt/nv));
5245      +&name_h_br_score=sum(&name_h_br_score,st*log(st/sv));
5246      +keep &name_h_score &name_h_br_score &name_sd_score
5247      +&name_max_dist_score &name_max_dist_br_score &name_prop_sd_range;
5248      +format &name_prop_sd_range percent12.4;
5249      +if e;
5250      +&name_prop_sd_range=abs(&name_sd_score)/&range_score;
5251      +run;

NOTE: There were 244 observations read from the data set WORK.R.
NOTE: The data set WORK.W_SCORE has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
239                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

5252      +
5253      +
5254      +/*liczenie*/
5255      +/*max_abs_sd_zm prop_max_sd_range_zm */
5256      +
5257      +proc means data=scores_train(keep=&zmienne &tar) noprint;
5258      +ways 0 1;
5259      +class &zmienne;
5260      +var &tar;
5261      +output out=st(drop=_freq_) n()=nt;
5262      +run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.ST has 25 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           7.28 seconds
      cpu time            13.51 seconds
      

5263      +
5264      +proc sort data=st;
5265      +by _type_ &zmienne;
5266      +run;

NOTE: There were 25 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 25 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5267      +
5268      +data st;
5269      +retain ssn;
5270      +set st;
5271      +if _n_=1 then ssn=nt;
5272      +else do;
5273      +nt=nt/ssn;
5274      +output;
5275      +end;
5276      +drop ssn;
5277      +/*rename &renamet;*/
5278      +run;

NOTE: There were 25 observations read from the data set WORK.ST.
NOTE: The data set WORK.ST has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5279      +
5280      +proc means data=scores_valid(keep=&zmienne &tar) noprint;
5281      +ways 0 1;
5282      +class &zmienne;
5283      +var &tar;
5284      +output out=sv(drop=_freq_) n()=nv;
5285      +run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.SV has 25 observations and 9 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           5.03 seconds
      cpu time            9.18 seconds
      

5286      +
5287      +proc sort data=sv;
240                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5288      +by _type_ &zmienne;
5289      +run;

NOTE: There were 25 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 25 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5290      +
5291      +data sv;
5292      +retain ssn;
5293      +set sv;
5294      +if _n_=1 then ssn=nv;
5295      +else do;
5296      +nv=nv/ssn;
5297      +output;
5298      +end;
5299      +drop ssn;
5300      +/*rename &renamev;*/
5301      +run;

NOTE: There were 25 observations read from the data set WORK.SV.
NOTE: The data set WORK.SV has 24 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5302      +
5303      +data r;
5304      +merge st sv;
5305      +by _type_ &zmienne;
5306      +rename &renamet;
5307      +run;

NOTE: There were 24 observations read from the data set WORK.ST.
NOTE: There were 24 observations read from the data set WORK.SV.
NOTE: The data set WORK.R has 24 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5308      +
5309      +data w;
5310      +set r end=e;
5311      +retain &zmienne 0;
5312      +array org (&ilz) &zmienne;
5313      +array orgt (&ilz) &zmiennet;
5314      +array t(2) nv nt;
5315      +do i=1 to 2;
5316      +if missing(t(i)) then t(i)=0;
5317      +end;
5318      +do i=1 to &ilz;
5319      +if not missing(orgt(i)) then org(i)=sum(org(i),orgt(i)*(nt-nv));;
5320      +end;
5321      +keep &zmienne;
5322      +if e;
5323      +run;

NOTE: There were 24 observations read from the data set WORK.R.
NOTE: The data set WORK.W has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5324      +
241                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5325      +proc transpose data=w out=t1(rename=(col1=sd_zm));
5326      +var &zmienne;
5327      +run;

NOTE: There were 1 observations read from the data set WORK.W.
NOTE: The data set WORK.T1 has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

5328      +proc sort data=t1;
5329      +by _name_;
5330      +run;

NOTE: There were 7 observations read from the data set WORK.T1.
NOTE: The data set WORK.T1 has 7 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5331      +
5332      +proc means data=modele.Scorecard_scorecard&the_best_model nway noprint;
5333      +var &zm;
5334      +class _variable_;
5335      +output out=sc(keep=_variable_ range_zm rename=(_variable_=_name_)) range()=range_zm;
5336      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
NOTE: The data set WORK.SC has 7 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

5337      +data sc;
5338      +set sc;
5339      +_name_='WOE_'||trim(upcase(_name_));
5340      +run;

NOTE: There were 7 observations read from the data set WORK.SC.
NOTE: The data set WORK.SC has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

5341      +
5342      +data r;
5343      +length _name_ $32;
5344      +merge t1 sc;
5345      +by _name_;
5346      +run;

NOTE: There were 7 observations read from the data set WORK.T1.
NOTE: There were 7 observations read from the data set WORK.SC.
NOTE: The data set WORK.R has 7 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5347      +
5348      +data r;
5349      +set r;
5350      +prop_sd_zm=abs(sd_zm)/range_zm;
5351      +run;

NOTE: There were 7 observations read from the data set WORK.R.
242                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.R has 7 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5352      +
5353      +data sd_zmienne;
5354      +set r;
5355      +_name_=substr(_name_,5);
5356      +run;

NOTE: There were 7 observations read from the data set WORK.R.
NOTE: The data set WORK.SD_ZMIENNE has 7 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5357      +
5358      +proc sql noprint;
5359      +select max(abs(sd_zm)),max(prop_sd_zm) into :max_abs_sd_zm, :prop_max_sd_range_zm
5360      +from r;
5361      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5362      +%put &max_abs_sd_zm &prop_max_sd_range_zm;
0.020458  0.00032
5363      +
5364      +/*liczenie vif i corr*/
5365      +/*train*/
5366      +ods listing close;
5367      +ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
5368      +proc reg data=&train(keep=&tar &zmienne);
5369      +model &tar=&zmienne / vif collin;
5370      +run;

5371      +quit;

NOTE: PROCEDURE REG used (Total process time):
      real time           2.35 seconds
      cpu time            2.34 seconds
      

5372      +ods output close;
NOTE: The data set WORK.COLL has 8 observations and 15 variables.
NOTE: The data set WORK.P has 8 observations and 11 variables.
5373      +ods listing;
5374      +
5375      +proc sql noprint;
5376      +select max(VarianceInflation) into :vif_t from p;
5377      +select max(ConditionIndex) into :conindex_t from coll;
5378      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5379      +/*valid*/
5380      +ods listing close;
5381      +ods output ParameterEstimates(persist=proc)=p CollinDiag(persist=proc)=coll;
5382      +proc reg data=&valid(keep=&tar &zmienne);
5383      +model &tar=&zmienne / vif collin;
5384      +run;

5385      +quit;

243                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE REG used (Total process time):
      real time           1.90 seconds
      cpu time            1.82 seconds
      

5386      +ods output close;
NOTE: The data set WORK.COLL has 8 observations and 15 variables.
NOTE: The data set WORK.P has 8 observations and 11 variables.
5387      +ods listing;
5388      +
5389      +proc sql noprint;
5390      +select max(VarianceInflation) into :vif_v from p;
5391      +select max(ConditionIndex) into :conindex_v from coll;
5392      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5393      +
5394      +/*train*/
5395      +proc corr data=&train(keep=&zmienne) outp=corr(where=(_TYPE_='CORR'))
5396      +noprint;
5397      +var &zmienne;
5398      +run;

NOTE: The data set WORK.CORR has 7 observations and 9 variables.
NOTE: PROCEDURE CORR used (Total process time):
      real time           2.46 seconds
      cpu time            2.44 seconds
      

5399      +
5400      +data _null_;
5401      +set corr end=e;
5402      +array t(*) _numeric_;
5403      +retain m 0;
5404      +do i=_n_+1 to dim(t);
5405      +m=max(m,abs(t(i)));
5406      +/*put i= t(i)=;*/
5407      +end;
5408      +if e then call symput('max_corr_t',put(m,best12.-L));
5409      +run;

NOTE: There were 7 observations read from the data set WORK.CORR.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5410      +
5411      +/*valid*/
5412      +proc corr data=&valid(keep=&zmienne) outp=corr(where=(_TYPE_='CORR'))
5413      +noprint;
5414      +var &zmienne;
5415      +run;

NOTE: The data set WORK.CORR has 7 observations and 9 variables.
NOTE: PROCEDURE CORR used (Total process time):
      real time           1.60 seconds
      cpu time            1.59 seconds
      

5416      +
5417      +data _null_;
5418      +set corr end=e;
5419      +array t(*) _numeric_;
5420      +retain m 0;
5421      +do i=_n_+1 to dim(t);
5422      +m=max(m,abs(t(i)));
244                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5423      +/*put i= t(i)=;*/
5424      +end;
5425      +if e then call symput('max_corr_v',put(m,best12.-L));
5426      +run;

NOTE: There were 7 observations read from the data set WORK.CORR.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5427      +
5428      +
5429      +
5430      +
5431      +
5432      +ods listing close;
5433      +ods output Association(persist=proc)=a;
5434      +proc logistic data=Scores_train(keep=&tar &zm) desc outest=b;
5435      +model &tar=&zm;
5436      +run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
NOTE: Convergence criterion (GCONV=1E-8) satisfied.
NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.B has 1 observations and 7 variables.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           18.31 seconds
      cpu time            18.26 seconds
      

5437      +proc logistic data=Scores_valid(keep=&tar &zm) desc inest=b;
5438      +model &tar=&zm / maxiter=0;
5439      +run;

NOTE: PROC LOGISTIC is modeling the probability that default12new=1.
WARNING: Convergence was not attained in 0 iterations. You may want to increase the maximum number of iterations (MAXITER= option) or change the convergence criteria (ABSFCONV=, FCONV=, GCONV=, XCONV= options) in the MODEL statement.
WARNING: The LOGISTIC procedure continues in spite of the above warning. Results shown are based on the last maximum likelihood iteration. Validity of the model fit is questionable.
NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: PROCEDURE LOGISTIC used (Total process time):
      real time           9.75 seconds
      cpu time            9.70 seconds
      

5440      +ods output close;
NOTE: The data set WORK.A has 8 observations and 8 variables.
5441      +ods listing;
5442      +
5443      +data n;
5444      +set a;
5445      +where label2='c';
5446      +ar=2*nValue2-1;
5447      +if _n_=1 then call symput('ar_t',put(ar,best12.-L));
5448      +if _n_=2 then call symput('ar_v',put(ar,best12.-L));
5449      +run;

NOTE: There were 2 observations read from the data set WORK.A.
      WHERE label2='c';
NOTE: The data set WORK.N has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5450      +%put &ar_t &ar_v;
0.5944634258 0.5931991742
5451      +
5452      +/*%include kat_cal("testy_power.sas");*/
5453      +%powerc(Scores_train,&zm,&tar);
MPRINT(POWERC):   data power;
245                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(POWERC):   powerpercent=.;
MPRINT(POWERC):   run;

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(POWERC):   data powertable;
MPRINT(POWERC):   set Scores_train(keep=SCORECARD_POINTS default12new);
MPRINT(POWERC):   crit=-SCORECARD_POINTS;
MPRINT(POWERC):   run;

NOTE: There were 1308784 observations read from the data set WORK.SCORES_TRAIN.
NOTE: The data set WORK.POWERTABLE has 1308784 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           1.48 seconds
      cpu time            1.42 seconds
      

MPRINT(POWERC):   proc rank data=powertable out=tmp1 ties=high descending;
MPRINT(POWERC):   var crit;
MPRINT(POWERC):   ranks rang;
MPRINT(POWERC):   run;

NOTE: The data set WORK.TMP1 has 1308784 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           3.36 seconds
      cpu time            3.27 seconds
      

MPRINT(POWERC):   proc sql;
MPRINT(POWERC):   create table tmp2 as select rang, sum(default12new) as defaults, count(*) as nobs from tmp1 group by rang;
NOTE: Table WORK.TMP2 created, with 244 rows and 3 columns.

MPRINT(POWERC):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           2.24 seconds
      cpu time            3.72 seconds
      

MPRINT(POWERC):   data tmp3;
MPRINT(POWERC):   set tmp2;
MPRINT(POWERC):   cumdef+defaults;
MPRINT(POWERC):   run;

NOTE: There were 244 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 244 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

MPRINT(POWERC):   data power;
MPRINT(POWERC):   set tmp3 end=e;
MPRINT(POWERC):   format powerpercent percent5.2;
MPRINT(POWERC):   powerabs+nobs*defaults/2+(cumdef-defaults)*nobs;
MPRINT(POWERC):   powerden=cumdef*cumdef/2+cumdef*(rang-cumdef)-rang*cumdef/2;
MPRINT(POWERC):   powerpercent=(powerabs-rang*cumdef/2)/powerden;
MPRINT(POWERC):   if _error_=1 then _error_=0;
MPRINT(POWERC):   if e;
MPRINT(POWERC):   run;

NOTE: There were 244 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      
246                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


5454      +data _null_;
5455      +set power;
5456      +call symput("ps_train",put(powerpercent,best12.-L));
5457      +run;

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5458      +%put &ps_train;
0.5944457417
5459      +
5460      +%powerc(Scores_valid,&zm,&tar);
MPRINT(POWERC):   data power;
MPRINT(POWERC):   powerpercent=.;
MPRINT(POWERC):   run;

NOTE: The data set WORK.POWER has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(POWERC):   data powertable;
MPRINT(POWERC):   set Scores_valid(keep=SCORECARD_POINTS default12new);
MPRINT(POWERC):   crit=-SCORECARD_POINTS;
MPRINT(POWERC):   run;

NOTE: There were 872745 observations read from the data set WORK.SCORES_VALID.
NOTE: The data set WORK.POWERTABLE has 872745 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.96 seconds
      cpu time            0.93 seconds
      

MPRINT(POWERC):   proc rank data=powertable out=tmp1 ties=high descending;
MPRINT(POWERC):   var crit;
MPRINT(POWERC):   ranks rang;
MPRINT(POWERC):   run;

NOTE: The data set WORK.TMP1 has 872745 observations and 4 variables.
NOTE: PROCEDURE RANK used (Total process time):
      real time           2.26 seconds
      cpu time            2.21 seconds
      

MPRINT(POWERC):   proc sql;
MPRINT(POWERC):   create table tmp2 as select rang, sum(default12new) as defaults, count(*) as nobs from tmp1 group by rang;
NOTE: Table WORK.TMP2 created, with 244 rows and 3 columns.

MPRINT(POWERC):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           1.46 seconds
      cpu time            2.48 seconds
      

MPRINT(POWERC):   data tmp3;
MPRINT(POWERC):   set tmp2;
MPRINT(POWERC):   cumdef+defaults;
MPRINT(POWERC):   run;

NOTE: There were 244 observations read from the data set WORK.TMP2.
NOTE: The data set WORK.TMP3 has 244 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
247                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(POWERC):   data power;
MPRINT(POWERC):   set tmp3 end=e;
MPRINT(POWERC):   format powerpercent percent5.2;
MPRINT(POWERC):   powerabs+nobs*defaults/2+(cumdef-defaults)*nobs;
MPRINT(POWERC):   powerden=cumdef*cumdef/2+cumdef*(rang-cumdef)-rang*cumdef/2;
MPRINT(POWERC):   powerpercent=(powerabs-rang*cumdef/2)/powerden;
MPRINT(POWERC):   if _error_=1 then _error_=0;
MPRINT(POWERC):   if e;
MPRINT(POWERC):   run;

NOTE: There were 244 observations read from the data set WORK.TMP3.
NOTE: The data set WORK.POWER has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5461      +data _null_;
5462      +set power;
5463      +call symput("ps_valid",put(powerpercent,best12.-L));
5464      +run;

NOTE: There were 1 observations read from the data set WORK.POWER.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5465      +%put &ps_valid;
0.5931759205
5466      +
5467      +data model;
5468      +&def_var_dluga;
5469      +length ps_valid ps_train ps_diff 8;
5470      +
5471      +format &name_max_probChiSq PVALUE6.4;
5472      +format &name_prop_max_sd_range_zm &name_prop_sd_range percent12.4;
5473      +format &name_ar_diff &name_ar_score_diff ps_diff percent12.2;
5474      +
5475      +set w_score;
5476      +
5477      +ps_valid=&ps_valid;
5478      +ps_train=&ps_train;
5479      +ps_diff =(ps_train-ps_valid)
5480      +/ps_train;
5481      +
5482      +
5483      +&name_ks_score=&ks_score;
5484      +&name_ar_score_train=&ar_t;
5485      +&name_ar_score_valid=&ar_v;
5486      +&name_ar_score_diff =(&name_ar_score_train-&name_ar_score_valid)
5487      +/&name_ar_score_train;
5488      +
5489      +&name_max_abs_sd_zm=&max_abs_sd_zm;
5490      +&name_prop_max_sd_range_zm=&prop_max_sd_range_zm;
5491      +
5492      +&name_max_corr_valid=&max_corr_v;
5493      +&name_max_vif_valid=&vif_v;
5494      +&name_max_coindex_valid=&conindex_v;
5495      +
5496      +
5497      +&name_corr=&max_corr_t;
5498      +&name_vif=&vif_t;
5499      +&name_ConIndex=&conindex_t;
5500      +
5501      +keep &list_var_dluga ps_train ps_valid ps_diff;
5502      +run;

NOTE: Variable Method is uninitialized.
248                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: Variable Model is uninitialized.
NOTE: Variable N_Var is uninitialized.
NOTE: Variable AR_Train is uninitialized.
NOTE: Variable AR_Valid is uninitialized.
NOTE: Variable AR_Diff is uninitialized.
NOTE: Variable Min_WaldChiSq is uninitialized.
NOTE: Variable Max_ProbChiSq is uninitialized.
NOTE: There were 1 observations read from the data set WORK.W_SCORE.
NOTE: The data set WORK.MODEL has 1 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5503      +
5504      +
5505      +
5506      +
5507      +%let name_ks_01_train       =KS_01_Train        ;
5508      +%let name_h_01_train        =H_01_Train         ;
5509      +%let name_max_dist_01_train =Max_Dist_01_Train  ;
5510      +%let name_ks_01_valid       =KS_01_Valid        ;
5511      +%let name_h_01_valid        =H_01_Valid         ;
5512      +%let name_max_dist_01_valid =Max_Dist_01_Valid  ;
5513      +%let name_c_01_diff         =C_01_Diff          ;
5514      +%let name_c_01_train         =C_01_Train        ;
5515      +%let name_c_01_valid         =C_01_Valid        ;
5516      +%let name_ks_01_diff        =KS_01_Diff         ;
5517      +%let name_h_01_diff         =H_01_Diff          ;
5518      +%let name_max_dist_01_diff  =Max_Dist_01_Diff   ;
5519      +%let name_pr_moda_train     =PR_Moda_Train      ;
5520      +%let name_moda_train        =Moda_Train         ;
5521      +%let name_pr_miss_train     =PR_Miss_Train      ;
5522      +%let name_n_uni_train       =N_Uni_Train        ;
5523      +%let name_pr_moda_valid     =PR_Moda_Valid      ;
5524      +%let name_moda_valid        =Moda_Valid         ;
5525      +%let name_pr_miss_valid     =PR_Miss_Valid      ;
5526      +%let name_n_uni_valid       =N_Uni_Valid        ;
5527      +%let name_h_tv              =H_TV               ;
5528      +%let name_h_br_tv           =H_Br_TV            ;
5529      +%let name_ks_tv             =KS_TV              ;
5530      +%let name_ks_br_tv          =KS_Br_TV           ;
5531      +%let name_ar_diff           =AR_Diff            ;
5532      +%let name_ar_train          =AR_Train           ;
5533      +%let name_ar_valid          =AR_Valid           ;
5534      +%let name_h_grp_train       =H_GRP_Train        ;
5535      +%let name_max_dist_grp_train=Max_Mist_GRP_Train ;
5536      +%let name_h_grp_valid       =H_GRP_Valid        ;
5537      +%let name_max_dist_grp_valid=Max_Dist_GRP_Valid ;
5538      +%let name_h_grp_diff        =H_GRP_Diff         ;
5539      +%let name_max_dist_grp_diff =Max_Dist_GRP_Diff  ;
5540      +%let name_h_grp_tv          =H_GRP_TV           ;
5541      +%let name_max_dist_grp_tv   =Max_Dist_GRP_TV    ;
5542      +%let name_h_br_grp_tv       =H_Br_GRP_TV        ;
5543      +%let name_max_br_dist_grp_tv=Max_Br_Dist_GRP_TV ;
5544      +
5545      +
5546      +
5547      +
5548      +
5549      +
5550      +
5551      +
5552      +
5553      +
5554      +goptions reset=all device=activex;
NOTE: Procedures may not support all options or statements for all devices. For details, see the documentation for each procedure.
5555      +ods listing close;
5556      +ods html path="&em_nodedir"(url=none) body='Report.html' contents='contents.html'
5557      +frame='index.html' style=Statistical;
249                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: Writing HTML Body file: Report.html
NOTE: Writing HTML Contents file: contents.html
NOTE: Writing HTML Frame file: index.html
5558      +
5559      +title 'Variables in the model';
5560      +proc transpose data=&train(obs=1) out=zm;
5561      +var &zmienne;
5562      +run;

NOTE: There were 1 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.ZM has 7 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

5563      +data zm;
5564      +set zm;
5565      +_NAME_=substr(_NAME_,5);
5566      +run;

NOTE: There were 7 observations read from the data set WORK.ZM.
NOTE: The data set WORK.ZM has 7 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5567      +ods proclabel='Variables in the model';
5568      +proc print data=zm label noobs;
5569      +var _name_;
5570      +label _name_='Name' ;
5571      +run;

NOTE: There were 7 observations read from the data set WORK.ZM.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5572      +
5573      +%let war=1;
5574      +/*%let war=_variable_ in (&zm_wciapkach);*/
5575      +
5576      +
5577      +title 'Statistics for original variables';
5578      +title2 'Quality of variables';
5579      +ods proclabel='Quality of variables';
5580      +proc print data=&em_lib..zmienne_stat label noobs;
5581      +var _VARIABLE_ level
5582      +&name_PR_Miss_Train &name_PR_Miss_Valid
5583      +&name_N_Uni_Train &name_N_Uni_Valid
5584      +&name_PR_Moda_Train &name_PR_Moda_Valid
5585      +&name_Moda_Train &name_Moda_Valid ;
5586      +label
5587      +_variable_='Name'
5588      +level='Measure'
5589      +&name_PR_Miss_Train='Percent of missing valuses in training dataset'
5590      +&name_PR_Miss_Valid='Percent of missing valuses in validating dataset'
5591      +&name_N_Uni_Train='Number of distinct values in training dataset'
5592      +&name_N_Uni_Valid='Number of distinct values in validating dataset'
5593      +&name_PR_Moda_Train='Percent of most frequent nonmissing value in training dataset'
5594      +&name_PR_Moda_Valid='Percent of most frequent nonmissing value in validating dataset'
5595      +&name_Moda_Train='Most frequent nonmissing value in training dataset'
5596      +&name_Moda_Valid='Most frequent nonmissing value in validating dataset'
5597      +;
5598      +where &war;
5599      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
250                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      WHERE 1 /* an obviously TRUE WHERE clause */ ;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.09 seconds
      cpu time            0.03 seconds
      

5600      +
5601      +
5602      +
5603      +
5604      +title 'Statistics for original variables';
5605      +title2 'Univariate discriminant power of variables';
5606      +ods proclabel='Univariate discriminant power of variables';
5607      +proc print data=&em_lib..zmienne_stat label noobs;
5608      +var _VARIABLE_ level
5609      +KS_01_Train
5610      +KS_01_Valid
5611      +H_01_Train
5612      +H_01_Valid
5613      +Max_Dist_01_Train
5614      +Max_Dist_01_Valid
5615      +C_01_Train
5616      +C_01_Valid
5617      +/*PS_Org_train*/
5618      +/*PS_Org_valid*/
5619      +;
5620      +label
5621      +_variable_='Name'
5622      +level='Measure'
5623      +KS_01_Train='Kolmogorov-Smirnov between gods and bads in training dataset'
5624      +KS_01_Valid='Kolmogorov-Smirnov between gods and bads in validating dataset'
5625      +H_01_Train='Kullback-Leibrer distance between gods and bads in training dataset'
5626      +H_01_Valid='Kullback-Leibrer distance between gods and bads in validating dataset'
5627      +Max_Dist_01_Train='Percent distance between gods and bads in training dataset'
5628      +Max_Dist_01_Valid='Percent distance between gods and bads in validating dataset'
5629      +C_01_Train='Area under the ROC between gods and bads in training dataset'
5630      +C_01_Valid='Area under the ROC between gods and bads in validating dataset'
5631      +/*PS_Org_train='Power statistic in training dataset'*/
5632      +/*PS_Org_valid='Power statistic in validating dataset'*/
5633      +;
5634      +
5635      +where &war;
5636      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE 1 /* an obviously TRUE WHERE clause */ ;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5637      +
5638      +
5639      +
5640      +
5641      +title 'Statistics for original variables';
5642      +title2 'Univariate stability power of variables';
5643      +ods proclabel='Univariate stability power of variables';
5644      +proc print data=&em_lib..zmienne_stat label noobs;
5645      +var _VARIABLE_ level
5646      +KS_01_Diff  H_01_Diff
5647      +Max_Dist_01_Diff C_01_Diff
5648      +H_TV H_Br_TV KS_TV KS_Br_TV
5649      +/*PS_Org_Diff*/
5650      +;
5651      +label
5652      +_variable_='Name'
5653      +level='Measure'
5654      +KS_01_Diff='Difference Kolmogorov-Smirnov on gods/bads between training and validating datasets'
5655      +H_01_Diff='Difference Kullback-Leibrer on gods/bads between training and validating datasets'
251                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5656      +Max_Dist_01_Diff='Difference Percent distance on gods/bads between training and validating datasets'
5657      +C_01_Diff='Difference Area under the ROC on gods/bads between training and validating datasets'
5658      +H_TV='Kullback-Leibrer between training and validating datasets'
5659      +H_Br_TV='Kullback-Leibrer only for bads between training and validating datasets'
5660      +KS_TV='Kolmogorov-Smirnov between training and validating datasets'
5661      +KS_Br_TV='Kolmogorov-Smirnov only for bads between training and validating datasets'
5662      +/*PS_Org_Diff='Difference Power statistic between training and validating datasets' */
5663      +
5664      +;
5665      +where &war;
5666      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE 1 /* an obviously TRUE WHERE clause */ ;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

5667      +
5668      +/*wykresy grp*/
5669      +%macro wykresy_org;
5670      +%do i=1 %to &ilz;
5671      +%let z=%scan(&zmienneorg,&i,%str( ));
5672      +
5673      +proc sql noprint;
5674      +select level into :level
5675      +from &em_lib..zmienne_stat
5676      +where upcase(_variable_)=upcase("&z");
5677      +quit;
5678      +
5679      +%if &sqlobs=1 %then %do;
5680      +	title "Stability of &level &z graph";
5681      +	title2;
5682      +	ods proclabel="Stability of original &level &z graph";
5683      +	%if &level eq INT %then %do;
5684      +		%przygotuj_histogramy(&train,&valid,&z);
5685      +	%end; %else %do;
5686      +		%przygotuj_histogramy_n(&train,&valid,&z);
5687      +	%end;
5688      +%end;
5689      +
5690      +%end;
5691      +%mend;
5692      +%wykresy_org;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("ACT_CC");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of INT        ACT_CC graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original INT        ACT_CC graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CC / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 41598 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           4.96 seconds
      cpu time            4.93 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CC / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
252                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 41598 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           4.05 seconds
      cpu time            4.02 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 41598 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 41598 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.12 seconds
      cpu time            0.07 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 41598 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 41598 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 41598 observations read from the data set WORK.FT.
NOTE: There were 41598 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 41598 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.14 seconds
      cpu time            0.14 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   freq count;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=st p1()=min p99()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 41598 observations read from the data set WORK.FREQ_WSPOLNE.
NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.54 seconds
      cpu time            0.39 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

253                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if ACT_CC>=0.1105527638+(i-1)*(1.4543478261-0.1105527638)/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   srodek=0.1105527638+(i-1+0.5)*(1.4543478261-0.1105527638)/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where ACT_CC between 0.1105527638 and 1.4543478261;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 40735 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (ACT_CC>=0.1105527638 and ACT_CC<=1.4543478261);
NOTE: The data set WORK.RANGI has 40735 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.26 seconds
      cpu time            0.26 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wyk2 mean(srodek)=ACT_CC sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 40735 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 30 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.07 seconds
      cpu time            0.11 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 30 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=Freq_wspolne noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where missing(ACT_CC);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
254                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: No observations were selected from data set WORK.FREQ_WSPOLNE.
NOTE: There were 0 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(ACT_CC);
NOTE: The data set WORK.WYKM has 0 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

WARNING: The variable col1 in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 0 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   length ACT_CC $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set zb_wyk(rename=(ACT_CC=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ACT_CC=put(old,30.4-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if z then ACT_CC='Missing';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 62 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   block ACT_CC / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY):   quit;
NOTE: There were 62 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("ACT_CINS_MIN_SENIORITY");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
255                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(WYKRESY_ORG):   title "Stability of INT        ACT_CINS_MIN_SENIORITY graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original INT        ACT_CINS_MIN_SENIORITY graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CINS_MIN_SENIORITY / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 334 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.55 seconds
      cpu time            1.51 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CINS_MIN_SENIORITY / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 334 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.02 seconds
      cpu time            1.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 334 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 334 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 334 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 334 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 334 observations read from the data set WORK.FT.
NOTE: There were 334 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 334 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   freq count;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=st p1()=min p99()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 334 observations read from the data set WORK.FREQ_WSPOLNE.
256                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if ACT_CINS_MIN_SENIORITY>=3 +(i-1)*(299 -3 )/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   srodek=3 +(i-1+0.5)*(299 -3 )/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where ACT_CINS_MIN_SENIORITY between 3 and 299 ;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 297 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (ACT_CINS_MIN_SENIORITY>=3 and ACT_CINS_MIN_SENIORITY<=299);
NOTE: The data set WORK.RANGI has 297 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wyk2 mean(srodek)=ACT_CINS_MIN_SENIORITY sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 297 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 30 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 30 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
257                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=Freq_wspolne noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where missing(ACT_CINS_MIN_SENIORITY);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(ACT_CINS_MIN_SENIORITY);
NOTE: The data set WORK.WYKM has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   length ACT_CINS_MIN_SENIORITY $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set zb_wyk(rename=(ACT_CINS_MIN_SENIORITY=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ACT_CINS_MIN_SENIORITY=put(old,30.4-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if z then ACT_CINS_MIN_SENIORITY='Missing';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 62 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   block ACT_CINS_MIN_SENIORITY / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
258                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(PRZYGOTUJ_HISTOGRAMY):   quit;
NOTE: There were 62 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.67 seconds
      cpu time            0.42 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("ACT_CINS_N_STATC");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of INT        ACT_CINS_N_STATC graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original INT        ACT_CINS_N_STATC graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CINS_N_STATC / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 15 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.43 seconds
      cpu time            1.42 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table ACT_CINS_N_STATC / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 15 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.98 seconds
      cpu time            0.92 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 15 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 15 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 15 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 15 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
259                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: There were 15 observations read from the data set WORK.FT.
NOTE: There were 15 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 15 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   freq count;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=st p1()=min p99()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 15 observations read from the data set WORK.FREQ_WSPOLNE.
NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if ACT_CINS_N_STATC>=0 +(i-1)*(7 -0 )/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   srodek=0 +(i-1+0.5)*(7 -0 )/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where ACT_CINS_N_STATC between 0 and 7 ;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 8 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (ACT_CINS_N_STATC>=0 and ACT_CINS_N_STATC<=7);
NOTE: The data set WORK.RANGI has 8 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wyk2 mean(srodek)=ACT_CINS_N_STATC sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 8 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 8 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
260                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


NOTE: There were 8 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 16 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 16 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 16 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=Freq_wspolne noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where missing(ACT_CINS_N_STATC);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(ACT_CINS_N_STATC);
NOTE: The data set WORK.WYKM has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 3 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   length ACT_CINS_N_STATC $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set zb_wyk(rename=(ACT_CINS_N_STATC=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ACT_CINS_N_STATC=put(old,30.4-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if z then ACT_CINS_N_STATC='Missing';
261                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 16 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 18 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   block ACT_CINS_N_STATC / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY):   quit;
NOTE: There were 18 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("APP_CHAR_JOB_CODE");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of NOM        APP_CHAR_JOB_CODE graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original NOM        APP_CHAR_JOB_CODE graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table APP_CHAR_JOB_CODE / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.45 seconds
      cpu time            1.42 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table APP_CHAR_JOB_CODE / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.95 seconds
      cpu time            0.92 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
262                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep APP_CHAR_JOB_CODE Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block APP_CHAR_JOB_CODE / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' APP_CHAR_JOB_CODE= "APP_CHAR_JOB_CODE";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("APP_CHAR_MARITAL_STATUS");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of NOM        APP_CHAR_MARITAL_STATUS graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original NOM        APP_CHAR_MARITAL_STATUS graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table APP_CHAR_MARITAL_STATUS / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.38 seconds
      cpu time            1.38 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table APP_CHAR_MARITAL_STATUS / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.93 seconds
      cpu time            0.92 seconds
      

263                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep APP_CHAR_MARITAL_STATUS Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block APP_CHAR_MARITAL_STATUS / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' APP_CHAR_MARITAL_STATUS= "APP_CHAR_MARITAL_STATUS";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.29 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("APP_LOAN_AMOUNT");
MPRINT(WYKRESY_ORG):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of INT        APP_LOAN_AMOUNT graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original INT        APP_LOAN_AMOUNT graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table APP_LOAN_AMOUNT / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 1270 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           2.49 seconds
      cpu time            2.44 seconds
      
264                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table APP_LOAN_AMOUNT / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 1270 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.68 seconds
      cpu time            1.68 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 1270 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 1270 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 1270 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 1270 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1270 observations read from the data set WORK.FT.
NOTE: There were 1270 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 1270 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   freq count;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=st p1()=min p99()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1270 observations read from the data set WORK.FREQ_WSPOLNE.
NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
265                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if APP_LOAN_AMOUNT>=888 +(i-1)*(16740 -888 )/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   srodek=888 +(i-1+0.5)*(16740 -888 )/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where APP_LOAN_AMOUNT between 888 and 16740 ;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1060 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (APP_LOAN_AMOUNT>=888 and APP_LOAN_AMOUNT<=16740);
NOTE: The data set WORK.RANGI has 1060 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wyk2 mean(srodek)=APP_LOAN_AMOUNT sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1060 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 30 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 30 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=Freq_wspolne noprint nway;
266                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where missing(APP_LOAN_AMOUNT);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: No observations were selected from data set WORK.FREQ_WSPOLNE.
NOTE: There were 0 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(APP_LOAN_AMOUNT);
NOTE: The data set WORK.WYKM has 0 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

WARNING: The variable col1 in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 0 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   length APP_LOAN_AMOUNT $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set zb_wyk(rename=(APP_LOAN_AMOUNT=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   APP_LOAN_AMOUNT=put(old,30.4-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if z then APP_LOAN_AMOUNT='Missing';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 62 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   block APP_LOAN_AMOUNT / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY):   quit;
NOTE: There were 62 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.77 seconds
      cpu time            0.45 seconds
      

MPRINT(WYKRESY_ORG):  ;
MPRINT(WYKRESY_ORG):   proc sql noprint;
MPRINT(WYKRESY_ORG):   select level into :level from wyj.zmienne_stat where upcase(_variable_)=upcase("APP_NUMBER_OF_CHILDREN");
MPRINT(WYKRESY_ORG):   quit;
267                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(WYKRESY_ORG):   title "Stability of INT        APP_NUMBER_OF_CHILDREN graph";
MPRINT(WYKRESY_ORG):   title2;
MPRINT(WYKRESY_ORG):   ods proclabel="Stability of original INT        APP_NUMBER_OF_CHILDREN graph";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table APP_NUMBER_OF_CHILDREN / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.37 seconds
      cpu time            1.32 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   table APP_NUMBER_OF_CHILDREN / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.92 seconds
      cpu time            0.88 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 4 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   freq count;
268                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=st p1()=min p99()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 4 observations read from the data set WORK.FREQ_WSPOLNE.
NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if APP_NUMBER_OF_CHILDREN>=0 +(i-1)*(3 -0 )/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   srodek=0 +(i-1+0.5)*(3 -0 )/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where APP_NUMBER_OF_CHILDREN between 0 and 3 ;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 4 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (APP_NUMBER_OF_CHILDREN>=0 and APP_NUMBER_OF_CHILDREN<=3);
NOTE: The data set WORK.RANGI has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wyk2 mean(srodek)=APP_NUMBER_OF_CHILDREN sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 4 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 4 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 4 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 8 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

269                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 8 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc means data=Freq_wspolne noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   where missing(APP_NUMBER_OF_CHILDREN);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: No observations were selected from data set WORK.FREQ_WSPOLNE.
NOTE: There were 0 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(APP_NUMBER_OF_CHILDREN);
NOTE: The data set WORK.WYKM has 0 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

WARNING: The variable col1 in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 0 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   length APP_NUMBER_OF_CHILDREN $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   set zb_wyk(rename=(APP_NUMBER_OF_CHILDREN=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   APP_NUMBER_OF_CHILDREN=put(old,30.4-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY):   if z then APP_NUMBER_OF_CHILDREN='Missing';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 10 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      
270                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(PRZYGOTUJ_HISTOGRAMY):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   block APP_NUMBER_OF_CHILDREN / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY):   quit;
NOTE: There were 10 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.77 seconds
      cpu time            0.36 seconds
      

MPRINT(WYKRESY_ORG):  ;
5693      +
5694      +
5695      +
5696      +title 'Statistics for transformed variables';
5697      +title2 'Univariate discriminant power of transformed variables';
5698      +ods proclabel='Univariate discriminant power of transformed variables';
5699      +proc print data=&em_lib..zmienne_stat label noobs;
5700      +var _VARIABLE_
5701      +/*PS_grp_train PS_grp_valid*/
5702      +AR_Train AR_Valid
5703      +H_GRP_Train H_GRP_Valid
5704      +Max_Mist_GRP_Train Max_Dist_GRP_Valid
5705      +;
5706      +label
5707      +_variable_='Name'
5708      +AR_Train='AR-WOE between gods and bads in training dataset'
5709      +AR_Valid='AR-WOE between gods and bads in validating dataset'
5710      +H_GRP_Train='Kullback-Leibrer-GRP between gods and bads in training dataset'
5711      +H_GRP_Valid='Kullback-Leibrer-GRP between gods and bads in validating dataset'
5712      +Max_Mist_GRP_Train='Percent distance-GRP between gods and bads in training dataset'
5713      +Max_Dist_GRP_Valid='Percent distance-GRP between gods and bads in validating dataset'
5714      +/*PS_grp_train='Power statistic in training dataset'*/
5715      +/*PS_grp_valid='Power statistic in validating dataset'*/
5716      +;
5717      +where &war;
5718      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE 1 /* an obviously TRUE WHERE clause */ ;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
      

5719      +
5720      +
5721      +title 'Statistics for transformed variables';
5722      +title2 'Univariate stability power of transformed variables';
5723      +ods proclabel='Univariate stability power of transformed variables';
5724      +proc print data=&em_lib..zmienne_stat label noobs;
5725      +var _VARIABLE_
5726      +/*PS_grp_Diff*/
5727      +AR_Diff
5728      +H_GRP_Diff
5729      +Max_Dist_GRP_Diff H_GRP_TV Max_Dist_GRP_TV H_Br_GRP_TV Max_Br_Dist_GRP_TV
5730      +;
5731      +label
5732      +_variable_='Name'
5733      +AR_Diff='Difference between AR-GRP on gods/bads between training and validating datasets'
5734      +H_GRP_Diff='Difference between Kolmogorov-Smirnov on gods/bads between training and validating datasets'
5735      +Max_Dist_GRP_Diff='Difference Percent distance-GRP on gods/bads between training and validating datasets'
5736      +H_GRP_TV='Kullback-Leibrer-GRP between training and validating datasets'
5737      +Max_Dist_GRP_TV='Percent distance-GRP between training and validating datasets'
5738      +H_Br_GRP_TV='Kullback-Leibrer-GRP only for bads between training and validating datasets'
5739      +Max_Br_Dist_GRP_TV='Percent distance-GRP only for bads between training and validating datasets'
271                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5740      +/*PS_grp_Diff='Difference Power statistic between training and validating datasets' */
5741      +;
5742      +where &war;
5743      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE 1 /* an obviously TRUE WHERE clause */ ;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

5744      +
5745      +title "Gini statistics for variables in the model";
5746      +ods proclabel="Gini statistics for variables in the model";
5747      +proc print data=&em_lib..zmienne_stat label noobs;
5748      +var _VARIABLE_
5749      +AR_Train;
5750      +label
5751      +_variable_='Name'
5752      +AR_Train='Gini statistics for variables in the model';
5753      +format ar_train nlpct12.2;
5754      +where _variable_ in (&zm_wciapkach);
5755      +run;

NOTE: There were 7 observations read from the data set WYJ.ZMIENNE_STAT.
      WHERE _variable_ in ('ACT_CC                          ', 'ACT_CINS_MIN_SENIORITY          ', 'ACT_CINS_N_STATC                ', 'APP_CHAR_JOB_CODE               ', 'APP_CHAR_MARITAL_STATUS         ', 'APP_LOAN_AMOUNT                 ', 
      'APP_NUMBER_OF_CHILDREN          ');
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

5756      +
5757      +
5758      +
5759      +/*wykresy grp*/
5760      +%macro wykresy_grp;
5761      +%do i=1 %to &ilz;
5762      +%let z=%scan(&zmiennegrp,&i,%str( ));
5763      +title "Stability of &z graph - distribution";
5764      +title2;
5765      +ods proclabel="Stability of &z graph - distribution";
5766      +%przygotuj_histogramy_n(&train,&valid,&z);
5767      +
5768      +
5769      +title "Stability of &z graph - Bad rate distribution";
5770      +title2;
5771      +ods proclabel="Stability of &z graph - Bad rate distribution";
5772      +%przygotuj_histogramy_br(&train,&valid,&z);
5773      +
5774      +%end;
5775      +%mend;
5776      +%wykresy_grp;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CC graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CC graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CC / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.30 seconds
      cpu time            1.26 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CC / missing out=fv;
272                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.91 seconds
      cpu time            0.90 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_ACT_CC Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_ACT_CC / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_ACT_CC= "GRP_ACT_CC";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.63 seconds
      cpu time            0.39 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CC graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CC graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
273                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           1.38 seconds
      cpu time            2.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CC;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.95 seconds
      cpu time            1.45 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_ACT_CC Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_ACT_CC / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_ACT_CC= "GRP_ACT_CC";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.62 seconds
      cpu time            0.31 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CINS_MIN_SENIORITY graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
274                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CINS_MIN_SENIORITY graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CINS_MIN_SENIORITY / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.29 seconds
      cpu time            1.27 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CINS_MIN_SENIORITY / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.90 seconds
      cpu time            0.85 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_ACT_CINS_MIN_SENIORITY Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_ACT_CINS_MIN_SENIORITY / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_ACT_CINS_MIN_SENIORITY= "GRP_ACT_CINS_MIN_SENIORITY";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 4 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.71 seconds
      cpu time            0.42 seconds
      
275                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CINS_MIN_SENIORITY graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CINS_MIN_SENIORITY graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 2 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.37 seconds
      cpu time            2.16 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CINS_MIN_SENIORITY;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 2 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.96 seconds
      cpu time            1.41 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_ACT_CINS_MIN_SENIORITY Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
276                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_ACT_CINS_MIN_SENIORITY / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_ACT_CINS_MIN_SENIORITY= "GRP_ACT_CINS_MIN_SENIORITY";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 4 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.70 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CINS_N_STATC graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CINS_N_STATC graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CINS_N_STATC / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.32 seconds
      cpu time            1.28 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_ACT_CINS_N_STATC / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.90 seconds
      cpu time            0.90 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_ACT_CINS_N_STATC Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
277                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_ACT_CINS_N_STATC / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_ACT_CINS_N_STATC= "GRP_ACT_CINS_N_STATC";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.71 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_ACT_CINS_N_STATC graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_ACT_CINS_N_STATC graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.37 seconds
      cpu time            2.05 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_ACT_CINS_N_STATC;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.96 seconds
      cpu time            1.40 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
278                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_ACT_CINS_N_STATC Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_ACT_CINS_N_STATC / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_ACT_CINS_N_STATC= "GRP_ACT_CINS_N_STATC";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.67 seconds
      cpu time            0.35 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_CHAR_JOB_CODE graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_CHAR_JOB_CODE graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_CHAR_JOB_CODE / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.35 seconds
      cpu time            1.34 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_CHAR_JOB_CODE / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.91 seconds
      cpu time            0.90 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
279                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_APP_CHAR_JOB_CODE Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_APP_CHAR_JOB_CODE / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_APP_CHAR_JOB_CODE= "GRP_APP_CHAR_JOB_CODE";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_CHAR_JOB_CODE graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_CHAR_JOB_CODE graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_CHAR_JOB_CODE;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.40 seconds
      cpu time            2.13 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_CHAR_JOB_CODE;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 4 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.98 seconds
      cpu time            1.42 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      
280                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_APP_CHAR_JOB_CODE Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 4 observations read from the data set WORK.FT.
NOTE: There were 4 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 8 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_APP_CHAR_JOB_CODE / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_APP_CHAR_JOB_CODE= "GRP_APP_CHAR_JOB_CODE";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 8 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.70 seconds
      cpu time            0.45 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_CHAR_MARITAL_STATUS graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_CHAR_MARITAL_STATUS graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_CHAR_MARITAL_STATUS / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.34 seconds
      cpu time            1.27 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_CHAR_MARITAL_STATUS / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 2 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.98 seconds
      cpu time            0.98 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 2 observations read from the data set WORK.FT.
281                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

NOTE: The data set WORK.FT has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 2 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_APP_CHAR_MARITAL_STATUS Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_APP_CHAR_MARITAL_STATUS / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_APP_CHAR_MARITAL_STATUS= "GRP_APP_CHAR_MARITAL_STATUS";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 4 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.38 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_CHAR_MARITAL_STATUS graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_CHAR_MARITAL_STATUS graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_CHAR_MARITAL_STATUS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 2 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.35 seconds
      cpu time            2.10 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_CHAR_MARITAL_STATUS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 2 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.99 seconds
282                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            1.42 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 2 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_APP_CHAR_MARITAL_STATUS Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 2 observations read from the data set WORK.FT.
NOTE: There were 2 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_APP_CHAR_MARITAL_STATUS / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_APP_CHAR_MARITAL_STATUS= "GRP_APP_CHAR_MARITAL_STATUS";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 4 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.70 seconds
      cpu time            0.43 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_LOAN_AMOUNT graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_LOAN_AMOUNT graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_LOAN_AMOUNT / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.34 seconds
      cpu time            1.28 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_LOAN_AMOUNT / missing out=fv;
283                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 5 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.01 seconds
      cpu time            0.99 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 5 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 5 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 5 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_APP_LOAN_AMOUNT Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 5 observations read from the data set WORK.FT.
NOTE: There were 5 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 10 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_APP_LOAN_AMOUNT / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_APP_LOAN_AMOUNT= "GRP_APP_LOAN_AMOUNT";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 10 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.67 seconds
      cpu time            0.39 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_LOAN_AMOUNT graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_LOAN_AMOUNT graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 5 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
284                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      real time           1.42 seconds
      cpu time            2.18 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_LOAN_AMOUNT;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 5 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.95 seconds
      cpu time            1.46 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 5 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 5 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_APP_LOAN_AMOUNT Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 5 observations read from the data set WORK.FT.
NOTE: There were 5 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 10 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_APP_LOAN_AMOUNT / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_APP_LOAN_AMOUNT= "GRP_APP_LOAN_AMOUNT";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 10 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.37 seconds
      

MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_NUMBER_OF_CHILDREN graph - distribution";
MPRINT(WYKRESY_GRP):   title2;
285                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_NUMBER_OF_CHILDREN graph - distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_NUMBER_OF_CHILDREN / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.32 seconds
      cpu time            1.32 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   table GRP_APP_NUMBER_OF_CHILDREN / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 3 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.92 seconds
      cpu time            0.90 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 3 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;
NOTE: There were 3 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 3 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   keep GRP_APP_NUMBER_OF_CHILDREN Period percent;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

NOTE: There were 3 observations read from the data set WORK.FT.
NOTE: There were 3 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 6 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   block GRP_APP_NUMBER_OF_CHILDREN / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   label period= 'Period' percent= 'Percent' GRP_APP_NUMBER_OF_CHILDREN= "GRP_APP_NUMBER_OF_CHILDREN";
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_N):   quit;
NOTE: There were 6 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.76 seconds
      cpu time            0.49 seconds
      
286                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014


MPRINT(WYKRESY_GRP):  ;
MPRINT(WYKRESY_GRP):   title "Stability of GRP_APP_NUMBER_OF_CHILDREN graph - Bad rate distribution";
MPRINT(WYKRESY_GRP):   title2;
MPRINT(WYKRESY_GRP):   ods proclabel="Stability of GRP_APP_NUMBER_OF_CHILDREN graph - Bad rate distribution";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_train noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=ft(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 3 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           1.38 seconds
      cpu time            2.16 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc means data=sc_valid noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   class GRP_APP_NUMBER_OF_CHILDREN;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   var default12new;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   output out=fv(drop=_freq_ _type_) mean()=br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 3 observations and 2 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.96 seconds
      cpu time            1.48 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 3 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   Period="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 3 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   set ft fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   format br nlpct12.2;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   keep GRP_APP_NUMBER_OF_CHILDREN Period br;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

NOTE: There were 3 observations read from the data set WORK.FT.
NOTE: There were 3 observations read from the data set WORK.FV.
NOTE: The data set WORK.ZB_WYK has 6 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   proc gchart data=zb_wyk;
287                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   block GRP_APP_NUMBER_OF_CHILDREN / group=period type=sum sumvar=br discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   label period= 'Period' br= 'Bad rate' GRP_APP_NUMBER_OF_CHILDREN= "GRP_APP_NUMBER_OF_CHILDREN";
MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_BR):   quit;
NOTE: There were 6 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.68 seconds
      cpu time            0.45 seconds
      

MPRINT(WYKRESY_GRP):  ;
5777      +
5778      +/*atrybuty*/
5779      +title 'Splitting points for variables';
5780      +title2;
5781      +ods proclabel='Splitting points for variables';
5782      +proc print data=modele.Scorecard_scorecard&the_best_model noobs label width=minimum;
5783      +var _group_
5784      +_percent_all_
5785      +_number_all_
5786      +_number_ind_
5787      +_number_good_
5788      +_number_bad_
5789      +wi ivi
5790      +;
5791      +id _variable_ ;
5792      +by _variable_ notsorted;
5793      +label
5794      +_percent_all_='Percent'
5795      +_number_all_='Number of ALL'
5796      +_number_ind_='Number of IND'
5797      +_number_good_='Number of GOOD'
5798      +_number_bad_='Number of BAD'
5799      +wi='Weight of evidence' br='Bad-rate' ivi='Information value'
5800      +_variable_='Variable'
5801      +_group_='Attribute number';
5802      +where _group_ ne -2;
5803      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
      

5804      +
5805      +/*karta*/
5806      +title 'Scorecard';
5807      +title2;
5808      +ods proclabel='Scorecard';
5809      +proc print data=modele.Scorecard_scorecard&the_best_model noobs label width=minimum;
5810      +var  _label_ SCORECARD_POINTS;
5811      +id _variable_ ;
5812      +by _variable_ notsorted;
5813      +label _label_='Splitting points'
5814      +_variable_='Variable'
5815      +_group_='Attribute number';
5816      +where _group_ ne -2;
5817      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

5818      +
288                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5819      +/*punkty*/
5820      +proc sql noprint;
5821      +select skala into :skala from skala;
5822      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

5823      +proc means data=modele.Scorecard_scorecard&the_best_model nway noprint;
5824      +var SCORECARD_POINTS;
5825      +class _variable_;
5826      +where _group_ ne -2;
5827      +output out=sc min=min max=max range=range;
5828      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
      WHERE _group_ not = -2;
NOTE: The data set WORK.SC has 7 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

5829      +data sc;
5830      +set sc;
5831      +percent=range/&skala;
5832      +run;

NOTE: There were 7 observations read from the data set WORK.SC.
NOTE: The data set WORK.SC has 7 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5833      +
5834      +title 'Scale of scorecard';
5835      +title2;
5836      +ods proclabel='Scale of scorecard';
5837      +proc print data=skala noobs label;
5838      +var min max skala;
5839      +label min='Minimum scorcard points'
5840      +max='Maximum scorcard points'
5841      +skala='Range of scorcard points';
5842      +run;

NOTE: There were 1 observations read from the data set WORK.SKALA.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

5843      +
5844      +proc sort data=sc;
5845      +by descending percent;
5846      +run;

NOTE: There were 7 observations read from the data set WORK.SC.
NOTE: The data set WORK.SC has 7 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5847      +title "Scale of variable's scorecard points";
5848      +title2;
5849      +ods proclabel="Scale of variable's scorecard points";
5850      +proc print data=sc noobs label;
5851      +var min max range percent;
289                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5852      +id _variable_;
5853      +label
5854      +_variable_='Variable'
5855      +min='Minimum scorcard points'
5856      +max='Maximum scorcard points'
5857      +range='Range of scorcard points'
5858      +percent='Part of global range'
5859      +;
5860      +format percent percent12.2;
5861      +run;

NOTE: There were 7 observations read from the data set WORK.SC.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

5862      +
5863      +/*moc modelu discrim*/
5864      +title "Discriminant power of model";
5865      +title2;
5866      +ods proclabel="Discriminant power of model";
5867      +proc print data=model noobs label;
5868      +var
5869      +/*ps_train ps_valid */
5870      +AR_Score_Train AR_Score_Valid;
5871      +label
5872      +/*ps_train='Power Statistic on training dataset' */
5873      +/*ps_valid='Power Statistic on validating dataset' */
5874      +AR_Score_Train='AR on training dataset'
5875      +AR_Score_Valid='AR on validating dataset'
5876      +;
5877      +run;

NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

5878      +
5879      +/*ci*/
5880      +title "Confidence intervals for C and AR";
5881      +title2;
5882      +ods proclabel="Confidence intervals for C and AR";
5883      +proc tabulate data=modele.Ci_c_ar&the_best_model;
5884      +var std_c var_c l95_c c u95_c l99_c u99_c std_ar
5885      +var_ar l95_ar ar u95_ar l99_ar u99_ar;
5886      +table
5887      +std_c var_c l95_c c u95_c l99_c u99_c std_ar
5888      +var_ar l95_ar ar u95_ar l99_ar u99_ar , sum=''*f=best12.;
5889      +run;

NOTE: There were 1 observations read from the data set MODELE.CI_C_AR1.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

5890      +
5891      +
5892      +/*moc modelu stability*/
5893      +title "Stability power of model";
5894      +title2;
5895      +ods proclabel="Stability power of model";
5896      +proc tabulate data=model;
5897      +var
5898      +/*ps_diff */
5899      +AR_Score_Diff KS_Score H_Score H_Br_Score Max_Dist_Score
5900      +Max_Dist_Br_Score
290                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5901      +SD_Score Prop_Sd_Range
5902      +Max_Abs_SD_Zm
5903      +Prop_Max_SD_Range_Zm
5904      +;
5905      +label
5906      +/*ps_diff='Difference between Power Statistic on training and validating datasets'*/
5907      +AR_Score_Diff='Difference between AR on training and validating datasets'
5908      +KS_Score='Kolmogorov-Smirnov between scores on training and validating datasets'
5909      +H_Score='Kullback-Leibrer between scores on training and validating datasets'
5910      +H_Br_Score='Kullback-Leibrer only for bads between scores on training and validating datasets'
5911      +Max_Dist_Score='Percent distance between scores on training and validating datasets'
5912      +Max_Dist_Br_Score='Percent distance only for bads between scores on training and validating datasets'
5913      +SD_Score='Score Difference between training and validating datasets'
5914      +Prop_Sd_Range='Part of Score Difference in global scorcards points range'
5915      +Max_Abs_SD_Zm='Maximum of absolute value of Score Difference on variable between training and validating datasets'
5916      +Prop_Max_SD_Range_Zm='Maximum part of score difference on variable in variable scorecard points rage';
5917      +table
5918      +/*ps_Diff*f=percent12.2 */
5919      +AR_Score_Diff*f=percent12.2
5920      +(KS_Score H_Score H_Br_Score Max_Dist_Score
5921      +Max_Dist_Br_Score SD_Score)*f=best12.
5922      +Prop_Sd_Range*f=percent12.2
5923      +Max_Abs_SD_Zm*f=best12.
5924      +Prop_Max_SD_Range_Zm*f=percent12.2  , sum='';
5925      +run;

NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      

5926      +
5927      +title "Stability of scorecard points graph";
5928      +title2;
5929      +ods proclabel="Stability of scorecard points graph";
5930      +%przygotuj_histogramy_score(&train,&valid,&zm);
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc freq data=sc_train noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   table SCORECARD_POINTS / missing out=ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: The data set WORK.FT has 244 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.49 seconds
      cpu time            1.48 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc freq data=sc_valid noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   table SCORECARD_POINTS / missing out=fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 872745 observations read from the data set WORK.SC_VALID.
NOTE: The data set WORK.FV has 244 observations and 3 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           1.01 seconds
      cpu time            0.99 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   set ft;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   okres="Train";
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;
NOTE: There were 244 observations read from the data set WORK.FT.
NOTE: The data set WORK.FT has 244 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

291                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   set fv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   okres="Valid";
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;
NOTE: There were 244 observations read from the data set WORK.FV.
NOTE: The data set WORK.FV has 244 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   merge ft(rename=(percent=percentt count=countt)) fv(rename=(percent=percentv count=countv));
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   by SCORECARD_POINTS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   count=sum(countt,countv);
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   drop okres;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 244 observations read from the data set WORK.FT.
NOTE: There were 244 observations read from the data set WORK.FV.
NOTE: The data set WORK.FREQ_WSPOLNE has 244 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc means data=freq_wspolne nway noprint;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   var SCORECARD_POINTS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   freq count;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   output out=st min()=min max()=max;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 244 observations read from the data set WORK.FREQ_WSPOLNE.
NOTE: The data set WORK.ST has 1 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data _null_;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   set st;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   call symput('min',put(min,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   call symput('max',put(max,best12.-L));
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 1 observations read from the data set WORK.ST.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data rangi;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   set freq_wspolne;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   do i=1 to 30;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   if SCORECARD_POINTS>=193 +(i-1)*(500 -193 )/30 then do;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   ranga=i;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   srodek=193 +(i-1+0.5)*(500 -193 )/30;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   end;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   where SCORECARD_POINTS between 193 and 500 ;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 244 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE (SCORECARD_POINTS>=193 and SCORECARD_POINTS<=500);
NOTE: The data set WORK.RANGI has 244 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

292                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc means data=rangi noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   class ranga;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   var srodek percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   output out=wyk2 mean(srodek)=SCORECARD_POINTS sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 244 observations read from the data set WORK.RANGI.
NOTE: The data set WORK.WYK2 has 30 observations and 6 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc transpose data=wyk2 out=zb_wyk(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   by SCORECARD_POINTS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 30 observations read from the data set WORK.WYK2.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc sort data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   by period SCORECARD_POINTS;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: The data set WORK.ZB_WYK has 60 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data zb_wykm wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   delete;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;
NOTE: The data set WORK.ZB_WYKM has 0 observations and 0 variables.
NOTE: The data set WORK.WYKM has 0 observations and 0 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc means data=Freq_wspolne noprint nway;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   var percentt percentv;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   output out=wykm sum(percentt)=Train sum(percentv)=Valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   where missing(SCORECARD_POINTS);
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: No observations were selected from data set WORK.FREQ_WSPOLNE.
NOTE: There were 0 observations read from the data set WORK.FREQ_WSPOLNE.
      WHERE MISSING(SCORECARD_POINTS);
NOTE: The data set WORK.WYKM has 0 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc transpose data=wykm out=zb_wykm(rename=(col1=Percent _name_=Period));
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   var train valid;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

WARNING: The variable col1 in the DROP, KEEP, or RENAME list has never been referenced.
NOTE: There were 0 observations read from the data set WORK.WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.03 seconds
293                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc sort data=zb_wykm;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   by period;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYKM has 2 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   data zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   length SCORECARD_POINTS $12;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   set zb_wyk(rename=(SCORECARD_POINTS=old)) zb_wykm(in=z);
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   SCORECARD_POINTS=put(old,12.-L);
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   if z then SCORECARD_POINTS='Missing';
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   drop old _LABEL_;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

NOTE: There were 60 observations read from the data set WORK.ZB_WYK.
NOTE: There were 2 observations read from the data set WORK.ZB_WYKM.
NOTE: The data set WORK.ZB_WYK has 62 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   proc gchart data=zb_wyk;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   block SCORECARD_POINTS / group=period type=sum sumvar=percent discrete patternid=group;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   label period= 'Period';
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   format percent procent.;
MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   run;

MPRINT(PRZYGOTUJ_HISTOGRAMY_SCORE):   quit;
NOTE: There were 62 observations read from the data set WORK.ZB_WYK.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.73 seconds
      cpu time            0.43 seconds
      

5931      +
5932      +
5933      +/*title "Scorecard points and defaults";*/
5934      +/*title2;*/
5935      +/*ods proclabel="Scorecard points and defaults";*/
5936      +/*proc gchart data=&train;*/
5937      +/*vbar3d &zm / subgroup=&tar type=percent legend*/
5938      +/*levels=&il_podzialow;*/
5939      +/*format &tar nlpct12.2;*/
5940      +/*run;*/
5941      +/*quit;*/
5942      +title "Scorecard points and bad rates";
5943      +title2;
5944      +ods proclabel="Scorecard points and bad rates";
5945      +proc gchart data=&train;
5946      +vbar3d &zm / sumvar=&tar type=mean
5947      +levels=&il_podzialow;
5948      +label &tar='Bad rate';
5949      +format &tar nlpct12.2;
5950      +run;

5951      +quit;

NOTE: There were 1308784 observations read from the data set WORK.SC_TRAIN.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           3.68 seconds
      cpu time            3.40 seconds
294                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      

5952      +
5953      +proc sort data=sd_zmienne;
5954      +by descending prop_sd_zm;
5955      +run;

NOTE: There were 7 observations read from the data set WORK.SD_ZMIENNE.
NOTE: The data set WORK.SD_ZMIENNE has 7 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

5956      +
5957      +/*moc modelu discrim*/
5958      +title "Stability of scorecard points on variables";
5959      +title2;
5960      +ods proclabel="Stability of scorecard points on variables";
5961      +proc print data=sd_zmienne noobs label;
5962      +var _name_ sd_zm prop_sd_zm;
5963      +format prop_sd_zm percent12.2;
5964      +label
5965      +_name_='Variable'
5966      +sd_zm='Score difference between training and validating datasets'
5967      +prop_sd_zm='Part of Score Difference in variable scorcards points range'
5968      +;
5969      +run;

NOTE: There were 7 observations read from the data set WORK.SD_ZMIENNE.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

5970      +
5971      +
5972      +/*collinearity*/
5973      +title "Collinearity";
5974      +title2;
5975      +ods proclabel="Collinearity";
5976      +proc tabulate data=model ;
5977      +var Max_VIF_Train Max_Vif_Valid
5978      +Max_Pearson_Train Max_Pearson_Valid
5979      +Max_Con_Index_Train Max_Con_Index_Valid;
5980      +label
5981      +Max_VIF_Train='MaximumVIF for variables on training dataset'
5982      +Max_Vif_Valid='MaximumVIF for variables on validating dataset'
5983      +Max_Pearson_Train='MaximumPearson correlation for variables on training dataset'
5984      +Max_Pearson_Valid='MaximumPearson correlation for variables on validating dataset'
5985      +Max_Con_Index_Train='MaximumCondition Index for variables on training dataset'
5986      +Max_Con_Index_Valid='MaximumCondition Index for variables on validating dataset'
5987      +;
5988      +table Max_VIF_Train Max_Vif_Valid
5989      +Max_Pearson_Train Max_Pearson_Valid
5990      +Max_Con_Index_Train Max_Con_Index_Valid , sum=''*f=best12.;
5991      +run;

NOTE: There were 1 observations read from the data set WORK.MODEL.
NOTE: PROCEDURE TABULATE used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
      

5992      +
5993      +proc sql;
5994      +create table eff as
5995      +select
5996      +_Variable_ as variable,DF,Estimate,StdErr,WaldChiSq,ProbChiSq
5997      +from
295                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

5998      +modele.Scorecard_effects&the_best_model as z1, sc as z2
5999      +where upcase(substr(variable,5))=upcase(substr(_variable_,1,16));
NOTE: Table WORK.EFF created, with 7 rows and 6 columns.

6000      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

6001      +proc sort data=eff;
6002      +by descending estimate;
6003      +run;

NOTE: There were 7 observations read from the data set WORK.EFF.
NOTE: The data set WORK.EFF has 7 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

6004      +/*effects*/
6005      +title "Effects in the model";
6006      +title2;
6007      +ods proclabel="Effects in the model";
6008      +proc print data=eff noobs label;
6009      +var Variable DF Estimate StdErr WaldChiSq ProbChiSq;
6010      +where variable ne 'Intercept';
6011      +run;

NOTE: There were 7 observations read from the data set WORK.EFF.
      WHERE variable not = 'Intercept';
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

6012      +
6013      +/*bootstrap*/
6014      +title "Bootstrap for Gini";
6015      +title2;
6016      +ods proclabel="Bootstrap for Gini";
6017      +ods html select Moments BasicMeasures BasicIntervals
6018      +TestsForNormality;
6019      +proc univariate data=modele.bootstrap&the_best_model all;
6020      +var ar;
6021      +label ar='Gini';
6022      +run;

NOTE: The trimmed/winsorized mean with specifying number of observations is not evaluated for variable ar since it is greater than or equal to half the number of nonmissing observations, 2.
NOTE: The trimmed/winsorized mean with specifying number of observations is not evaluated for variable ar since it is greater than or equal to half the number of nonmissing observations, 2.
NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.23 seconds
      cpu time            0.07 seconds
      

6023      +
6024      +title "Bootstrap for Gini graph";
6025      +title2;
6026      +ods proclabel="Bootstrap for Gini graph";
6027      +proc gchart data=modele.bootstrap&the_best_model;
6028      +vbar3d ar / levels=&il_podzialow type=percent;
6029      +label ar='Gini';
6030      +run;

6031      +quit;

NOTE: There were 2 observations read from the data set MODELE.BOOTSTRAP1.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
296                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

      cpu time            0.35 seconds
      

6032      +
6033      +title "Bootstrap for KS";
6034      +title2;
6035      +ods proclabel="Bootstrap for KS";
6036      +ods html select Moments BasicMeasures BasicIntervals
6037      +TestsForNormality;
6038      +proc univariate data=modele.bootstrap&the_best_model all;
6039      +var ks;
6040      +run;

NOTE: The trimmed/winsorized mean with specifying number of observations is not evaluated for variable ks since it is greater than or equal to half the number of nonmissing observations, 2.
NOTE: The trimmed/winsorized mean with specifying number of observations is not evaluated for variable ks since it is greater than or equal to half the number of nonmissing observations, 2.
NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
      

6041      +
6042      +title "Bootstrap for KS graph";
6043      +title2;
6044      +ods proclabel="Bootstrap for KS graph";
6045      +proc gchart data=modele.bootstrap&the_best_model;
6046      +vbar3d ks / levels=&il_podzialow type=percent;
6047      +run;

6048      +quit;

NOTE: There were 2 observations read from the data set MODELE.BOOTSTRAP1.
NOTE: PROCEDURE GCHART used (Total process time):
      real time           0.65 seconds
      cpu time            0.37 seconds
      

6049      +
6050      +
6051      +
6052      +
6053      +ods html close;
6054      +ods listing;
6055      +goptions reset=all device=win;
NOTE: %INCLUDE (level 1) ending.
6056       
6057       
6058       %include "&kat_kody.kod_skorowanie.sas" / source2;
NOTE: %INCLUDE (level 1) file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\kod_skorowanie.sas is file c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\kody\kod_skorowanie.sas.
6059      +/*  (c) Karol Przanowski   */
6060      +/*    kprzan@sgh.waw.pl    */
6061      +
6062      +
6063      +
6064      +%let kat_kodowanie=%sysfunc(pathname(wyj));
6065      +
6066      +/*na razie missing wrzucamy wed³ug porz¹dku
6067      +zale¿nie od tego czy to jest model ryzyka czy response*/
6068      +data scorecard;
6069      +set modele.Scorecard_Scorecard&the_best_model(
6070      +rename=(_variable_=zmienna _label_=war));
6071      +otherwise_ind=(war='otherwise');
6072      +run;

NOTE: There were 24 observations read from the data set MODELE.SCORECARD_SCORECARD1.
NOTE: The data set WORK.SCORECARD has 24 observations and 17 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

297                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

6073      +
6074      +proc sort data=scorecard
6075      +out=p;
6076      +by zmienna otherwise_ind &porz_tar br;
6077      +run;

NOTE: There were 24 observations read from the data set WORK.SCORECARD.
NOTE: The data set WORK.P has 24 observations and 17 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
      

6078      +proc sql;
6079      +create table wyj.Dobre_zmienne_model
6080      +as select distinct _variable_
6081      +from modele.Scorecard_Scorecard&the_best_model;
NOTE: Table WYJ.DOBRE_ZMIENNE_MODEL created, with 7 rows and 1 columns.

6082      +quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
      

6083      +/*teraz prawdziwe skorowanie*/
6084      +
6085      +
6086      +filename kod "&kat_kodowanie.\kod_do_skorowania.sas";
6087      +data _null_;
6088      +length przed za $100 naz $300;
6089      +file kod;
6090      +if _n_=1 then do;
6091      +put 'data &zbior._score;';
6092      +put 'set &zbior;';
6093      +put "&zm = 0;";
6094      +end;
6095      +
6096      +do i=1 to ilobs;
6097      +set p nobs=ilobs;
6098      +by zmienna;
6099      +
6100      +if war ne 'otherwise' then do;
6101      +	if first.zmienna then do;
6102      +		if substr(war,1,4)='when' then do;
6103      +		przed='';za='';
6104      +		put "select (" zmienna ");";
6105      +		end; else do;
6106      +		przed='when (';za=')';
6107      +		put "select;";
6108      +		end;
6109      +	end;
6110      +
6111      +	put przed war za "do;";
6112      +	naz="&zm=sum(&zm,"||trim(put(&zm,best12.-L))||');';
6113      +	put naz;
6114      +
6115      +	naz="PSC_"||compress(zmienna)||"="||trim(put(&zm,best12.-L))||";";
6116      +	put naz;
6117      +
6118      +	put "end;";
6119      +end;
6120      +
6121      +
6122      +if last.zmienna then do;
6123      +	put 'otherwise do;';
6124      +	naz="&zm=sum(&zm,"||trim(put(&zm,best12.-L))||');';
6125      +	put naz;
6126      +
6127      +	naz="PSC_"||compress(zmienna)||"="||trim(put(&zm,best12.-L))||";";
298                                                                                                                      The SAS System                                                                                         08:20 Saturday, January 25, 2014

6128      +	put naz;
6129      +
6130      +    put 'end; end;';
6131      +end;
6132      +
6133      +end;
6134      +
6135      +put "run;";
6136      +run;

NOTE: The file KOD is:
      Filename=c:\karol\analiza6_poziom_klienta\project\students\11111\modelowanie_rj\5_model_all2\wyj\kod_do_skorowania.sas,
      RECFM=V,LRECL=256,File Size (bytes)=0,
      Last Modified=25 styczeñ 2014 08:57:59,
      Create Time=25 styczeñ 2014 08:57:59

NOTE: 135 records were written to the file KOD.
      The minimum record length was 4.
      The maximum record length was 80.
NOTE: There were 24 observations read from the data set WORK.P.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
      

6137      +
NOTE: %INCLUDE (level 1) ending.
ERROR: Errors printed on page 180.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           37:59.15
      cpu time            33:21.44
      
